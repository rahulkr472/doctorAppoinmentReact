var N1=Object.defineProperty;var R1=(r,e,t)=>e in r?N1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var we=(r,e,t)=>R1(r,typeof e!="symbol"?e+"":e,t);import{jsx as T,jsxs as B}from"react/jsx-runtime";function A1(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ag(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function O1(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Gp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function M1(){if(nw)return Ue;nw=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function b(Y,ne,oe){this.props=Y,this.context=ne,this.refs=S,this.updater=oe||_}b.prototype.isReactComponent={},b.prototype.setState=function(Y,ne){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ne,"setState")},b.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function N(){}N.prototype=b.prototype;function P(Y,ne,oe){this.props=Y,this.context=ne,this.refs=S,this.updater=oe||_}var R=P.prototype=new N;R.constructor=P,x(R,b.prototype),R.isPureReactComponent=!0;var O=Array.isArray,U=Object.prototype.hasOwnProperty,H={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(Y,ne,oe){var Le,Ae={},Fe=null,ze=null;if(ne!=null)for(Le in ne.ref!==void 0&&(ze=ne.ref),ne.key!==void 0&&(Fe=""+ne.key),ne)U.call(ne,Le)&&!D.hasOwnProperty(Le)&&(Ae[Le]=ne[Le]);var He=arguments.length-2;if(He===1)Ae.children=oe;else if(1<He){for(var Ze=Array(He),bt=0;bt<He;bt++)Ze[bt]=arguments[bt+2];Ae.children=Ze}if(Y&&Y.defaultProps)for(Le in He=Y.defaultProps,He)Ae[Le]===void 0&&(Ae[Le]=He[Le]);return{$$typeof:r,type:Y,key:Fe,ref:ze,props:Ae,_owner:H.current}}function A(Y,ne){return{$$typeof:r,type:Y.type,key:ne,ref:Y.ref,props:Y.props,_owner:Y._owner}}function V(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function z(Y){var ne={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(oe){return ne[oe]})}var j=/\/+/g;function M(Y,ne){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):ne.toString(36)}function ae(Y,ne,oe,Le,Ae){var Fe=typeof Y;(Fe==="undefined"||Fe==="boolean")&&(Y=null);var ze=!1;if(Y===null)ze=!0;else switch(Fe){case"string":case"number":ze=!0;break;case"object":switch(Y.$$typeof){case r:case e:ze=!0}}if(ze)return ze=Y,Ae=Ae(ze),Y=Le===""?"."+M(ze,0):Le,O(Ae)?(oe="",Y!=null&&(oe=Y.replace(j,"$&/")+"/"),ae(Ae,ne,oe,"",function(bt){return bt})):Ae!=null&&(V(Ae)&&(Ae=A(Ae,oe+(!Ae.key||ze&&ze.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+Y)),ne.push(Ae)),1;if(ze=0,Le=Le===""?".":Le+":",O(Y))for(var He=0;He<Y.length;He++){Fe=Y[He];var Ze=Le+M(Fe,He);ze+=ae(Fe,ne,oe,Ze,Ae)}else if(Ze=y(Y),typeof Ze=="function")for(Y=Ze.call(Y),He=0;!(Fe=Y.next()).done;)Fe=Fe.value,Ze=Le+M(Fe,He++),ze+=ae(Fe,ne,oe,Ze,Ae);else if(Fe==="object")throw ne=String(Y),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return ze}function te(Y,ne,oe){if(Y==null)return Y;var Le=[],Ae=0;return ae(Y,Le,"","",function(Fe){return ne.call(oe,Fe,Ae++)}),Le}function pe(Y){if(Y._status===-1){var ne=Y._result;ne=ne(),ne.then(function(oe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=oe)},function(oe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=oe)}),Y._status===-1&&(Y._status=0,Y._result=ne)}if(Y._status===1)return Y._result.default;throw Y._result}var le={current:null},Z={transition:null},fe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Z,ReactCurrentOwner:H};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:te,forEach:function(Y,ne,oe){te(Y,function(){ne.apply(this,arguments)},oe)},count:function(Y){var ne=0;return te(Y,function(){ne++}),ne},toArray:function(Y){return te(Y,function(ne){return ne})||[]},only:function(Y){if(!V(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ue.Component=b,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=P,Ue.StrictMode=n,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ue.act=ie,Ue.cloneElement=function(Y,ne,oe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Le=x({},Y.props),Ae=Y.key,Fe=Y.ref,ze=Y._owner;if(ne!=null){if(ne.ref!==void 0&&(Fe=ne.ref,ze=H.current),ne.key!==void 0&&(Ae=""+ne.key),Y.type&&Y.type.defaultProps)var He=Y.type.defaultProps;for(Ze in ne)U.call(ne,Ze)&&!D.hasOwnProperty(Ze)&&(Le[Ze]=ne[Ze]===void 0&&He!==void 0?He[Ze]:ne[Ze])}var Ze=arguments.length-2;if(Ze===1)Le.children=oe;else if(1<Ze){He=Array(Ze);for(var bt=0;bt<Ze;bt++)He[bt]=arguments[bt+2];Le.children=He}return{$$typeof:r,type:Y.type,key:Ae,ref:Fe,props:Le,_owner:ze}},Ue.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},Ue.createElement=C,Ue.createFactory=function(Y){var ne=C.bind(null,Y);return ne.type=Y,ne},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(Y){return{$$typeof:c,render:Y}},Ue.isValidElement=V,Ue.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:pe}},Ue.memo=function(Y,ne){return{$$typeof:h,type:Y,compare:ne===void 0?null:ne}},Ue.startTransition=function(Y){var ne=Z.transition;Z.transition={};try{Y()}finally{Z.transition=ne}},Ue.unstable_act=ie,Ue.useCallback=function(Y,ne){return le.current.useCallback(Y,ne)},Ue.useContext=function(Y){return le.current.useContext(Y)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(Y){return le.current.useDeferredValue(Y)},Ue.useEffect=function(Y,ne){return le.current.useEffect(Y,ne)},Ue.useId=function(){return le.current.useId()},Ue.useImperativeHandle=function(Y,ne,oe){return le.current.useImperativeHandle(Y,ne,oe)},Ue.useInsertionEffect=function(Y,ne){return le.current.useInsertionEffect(Y,ne)},Ue.useLayoutEffect=function(Y,ne){return le.current.useLayoutEffect(Y,ne)},Ue.useMemo=function(Y,ne){return le.current.useMemo(Y,ne)},Ue.useReducer=function(Y,ne,oe){return le.current.useReducer(Y,ne,oe)},Ue.useRef=function(Y){return le.current.useRef(Y)},Ue.useState=function(Y){return le.current.useState(Y)},Ue.useSyncExternalStore=function(Y,ne,oe){return le.current.useSyncExternalStore(Y,ne,oe)},Ue.useTransition=function(){return le.current.useTransition()},Ue.version="18.3.1",Ue}var rw;function qE(){return rw||(rw=1,Gp.exports=M1()),Gp.exports}var L=qE();const X=Ag(L),L1=A1({__proto__:null,default:X},[L]);var wd={},Xp={exports:{}},Mn={},Jp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function V1(){return iw||(iw=1,function(r){function e(Z,fe){var ie=Z.length;Z.push(fe);e:for(;0<ie;){var Y=ie-1>>>1,ne=Z[Y];if(0<i(ne,fe))Z[Y]=fe,Z[ie]=ne,ie=Y;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var fe=Z[0],ie=Z.pop();if(ie!==fe){Z[0]=ie;e:for(var Y=0,ne=Z.length,oe=ne>>>1;Y<oe;){var Le=2*(Y+1)-1,Ae=Z[Le],Fe=Le+1,ze=Z[Fe];if(0>i(Ae,ie))Fe<ne&&0>i(ze,Ae)?(Z[Y]=ze,Z[Fe]=ie,Y=Fe):(Z[Y]=Ae,Z[Le]=ie,Y=Le);else if(Fe<ne&&0>i(ze,ie))Z[Y]=ze,Z[Fe]=ie,Y=Fe;else break e}}return fe}function i(Z,fe){var ie=Z.sortIndex-fe.sortIndex;return ie!==0?ie:Z.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,y=3,_=!1,x=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Z){for(var fe=t(h);fe!==null;){if(fe.callback===null)n(h);else if(fe.startTime<=Z)n(h),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(h)}}function O(Z){if(S=!1,R(Z),!x)if(t(d)!==null)x=!0,pe(U);else{var fe=t(h);fe!==null&&le(O,fe.startTime-Z)}}function U(Z,fe){x=!1,S&&(S=!1,N(C),C=-1),_=!0;var ie=y;try{for(R(fe),g=t(d);g!==null&&(!(g.expirationTime>fe)||Z&&!z());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,y=g.priorityLevel;var ne=Y(g.expirationTime<=fe);fe=r.unstable_now(),typeof ne=="function"?g.callback=ne:g===t(d)&&n(d),R(fe)}else n(d);g=t(d)}if(g!==null)var oe=!0;else{var Le=t(h);Le!==null&&le(O,Le.startTime-fe),oe=!1}return oe}finally{g=null,y=ie,_=!1}}var H=!1,D=null,C=-1,A=5,V=-1;function z(){return!(r.unstable_now()-V<A)}function j(){if(D!==null){var Z=r.unstable_now();V=Z;var fe=!0;try{fe=D(!0,Z)}finally{fe?M():(H=!1,D=null)}}else H=!1}var M;if(typeof P=="function")M=function(){P(j)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=j,M=function(){te.postMessage(null)}}else M=function(){b(j,0)};function pe(Z){D=Z,H||(H=!0,M())}function le(Z,fe){C=b(function(){Z(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){x||_||(x=!0,pe(U))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var fe=3;break;default:fe=y}var ie=y;y=fe;try{return Z()}finally{y=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=y;y=Z;try{return fe()}finally{y=ie}},r.unstable_scheduleCallback=function(Z,fe,ie){var Y=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Y+ie:Y):ie=Y,Z){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ie+ne,Z={id:m++,callback:fe,priorityLevel:Z,startTime:ie,expirationTime:ne,sortIndex:-1},ie>Y?(Z.sortIndex=ie,e(h,Z),t(d)===null&&Z===t(h)&&(S?(N(C),C=-1):S=!0,le(O,ie-Y))):(Z.sortIndex=ne,e(d,Z),x||_||(x=!0,pe(U))),Z},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(Z){var fe=y;return function(){var ie=y;y=fe;try{return Z.apply(this,arguments)}finally{y=ie}}}}(Zp)),Zp}var sw;function F1(){return sw||(sw=1,Jp.exports=V1()),Jp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function U1(){if(ow)return Mn;ow=1;var r=qE(),e=F1();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return d.call(g,s)?!0:d.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function _(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,u,p){if(a===null||typeof a>"u"||_(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(s,a,u,p,v,E,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new S(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,P);b[a]=new S(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,P);b[a]=new S(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,P);b[a]=new S(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,a,u,p){var v=b.hasOwnProperty(a)?b[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,u,v,p)&&(u=null),p||v===null?y(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,p=v.attributeNamespace,u===null?s.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var O=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),H=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Z=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,Y;function ne(s){if(Y===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Y=a&&a[1]||""}return`
`+Y+s}var oe=!1;function Le(s,a){if(!s||oe)return"";oe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var p=J}Reflect.construct(s,[],a)}else{try{a.call()}catch(J){p=J}s.call(a.prototype)}else{try{throw Error()}catch(J){p=J}s()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var v=J.stack.split(`
`),E=p.stack.split(`
`),I=v.length-1,W=E.length-1;1<=I&&0<=W&&v[I]!==E[W];)W--;for(;1<=I&&0<=W;I--,W--)if(v[I]!==E[W]){if(I!==1||W!==1)do if(I--,W--,0>W||v[I]!==E[W]){var $=`
`+v[I].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=I&&0<=W);break}}}finally{oe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ne(s):""}function Ae(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=Le(s.type,!1),s;case 11:return s=Le(s.type.render,!1),s;case 1:return s=Le(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case H:return"Portal";case A:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case z:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case j:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return a=s.displayName||null,a!==null?a:Fe(s.type)||"Memo";case pe:a=s._payload,s=s._init;try{return Fe(s(a))}catch{}}return null}function ze(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ze(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bt(s){var a=Ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,E=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(I){p=""+I,E.call(this,I)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Qt(s){s._valueTracker||(s._valueTracker=bt(s))}function Xn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Ze(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ot(s,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function mt(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=He(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function It(s,a){a=a.checked,a!=null&&R(s,"checked",a,!1)}function Jn(s,a){It(s,a);var u=He(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ws(s,a.type,u):a.hasOwnProperty("defaultValue")&&Ws(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Gt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ws(s,a,u){(a!=="number"||ye(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Zn=Array.isArray;function Bn(s,a,u,p){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&p&&(s[u].defaultSelected=!0)}else{for(u=""+He(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Hs(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qi(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Zn(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:He(u)}}function hi(s,a){var u=He(a.value),p=He(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function ml(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function zt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?zt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var pi,gl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,v){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(pi=pi||document.createElement("div"),pi.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=pi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ki(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ys=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(s){Ys.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),$s[a]=$s[s]})});function yl(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||$s.hasOwnProperty(s)&&$s[s]?(""+a).trim():a+"px"}function vl(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=yl(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,v):s[u]=v}}var _l=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(s,a){if(a){if(_l[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function El(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function jo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wo=null,er=null,Or=null;function Ho(s){if(s=$l(s)){if(typeof Wo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Mc(a),Wo(s.stateNode,s.type,a))}}function Mr(s){er?Or?Or.push(s):Or=[s]:er=s}function bl(){if(er){var s=er,a=Or;if(Or=er=null,Ho(s),a)for(s=0;s<a.length;s++)Ho(a[s])}}function Ks(s,a){return s(a)}function Tl(){}var mi=!1;function xl(s,a,u){if(mi)return s(a,u);mi=!0;try{return Ks(s,a,u)}finally{mi=!1,(er!==null||Or!==null)&&(Tl(),bl())}}function Nt(s,a){var u=s.stateNode;if(u===null)return null;var p=Mc(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var $o=!1;if(c)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){$o=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{$o=!1}function Qs(s,a,u,p,v,E,I,W,$){var J=Array.prototype.slice.call(arguments,3);try{a.apply(u,J)}catch(ue){this.onError(ue)}}var Gs=!1,Yo=null,mr=!1,Sl=null,xh={onError:function(s){Gs=!0,Yo=s}};function qo(s,a,u,p,v,E,I,W,$){Gs=!1,Yo=null,Qs.apply(xh,arguments)}function oc(s,a,u,p,v,E,I,W,$){if(qo.apply(this,arguments),Gs){if(Gs){var J=Yo;Gs=!1,Yo=null}else throw Error(t(198));mr||(mr=!0,Sl=J)}}function gr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Xs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function yr(s){if(gr(s)!==s)throw Error(t(188))}function ac(s){var a=s.alternate;if(!a){if(a=gr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var v=u.return;if(v===null)break;var E=v.alternate;if(E===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===u)return yr(v),s;if(E===p)return yr(v),a;E=E.sibling}throw Error(t(188))}if(u.return!==p.return)u=v,p=E;else{for(var I=!1,W=v.child;W;){if(W===u){I=!0,u=v,p=E;break}if(W===p){I=!0,p=v,u=E;break}W=W.sibling}if(!I){for(W=E.child;W;){if(W===u){I=!0,u=E,p=v;break}if(W===p){I=!0,p=E,u=v;break}W=W.sibling}if(!I)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function kl(s){return s=ac(s),s!==null?Ko(s):null}function Ko(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ko(s);if(a!==null)return a;s=s.sibling}return null}var Qo=e.unstable_scheduleCallback,Cl=e.unstable_cancelCallback,lc=e.unstable_shouldYield,Sh=e.unstable_requestPaint,lt=e.unstable_now,uc=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Qi=e.unstable_UserBlockingPriority,tr=e.unstable_NormalPriority,Il=e.unstable_LowPriority,cc=e.unstable_IdlePriority,Zs=null,zn=null;function dc(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Zs,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:hc,Dl=Math.log,fc=Math.LN2;function hc(s){return s>>>=0,s===0?32:31-(Dl(s)/fc|0)|0}var Go=64,Xo=4194304;function Gi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function eo(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,v=s.suspendedLanes,E=s.pingedLanes,I=u&268435455;if(I!==0){var W=I&~v;W!==0?p=Gi(W):(E&=I,E!==0&&(p=Gi(E)))}else I=u&~v,I!==0?p=Gi(I):E!==0&&(p=Gi(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&v)&&(v=p&-p,E=a&-a,v>=E||v===16&&(E&4194240)!==0))return a;if(p&4&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-wn(a),v=1<<u,p|=s[u],a&=~v;return p}function kh(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes;0<E;){var I=31-wn(E),W=1<<I,$=v[I];$===-1?(!(W&u)||W&p)&&(v[I]=kh(W,a)):$<=a&&(s.expiredLanes|=W),E&=~W}}function jn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function to(){var s=Go;return Go<<=1,!(Go&4194240)&&(Go=64),s}function Xi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ji(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wn(a),s[a]=u}function at(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-wn(u),E=1<<v;a[v]=0,p[v]=-1,s[v]=-1,u&=~E}}function Zi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-wn(u),v=1<<p;v&a|s[p]&a&&(s[p]|=a),u&=~v}}var $e=0;function es(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var pc,Jo,mc,gc,yc,Pl=!1,Lr=[],rn=null,vr=null,_r=null,ts=new Map,nr=new Map,Vr=[],Ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(s,a){switch(s){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ts.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(a.pointerId)}}function In(s,a,u,p,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[v]},a!==null&&(a=$l(a),a!==null&&Jo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function Ih(s,a,u,p,v){switch(a){case"focusin":return rn=In(rn,s,a,u,p,v),!0;case"dragenter":return vr=In(vr,s,a,u,p,v),!0;case"mouseover":return _r=In(_r,s,a,u,p,v),!0;case"pointerover":var E=v.pointerId;return ts.set(E,In(ts.get(E)||null,s,a,u,p,v)),!0;case"gotpointercapture":return E=v.pointerId,nr.set(E,In(nr.get(E)||null,s,a,u,p,v)),!0}return!1}function _c(s){var a=oo(s.target);if(a!==null){var u=gr(a);if(u!==null){if(a=u.tag,a===13){if(a=Xs(u),a!==null){s.blockedOn=a,yc(s.priority,function(){mc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Zo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);qs=p,u.target.dispatchEvent(p),qs=null}else return a=$l(u),a!==null&&Jo(a),s.blockedOn=u,!1;a.shift()}return!0}function no(s,a,u){yi(s)&&u.delete(a)}function wc(){Pl=!1,rn!==null&&yi(rn)&&(rn=null),vr!==null&&yi(vr)&&(vr=null),_r!==null&&yi(_r)&&(_r=null),ts.forEach(no),nr.forEach(no)}function wr(s,a){s.blockedOn===a&&(s.blockedOn=null,Pl||(Pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wc)))}function Er(s){function a(v){return wr(v,s)}if(0<Lr.length){wr(Lr[0],s);for(var u=1;u<Lr.length;u++){var p=Lr[u];p.blockedOn===s&&(p.blockedOn=null)}}for(rn!==null&&wr(rn,s),vr!==null&&wr(vr,s),_r!==null&&wr(_r,s),ts.forEach(a),nr.forEach(a),u=0;u<Vr.length;u++)p=Vr[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<Vr.length&&(u=Vr[0],u.blockedOn===null);)_c(u),u.blockedOn===null&&Vr.shift()}var vi=O.ReactCurrentBatchConfig,ns=!0;function gt(s,a,u,p){var v=$e,E=vi.transition;vi.transition=null;try{$e=1,Nl(s,a,u,p)}finally{$e=v,vi.transition=E}}function Dh(s,a,u,p){var v=$e,E=vi.transition;vi.transition=null;try{$e=4,Nl(s,a,u,p)}finally{$e=v,vi.transition=E}}function Nl(s,a,u,p){if(ns){var v=Zo(s,a,u,p);if(v===null)Bh(s,a,p,ro,u),vc(s,p);else if(Ih(v,s,a,u,p))p.stopPropagation();else if(vc(s,p),a&4&&-1<Ch.indexOf(s)){for(;v!==null;){var E=$l(v);if(E!==null&&pc(E),E=Zo(s,a,u,p),E===null&&Bh(s,a,p,ro,u),E===v)break;v=E}v!==null&&p.stopPropagation()}else Bh(s,a,p,null,u)}}var ro=null;function Zo(s,a,u,p){if(ro=null,s=jo(p),s=oo(s),s!==null)if(a=gr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Xs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ro=s,null}function Rl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uc()){case Js:return 1;case Qi:return 4;case tr:case Il:return 16;case cc:return 536870912;default:return 16}default:return 16}}var Wn=null,ea=null,Dn=null;function Al(){if(Dn)return Dn;var s,a=ea,u=a.length,p,v="value"in Wn?Wn.value:Wn.textContent,E=v.length;for(s=0;s<u&&a[s]===v[s];s++);var I=u-s;for(p=1;p<=I&&a[u-p]===v[E-p];p++);return Dn=v.slice(s,1<p?1-p:void 0)}function ta(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Fr(){return!0}function Ol(){return!1}function sn(s){function a(u,p,v,E,I){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(u=s[W],this[W]=u?u(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Fr:Ol,this.isPropagationStopped=Ol,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),a}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=sn(br),Ur=ie({},br,{view:0,detail:0}),Ph=sn(Ur),ra,_i,rs,io=ie({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rs&&(rs&&s.type==="mousemove"?(ra=s.screenX-rs.screenX,_i=s.screenY-rs.screenY):_i=ra=0,rs=s),ra)},movementY:function(s){return"movementY"in s?s.movementY:_i}}),ia=sn(io),Ml=ie({},io,{dataTransfer:0}),Ec=sn(Ml),sa=ie({},Ur,{relatedTarget:0}),oa=sn(sa),bc=ie({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),wi=sn(bc),Tc=ie({},br,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xc=sn(Tc),Sc=ie({},br,{data:0}),Ll=sn(Sc),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=kc[s])?!!a[s]:!1}function Br(){return Cc}var f=ie({},Ur,{key:function(s){if(s.key){var a=aa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?En[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(s){return s.type==="keypress"?ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=sn(f),k=ie({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=sn(k),K=ie({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),ee=sn(K),me=ie({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=sn(me),Wt=ie({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=sn(Wt),Xt=[9,13,27,32],Lt=c&&"CompositionEvent"in window,rr=null;c&&"documentMode"in document&&(rr=document.documentMode);var Hn=c&&"TextEvent"in window&&!rr,so=c&&(!Lt||rr&&8<rr&&11>=rr),la=" ",Gy=!1;function Xy(s,a){switch(s){case"keyup":return Xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ua=!1;function DS(s,a){switch(s){case"compositionend":return Jy(a);case"keypress":return a.which!==32?null:(Gy=!0,la);case"textInput":return s=a.data,s===la&&Gy?null:s;default:return null}}function PS(s,a){if(ua)return s==="compositionend"||!Lt&&Xy(s,a)?(s=Al(),Dn=ea=Wn=null,ua=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return so&&a.locale!=="ko"?null:a.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!NS[s.type]:a==="textarea"}function ev(s,a,u,p){Mr(p),a=Rc(a,"onChange"),0<a.length&&(u=new na("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var Vl=null,Fl=null;function RS(s){vv(s,0)}function Ic(s){var a=pa(s);if(Xn(a))return s}function AS(s,a){if(s==="change")return a}var tv=!1;if(c){var Nh;if(c){var Rh="oninput"in document;if(!Rh){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),Rh=typeof nv.oninput=="function"}Nh=Rh}else Nh=!1;tv=Nh&&(!document.documentMode||9<document.documentMode)}function rv(){Vl&&(Vl.detachEvent("onpropertychange",iv),Fl=Vl=null)}function iv(s){if(s.propertyName==="value"&&Ic(Fl)){var a=[];ev(a,Fl,s,jo(s)),xl(RS,a)}}function OS(s,a,u){s==="focusin"?(rv(),Vl=a,Fl=u,Vl.attachEvent("onpropertychange",iv)):s==="focusout"&&rv()}function MS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ic(Fl)}function LS(s,a){if(s==="click")return Ic(a)}function VS(s,a){if(s==="input"||s==="change")return Ic(a)}function FS(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Tr=typeof Object.is=="function"?Object.is:FS;function Ul(s,a){if(Tr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!d.call(a,v)||!Tr(s[v],a[v]))return!1}return!0}function sv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ov(s,a){var u=sv(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=sv(u)}}function av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function lv(){for(var s=window,a=ye();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ye(s.document)}return a}function Ah(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function US(s){var a=lv(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&av(u.ownerDocument.documentElement,u)){if(p!==null&&Ah(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,E=Math.min(p.start,v);p=p.end===void 0?E:Math.min(p.end,v),!s.extend&&E>p&&(v=p,p=E,E=v),v=ov(u,E);var I=ov(u,p);v&&I&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),E>p?(s.addRange(a),s.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var BS=c&&"documentMode"in document&&11>=document.documentMode,ca=null,Oh=null,Bl=null,Mh=!1;function uv(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mh||ca==null||ca!==ye(p)||(p=ca,"selectionStart"in p&&Ah(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Bl&&Ul(Bl,p)||(Bl=p,p=Rc(Oh,"onSelect"),0<p.length&&(a=new na("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=ca)))}function Dc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var da={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Lh={},cv={};c&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Pc(s){if(Lh[s])return Lh[s];if(!da[s])return s;var a=da[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in cv)return Lh[s]=a[u];return s}var dv=Pc("animationend"),fv=Pc("animationiteration"),hv=Pc("animationstart"),pv=Pc("transitionend"),mv=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(s,a){mv.set(s,a),o(a,[s])}for(var Vh=0;Vh<gv.length;Vh++){var Fh=gv[Vh],zS=Fh.toLowerCase(),jS=Fh[0].toUpperCase()+Fh.slice(1);is(zS,"on"+jS)}is(dv,"onAnimationEnd"),is(fv,"onAnimationIteration"),is(hv,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(pv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function yv(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,oc(p,a,void 0,s),s.currentTarget=null}function vv(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],v=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var I=p.length-1;0<=I;I--){var W=p[I],$=W.instance,J=W.currentTarget;if(W=W.listener,$!==E&&v.isPropagationStopped())break e;yv(v,W,J),E=$}else for(I=0;I<p.length;I++){if(W=p[I],$=W.instance,J=W.currentTarget,W=W.listener,$!==E&&v.isPropagationStopped())break e;yv(v,W,J),E=$}}}if(mr)throw s=Sl,mr=!1,Sl=null,s}function ct(s,a){var u=a[Yh];u===void 0&&(u=a[Yh]=new Set);var p=s+"__bubble";u.has(p)||(_v(a,s,2,!1),u.add(p))}function Uh(s,a,u){var p=0;a&&(p|=4),_v(u,s,p,a)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function jl(s){if(!s[Nc]){s[Nc]=!0,n.forEach(function(u){u!=="selectionchange"&&(WS.has(u)||Uh(u,!1,s),Uh(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nc]||(a[Nc]=!0,Uh("selectionchange",!1,a))}}function _v(s,a,u,p){switch(Rl(a)){case 1:var v=gt;break;case 4:v=Dh;break;default:v=Nl}u=v.bind(null,a,u,s),v=void 0,!$o||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Bh(s,a,u,p,v){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var W=p.stateNode.containerInfo;if(W===v||W.nodeType===8&&W.parentNode===v)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&($=I.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;I=I.return}for(;W!==null;){if(I=oo(W),I===null)return;if($=I.tag,$===5||$===6){p=E=I;continue e}W=W.parentNode}}p=p.return}xl(function(){var J=E,ue=jo(u),de=[];e:{var se=mv.get(s);if(se!==void 0){var ve=na,Te=s;switch(s){case"keypress":if(ta(u)===0)break e;case"keydown":case"keyup":ve=w;break;case"focusin":Te="focus",ve=oa;break;case"focusout":Te="blur",ve=oa;break;case"beforeblur":case"afterblur":ve=oa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ee;break;case dv:case fv:case hv:ve=wi;break;case pv:ve=nt;break;case"scroll":ve=Ph;break;case"wheel":ve=qe;break;case"copy":case"cut":case"paste":ve=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=F}var xe=(a&4)!==0,Rt=!xe&&s==="scroll",Q=xe?se!==null?se+"Capture":null:se;xe=[];for(var q=J,G;q!==null;){G=q;var he=G.stateNode;if(G.tag===5&&he!==null&&(G=he,Q!==null&&(he=Nt(q,Q),he!=null&&xe.push(Wl(q,he,G)))),Rt)break;q=q.return}0<xe.length&&(se=new ve(se,Te,null,u,ue),de.push({event:se,listeners:xe}))}}if(!(a&7)){e:{if(se=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",se&&u!==qs&&(Te=u.relatedTarget||u.fromElement)&&(oo(Te)||Te[Ei]))break e;if((ve||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Te=u.relatedTarget||u.toElement,ve=J,Te=Te?oo(Te):null,Te!==null&&(Rt=gr(Te),Te!==Rt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ve=null,Te=J),ve!==Te)){if(xe=ia,he="onMouseLeave",Q="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(xe=F,he="onPointerLeave",Q="onPointerEnter",q="pointer"),Rt=ve==null?se:pa(ve),G=Te==null?se:pa(Te),se=new xe(he,q+"leave",ve,u,ue),se.target=Rt,se.relatedTarget=G,he=null,oo(ue)===J&&(xe=new xe(Q,q+"enter",Te,u,ue),xe.target=G,xe.relatedTarget=Rt,he=xe),Rt=he,ve&&Te)t:{for(xe=ve,Q=Te,q=0,G=xe;G;G=fa(G))q++;for(G=0,he=Q;he;he=fa(he))G++;for(;0<q-G;)xe=fa(xe),q--;for(;0<G-q;)Q=fa(Q),G--;for(;q--;){if(xe===Q||Q!==null&&xe===Q.alternate)break t;xe=fa(xe),Q=fa(Q)}xe=null}else xe=null;ve!==null&&wv(de,se,ve,xe,!1),Te!==null&&Rt!==null&&wv(de,Rt,Te,xe,!0)}}e:{if(se=J?pa(J):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var Se=AS;else if(Zy(se))if(tv)Se=VS;else{Se=MS;var Ce=OS}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=LS);if(Se&&(Se=Se(s,J))){ev(de,Se,u,ue);break e}Ce&&Ce(s,se,J),s==="focusout"&&(Ce=se._wrapperState)&&Ce.controlled&&se.type==="number"&&Ws(se,"number",se.value)}switch(Ce=J?pa(J):window,s){case"focusin":(Zy(Ce)||Ce.contentEditable==="true")&&(ca=Ce,Oh=J,Bl=null);break;case"focusout":Bl=Oh=ca=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,uv(de,u,ue);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":uv(de,u,ue)}var Ie;if(Lt)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ua?Xy(s,u)&&(Ne="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(so&&u.locale!=="ko"&&(ua||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ua&&(Ie=Al()):(Wn=ue,ea="value"in Wn?Wn.value:Wn.textContent,ua=!0)),Ce=Rc(J,Ne),0<Ce.length&&(Ne=new Ll(Ne,s,null,u,ue),de.push({event:Ne,listeners:Ce}),Ie?Ne.data=Ie:(Ie=Jy(u),Ie!==null&&(Ne.data=Ie)))),(Ie=Hn?DS(s,u):PS(s,u))&&(J=Rc(J,"onBeforeInput"),0<J.length&&(ue=new Ll("onBeforeInput","beforeinput",null,u,ue),de.push({event:ue,listeners:J}),ue.data=Ie))}vv(de,a)})}function Wl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Rc(s,a){for(var u=a+"Capture",p=[];s!==null;){var v=s,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=Nt(s,u),E!=null&&p.unshift(Wl(s,E,v)),E=Nt(s,a),E!=null&&p.push(Wl(s,E,v))),s=s.return}return p}function fa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wv(s,a,u,p,v){for(var E=a._reactName,I=[];u!==null&&u!==p;){var W=u,$=W.alternate,J=W.stateNode;if($!==null&&$===p)break;W.tag===5&&J!==null&&(W=J,v?($=Nt(u,E),$!=null&&I.unshift(Wl(u,$,W))):v||($=Nt(u,E),$!=null&&I.push(Wl(u,$,W)))),u=u.return}I.length!==0&&s.push({event:a,listeners:I})}var HS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Ev(s){return(typeof s=="string"?s:""+s).replace(HS,`
`).replace($S,"")}function Ac(s,a,u){if(a=Ev(a),Ev(s)!==a&&u)throw Error(t(425))}function Oc(){}var zh=null,jh=null;function Wh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(s){return bv.resolve(null).then(s).catch(KS)}:Hh;function KS(s){setTimeout(function(){throw s})}function $h(s,a){var u=a,p=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){s.removeChild(v),Er(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);Er(a)}function ss(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Tv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var ha=Math.random().toString(36).slice(2),zr="__reactFiber$"+ha,Hl="__reactProps$"+ha,Ei="__reactContainer$"+ha,Yh="__reactEvents$"+ha,QS="__reactListeners$"+ha,GS="__reactHandles$"+ha;function oo(s){var a=s[zr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Ei]||u[zr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Tv(s);s!==null;){if(u=s[zr])return u;s=Tv(s)}return a}s=u,u=s.parentNode}return null}function $l(s){return s=s[zr]||s[Ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function pa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Mc(s){return s[Hl]||null}var qh=[],ma=-1;function os(s){return{current:s}}function dt(s){0>ma||(s.current=qh[ma],qh[ma]=null,ma--)}function ut(s,a){ma++,qh[ma]=s.current,s.current=a}var as={},dn=os(as),Pn=os(!1),ao=as;function ga(s,a){var u=s.type.contextTypes;if(!u)return as;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in u)v[E]=a[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Nn(s){return s=s.childContextTypes,s!=null}function Lc(){dt(Pn),dt(dn)}function xv(s,a,u){if(dn.current!==as)throw Error(t(168));ut(dn,a),ut(Pn,u)}function Sv(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(t(108,ze(s)||"Unknown",v));return ie({},u,p)}function Vc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||as,ao=dn.current,ut(dn,s),ut(Pn,Pn.current),!0}function kv(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=Sv(s,a,ao),p.__reactInternalMemoizedMergedChildContext=s,dt(Pn),dt(dn),ut(dn,s)):dt(Pn),ut(Pn,u)}var bi=null,Fc=!1,Kh=!1;function Cv(s){bi===null?bi=[s]:bi.push(s)}function XS(s){Fc=!0,Cv(s)}function ls(){if(!Kh&&bi!==null){Kh=!0;var s=0,a=$e;try{var u=bi;for($e=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}bi=null,Fc=!1}catch(v){throw bi!==null&&(bi=bi.slice(s+1)),Qo(Js,ls),v}finally{$e=a,Kh=!1}}return null}var ya=[],va=0,Uc=null,Bc=0,ir=[],sr=0,lo=null,Ti=1,xi="";function uo(s,a){ya[va++]=Bc,ya[va++]=Uc,Uc=s,Bc=a}function Iv(s,a,u){ir[sr++]=Ti,ir[sr++]=xi,ir[sr++]=lo,lo=s;var p=Ti;s=xi;var v=32-wn(p)-1;p&=~(1<<v),u+=1;var E=32-wn(a)+v;if(30<E){var I=v-v%5;E=(p&(1<<I)-1).toString(32),p>>=I,v-=I,Ti=1<<32-wn(a)+v|u<<v|p,xi=E+s}else Ti=1<<E|u<<v|p,xi=s}function Qh(s){s.return!==null&&(uo(s,1),Iv(s,1,0))}function Gh(s){for(;s===Uc;)Uc=ya[--va],ya[va]=null,Bc=ya[--va],ya[va]=null;for(;s===lo;)lo=ir[--sr],ir[sr]=null,xi=ir[--sr],ir[sr]=null,Ti=ir[--sr],ir[sr]=null}var $n=null,Yn=null,yt=!1,xr=null;function Dv(s,a){var u=ur(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function Pv(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,$n=s,Yn=ss(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,$n=s,Yn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=lo!==null?{id:Ti,overflow:xi}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ur(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,$n=s,Yn=null,!0):!1;default:return!1}}function Xh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Jh(s){if(yt){var a=Yn;if(a){var u=a;if(!Pv(s,a)){if(Xh(s))throw Error(t(418));a=ss(u.nextSibling);var p=$n;a&&Pv(s,a)?Dv(p,u):(s.flags=s.flags&-4097|2,yt=!1,$n=s)}}else{if(Xh(s))throw Error(t(418));s.flags=s.flags&-4097|2,yt=!1,$n=s}}}function Nv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function zc(s){if(s!==$n)return!1;if(!yt)return Nv(s),yt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Wh(s.type,s.memoizedProps)),a&&(a=Yn)){if(Xh(s))throw Rv(),Error(t(418));for(;a;)Dv(s,a),a=ss(a.nextSibling)}if(Nv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Yn=ss(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Yn=null}}else Yn=$n?ss(s.stateNode.nextSibling):null;return!0}function Rv(){for(var s=Yn;s;)s=ss(s.nextSibling)}function _a(){Yn=$n=null,yt=!1}function Zh(s){xr===null?xr=[s]:xr.push(s)}var JS=O.ReactCurrentBatchConfig;function Yl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var v=p,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(I){var W=v.refs;I===null?delete W[E]:W[E]=I},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function jc(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Av(s){var a=s._init;return a(s._payload)}function Ov(s){function a(Q,q){if(s){var G=Q.deletions;G===null?(Q.deletions=[q],Q.flags|=16):G.push(q)}}function u(Q,q){if(!s)return null;for(;q!==null;)a(Q,q),q=q.sibling;return null}function p(Q,q){for(Q=new Map;q!==null;)q.key!==null?Q.set(q.key,q):Q.set(q.index,q),q=q.sibling;return Q}function v(Q,q){return Q=gs(Q,q),Q.index=0,Q.sibling=null,Q}function E(Q,q,G){return Q.index=G,s?(G=Q.alternate,G!==null?(G=G.index,G<q?(Q.flags|=2,q):G):(Q.flags|=2,q)):(Q.flags|=1048576,q)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function W(Q,q,G,he){return q===null||q.tag!==6?(q=Hp(G,Q.mode,he),q.return=Q,q):(q=v(q,G),q.return=Q,q)}function $(Q,q,G,he){var Se=G.type;return Se===D?ue(Q,q,G.props.children,he,G.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===pe&&Av(Se)===q.type)?(he=v(q,G.props),he.ref=Yl(Q,q,G),he.return=Q,he):(he=fd(G.type,G.key,G.props,null,Q.mode,he),he.ref=Yl(Q,q,G),he.return=Q,he)}function J(Q,q,G,he){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=$p(G,Q.mode,he),q.return=Q,q):(q=v(q,G.children||[]),q.return=Q,q)}function ue(Q,q,G,he,Se){return q===null||q.tag!==7?(q=vo(G,Q.mode,he,Se),q.return=Q,q):(q=v(q,G),q.return=Q,q)}function de(Q,q,G){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Hp(""+q,Q.mode,G),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return G=fd(q.type,q.key,q.props,null,Q.mode,G),G.ref=Yl(Q,null,q),G.return=Q,G;case H:return q=$p(q,Q.mode,G),q.return=Q,q;case pe:var he=q._init;return de(Q,he(q._payload),G)}if(Zn(q)||fe(q))return q=vo(q,Q.mode,G,null),q.return=Q,q;jc(Q,q)}return null}function se(Q,q,G,he){var Se=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Se!==null?null:W(Q,q,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return G.key===Se?$(Q,q,G,he):null;case H:return G.key===Se?J(Q,q,G,he):null;case pe:return Se=G._init,se(Q,q,Se(G._payload),he)}if(Zn(G)||fe(G))return Se!==null?null:ue(Q,q,G,he,null);jc(Q,G)}return null}function ve(Q,q,G,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(G)||null,W(q,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case U:return Q=Q.get(he.key===null?G:he.key)||null,$(q,Q,he,Se);case H:return Q=Q.get(he.key===null?G:he.key)||null,J(q,Q,he,Se);case pe:var Ce=he._init;return ve(Q,q,G,Ce(he._payload),Se)}if(Zn(he)||fe(he))return Q=Q.get(G)||null,ue(q,Q,he,Se,null);jc(q,he)}return null}function Te(Q,q,G,he){for(var Se=null,Ce=null,Ie=q,Ne=q=0,en=null;Ie!==null&&Ne<G.length;Ne++){Ie.index>Ne?(en=Ie,Ie=null):en=Ie.sibling;var Je=se(Q,Ie,G[Ne],he);if(Je===null){Ie===null&&(Ie=en);break}s&&Ie&&Je.alternate===null&&a(Q,Ie),q=E(Je,q,Ne),Ce===null?Se=Je:Ce.sibling=Je,Ce=Je,Ie=en}if(Ne===G.length)return u(Q,Ie),yt&&uo(Q,Ne),Se;if(Ie===null){for(;Ne<G.length;Ne++)Ie=de(Q,G[Ne],he),Ie!==null&&(q=E(Ie,q,Ne),Ce===null?Se=Ie:Ce.sibling=Ie,Ce=Ie);return yt&&uo(Q,Ne),Se}for(Ie=p(Q,Ie);Ne<G.length;Ne++)en=ve(Ie,Q,Ne,G[Ne],he),en!==null&&(s&&en.alternate!==null&&Ie.delete(en.key===null?Ne:en.key),q=E(en,q,Ne),Ce===null?Se=en:Ce.sibling=en,Ce=en);return s&&Ie.forEach(function(ys){return a(Q,ys)}),yt&&uo(Q,Ne),Se}function xe(Q,q,G,he){var Se=fe(G);if(typeof Se!="function")throw Error(t(150));if(G=Se.call(G),G==null)throw Error(t(151));for(var Ce=Se=null,Ie=q,Ne=q=0,en=null,Je=G.next();Ie!==null&&!Je.done;Ne++,Je=G.next()){Ie.index>Ne?(en=Ie,Ie=null):en=Ie.sibling;var ys=se(Q,Ie,Je.value,he);if(ys===null){Ie===null&&(Ie=en);break}s&&Ie&&ys.alternate===null&&a(Q,Ie),q=E(ys,q,Ne),Ce===null?Se=ys:Ce.sibling=ys,Ce=ys,Ie=en}if(Je.done)return u(Q,Ie),yt&&uo(Q,Ne),Se;if(Ie===null){for(;!Je.done;Ne++,Je=G.next())Je=de(Q,Je.value,he),Je!==null&&(q=E(Je,q,Ne),Ce===null?Se=Je:Ce.sibling=Je,Ce=Je);return yt&&uo(Q,Ne),Se}for(Ie=p(Q,Ie);!Je.done;Ne++,Je=G.next())Je=ve(Ie,Q,Ne,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Ie.delete(Je.key===null?Ne:Je.key),q=E(Je,q,Ne),Ce===null?Se=Je:Ce.sibling=Je,Ce=Je);return s&&Ie.forEach(function(P1){return a(Q,P1)}),yt&&uo(Q,Ne),Se}function Rt(Q,q,G,he){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case U:e:{for(var Se=G.key,Ce=q;Ce!==null;){if(Ce.key===Se){if(Se=G.type,Se===D){if(Ce.tag===7){u(Q,Ce.sibling),q=v(Ce,G.props.children),q.return=Q,Q=q;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===pe&&Av(Se)===Ce.type){u(Q,Ce.sibling),q=v(Ce,G.props),q.ref=Yl(Q,Ce,G),q.return=Q,Q=q;break e}u(Q,Ce);break}else a(Q,Ce);Ce=Ce.sibling}G.type===D?(q=vo(G.props.children,Q.mode,he,G.key),q.return=Q,Q=q):(he=fd(G.type,G.key,G.props,null,Q.mode,he),he.ref=Yl(Q,q,G),he.return=Q,Q=he)}return I(Q);case H:e:{for(Ce=G.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){u(Q,q.sibling),q=v(q,G.children||[]),q.return=Q,Q=q;break e}else{u(Q,q);break}else a(Q,q);q=q.sibling}q=$p(G,Q.mode,he),q.return=Q,Q=q}return I(Q);case pe:return Ce=G._init,Rt(Q,q,Ce(G._payload),he)}if(Zn(G))return Te(Q,q,G,he);if(fe(G))return xe(Q,q,G,he);jc(Q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,q!==null&&q.tag===6?(u(Q,q.sibling),q=v(q,G),q.return=Q,Q=q):(u(Q,q),q=Hp(G,Q.mode,he),q.return=Q,Q=q),I(Q)):u(Q,q)}return Rt}var wa=Ov(!0),Mv=Ov(!1),Wc=os(null),Hc=null,Ea=null,ep=null;function tp(){ep=Ea=Hc=null}function np(s){var a=Wc.current;dt(Wc),s._currentValue=a}function rp(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function ba(s,a){Hc=s,ep=Ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Rn=!0),s.firstContext=null)}function or(s){var a=s._currentValue;if(ep!==s)if(s={context:s,memoizedValue:a,next:null},Ea===null){if(Hc===null)throw Error(t(308));Ea=s,Hc.dependencies={lanes:0,firstContext:s}}else Ea=Ea.next=s;return a}var co=null;function ip(s){co===null?co=[s]:co.push(s)}function Lv(s,a,u,p){var v=a.interleaved;return v===null?(u.next=u,ip(a)):(u.next=v.next,v.next=u),a.interleaved=u,Si(s,p)}function Si(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var us=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ki(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function cs(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Ge&2){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,Si(s,u)}return v=p.interleaved,v===null?(a.next=a,ip(p)):(a.next=v.next,v.next=a),p.interleaved=a,Si(s,u)}function $c(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Zi(s,u)}}function Fv(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?v=E=I:E=E.next=I,u=u.next}while(u!==null);E===null?v=E=a:E=E.next=a}else v=E=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Yc(s,a,u,p){var v=s.updateQueue;us=!1;var E=v.firstBaseUpdate,I=v.lastBaseUpdate,W=v.shared.pending;if(W!==null){v.shared.pending=null;var $=W,J=$.next;$.next=null,I===null?E=J:I.next=J,I=$;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,W=ue.lastBaseUpdate,W!==I&&(W===null?ue.firstBaseUpdate=J:W.next=J,ue.lastBaseUpdate=$))}if(E!==null){var de=v.baseState;I=0,ue=J=$=null,W=E;do{var se=W.lane,ve=W.eventTime;if((p&se)===se){ue!==null&&(ue=ue.next={eventTime:ve,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Te=s,xe=W;switch(se=a,ve=u,xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){de=Te.call(ve,de,se);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,se=typeof Te=="function"?Te.call(ve,de,se):Te,se==null)break e;de=ie({},de,se);break e;case 2:us=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,se=v.effects,se===null?v.effects=[W]:se.push(W))}else ve={eventTime:ve,lane:se,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ue===null?(J=ue=ve,$=de):ue=ue.next=ve,I|=se;if(W=W.next,W===null){if(W=v.shared.pending,W===null)break;se=W,W=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(ue===null&&($=de),v.baseState=$,v.firstBaseUpdate=J,v.lastBaseUpdate=ue,a=v.shared.interleaved,a!==null){v=a;do I|=v.lane,v=v.next;while(v!==a)}else E===null&&(v.shared.lanes=0);po|=I,s.lanes=I,s.memoizedState=de}}function Uv(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var ql={},jr=os(ql),Kl=os(ql),Ql=os(ql);function fo(s){if(s===ql)throw Error(t(174));return s}function op(s,a){switch(ut(Ql,a),ut(Kl,s),ut(jr,ql),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:jt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=jt(a,s)}dt(jr),ut(jr,a)}function Ta(){dt(jr),dt(Kl),dt(Ql)}function Bv(s){fo(Ql.current);var a=fo(jr.current),u=jt(a,s.type);a!==u&&(ut(Kl,s),ut(jr,u))}function ap(s){Kl.current===s&&(dt(jr),dt(Kl))}var Tt=os(0);function qc(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var lp=[];function up(){for(var s=0;s<lp.length;s++)lp[s]._workInProgressVersionPrimary=null;lp.length=0}var Kc=O.ReactCurrentDispatcher,cp=O.ReactCurrentBatchConfig,ho=0,xt=null,Ht=null,Jt=null,Qc=!1,Gl=!1,Xl=0,ZS=0;function fn(){throw Error(t(321))}function dp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Tr(s[u],a[u]))return!1;return!0}function fp(s,a,u,p,v,E){if(ho=E,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Kc.current=s===null||s.memoizedState===null?r1:i1,s=u(p,v),Gl){E=0;do{if(Gl=!1,Xl=0,25<=E)throw Error(t(301));E+=1,Jt=Ht=null,a.updateQueue=null,Kc.current=s1,s=u(p,v)}while(Gl)}if(Kc.current=Jc,a=Ht!==null&&Ht.next!==null,ho=0,Jt=Ht=xt=null,Qc=!1,a)throw Error(t(300));return s}function hp(){var s=Xl!==0;return Xl=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?xt.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function ar(){if(Ht===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=Ht.next;var a=Jt===null?xt.memoizedState:Jt.next;if(a!==null)Jt=a,Ht=s;else{if(s===null)throw Error(t(310));Ht=s,s={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?xt.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function Jl(s,a){return typeof a=="function"?a(s):a}function pp(s){var a=ar(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=Ht,v=p.baseQueue,E=u.pending;if(E!==null){if(v!==null){var I=v.next;v.next=E.next,E.next=I}p.baseQueue=v=E,u.pending=null}if(v!==null){E=v.next,p=p.baseState;var W=I=null,$=null,J=E;do{var ue=J.lane;if((ho&ue)===ue)$!==null&&($=$.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:s(p,J.action);else{var de={lane:ue,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};$===null?(W=$=de,I=p):$=$.next=de,xt.lanes|=ue,po|=ue}J=J.next}while(J!==null&&J!==E);$===null?I=p:$.next=W,Tr(p,a.memoizedState)||(Rn=!0),a.memoizedState=p,a.baseState=I,a.baseQueue=$,u.lastRenderedState=p}if(s=u.interleaved,s!==null){v=s;do E=v.lane,xt.lanes|=E,po|=E,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function mp(s){var a=ar(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,v=u.pending,E=a.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do E=s(E,I.action),I=I.next;while(I!==v);Tr(E,a.memoizedState)||(Rn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),u.lastRenderedState=E}return[E,p]}function zv(){}function jv(s,a){var u=xt,p=ar(),v=a(),E=!Tr(p.memoizedState,v);if(E&&(p.memoizedState=v,Rn=!0),p=p.queue,gp($v.bind(null,u,p,s),[s]),p.getSnapshot!==a||E||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,Zl(9,Hv.bind(null,u,p,v,a),void 0,null),Zt===null)throw Error(t(349));ho&30||Wv(u,a,v)}return v}function Wv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Hv(s,a,u,p){a.value=u,a.getSnapshot=p,Yv(a)&&qv(s)}function $v(s,a,u){return u(function(){Yv(a)&&qv(s)})}function Yv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Tr(s,u)}catch{return!0}}function qv(s){var a=Si(s,1);a!==null&&Ir(a,s,1,-1)}function Kv(s){var a=Wr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:s},a.queue=s,s=s.dispatch=n1.bind(null,xt,s),[a.memoizedState,s]}function Zl(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function Qv(){return ar().memoizedState}function Gc(s,a,u,p){var v=Wr();xt.flags|=s,v.memoizedState=Zl(1|a,u,void 0,p===void 0?null:p)}function Xc(s,a,u,p){var v=ar();p=p===void 0?null:p;var E=void 0;if(Ht!==null){var I=Ht.memoizedState;if(E=I.destroy,p!==null&&dp(p,I.deps)){v.memoizedState=Zl(a,u,E,p);return}}xt.flags|=s,v.memoizedState=Zl(1|a,u,E,p)}function Gv(s,a){return Gc(8390656,8,s,a)}function gp(s,a){return Xc(2048,8,s,a)}function Xv(s,a){return Xc(4,2,s,a)}function Jv(s,a){return Xc(4,4,s,a)}function Zv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function e_(s,a,u){return u=u!=null?u.concat([s]):null,Xc(4,4,Zv.bind(null,a,s),u)}function yp(){}function t_(s,a){var u=ar();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&dp(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function n_(s,a){var u=ar();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&dp(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function r_(s,a,u){return ho&21?(Tr(u,a)||(u=to(),xt.lanes|=u,po|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Rn=!0),s.memoizedState=u)}function e1(s,a){var u=$e;$e=u!==0&&4>u?u:4,s(!0);var p=cp.transition;cp.transition={};try{s(!1),a()}finally{$e=u,cp.transition=p}}function i_(){return ar().memoizedState}function t1(s,a,u){var p=ps(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},s_(s))o_(a,u);else if(u=Lv(s,a,u,p),u!==null){var v=Tn();Ir(u,s,p,v),a_(u,a,p)}}function n1(s,a,u){var p=ps(s),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(s_(s))o_(a,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var I=a.lastRenderedState,W=E(I,u);if(v.hasEagerState=!0,v.eagerState=W,Tr(W,I)){var $=a.interleaved;$===null?(v.next=v,ip(a)):(v.next=$.next,$.next=v),a.interleaved=v;return}}catch{}finally{}u=Lv(s,a,v,p),u!==null&&(v=Tn(),Ir(u,s,p,v),a_(u,a,p))}}function s_(s){var a=s.alternate;return s===xt||a!==null&&a===xt}function o_(s,a){Gl=Qc=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function a_(s,a,u){if(u&4194240){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,Zi(s,u)}}var Jc={readContext:or,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},r1={readContext:or,useCallback:function(s,a){return Wr().memoizedState=[s,a===void 0?null:a],s},useContext:or,useEffect:Gv,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Gc(4194308,4,Zv.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Gc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Gc(4,2,s,a)},useMemo:function(s,a){var u=Wr();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=Wr();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=t1.bind(null,xt,s),[p.memoizedState,s]},useRef:function(s){var a=Wr();return s={current:s},a.memoizedState=s},useState:Kv,useDebugValue:yp,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=Kv(!1),a=s[0];return s=e1.bind(null,s[1]),Wr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=xt,v=Wr();if(yt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Zt===null)throw Error(t(349));ho&30||Wv(p,a,u)}v.memoizedState=u;var E={value:u,getSnapshot:a};return v.queue=E,Gv($v.bind(null,p,E,s),[s]),p.flags|=2048,Zl(9,Hv.bind(null,p,E,u,a),void 0,null),u},useId:function(){var s=Wr(),a=Zt.identifierPrefix;if(yt){var u=xi,p=Ti;u=(p&~(1<<32-wn(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Xl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=ZS++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},i1={readContext:or,useCallback:t_,useContext:or,useEffect:gp,useImperativeHandle:e_,useInsertionEffect:Xv,useLayoutEffect:Jv,useMemo:n_,useReducer:pp,useRef:Qv,useState:function(){return pp(Jl)},useDebugValue:yp,useDeferredValue:function(s){var a=ar();return r_(a,Ht.memoizedState,s)},useTransition:function(){var s=pp(Jl)[0],a=ar().memoizedState;return[s,a]},useMutableSource:zv,useSyncExternalStore:jv,useId:i_,unstable_isNewReconciler:!1},s1={readContext:or,useCallback:t_,useContext:or,useEffect:gp,useImperativeHandle:e_,useInsertionEffect:Xv,useLayoutEffect:Jv,useMemo:n_,useReducer:mp,useRef:Qv,useState:function(){return mp(Jl)},useDebugValue:yp,useDeferredValue:function(s){var a=ar();return Ht===null?a.memoizedState=s:r_(a,Ht.memoizedState,s)},useTransition:function(){var s=mp(Jl)[0],a=ar().memoizedState;return[s,a]},useMutableSource:zv,useSyncExternalStore:jv,useId:i_,unstable_isNewReconciler:!1};function Sr(s,a){if(s&&s.defaultProps){a=ie({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function vp(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:ie({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Zc={isMounted:function(s){return(s=s._reactInternals)?gr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=Tn(),v=ps(s),E=ki(p,v);E.payload=a,u!=null&&(E.callback=u),a=cs(s,E,v),a!==null&&(Ir(a,s,v,p),$c(a,s,v))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=Tn(),v=ps(s),E=ki(p,v);E.tag=1,E.payload=a,u!=null&&(E.callback=u),a=cs(s,E,v),a!==null&&(Ir(a,s,v,p),$c(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Tn(),p=ps(s),v=ki(u,p);v.tag=2,a!=null&&(v.callback=a),a=cs(s,v,p),a!==null&&(Ir(a,s,p,u),$c(a,s,p))}};function l_(s,a,u,p,v,E,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,I):a.prototype&&a.prototype.isPureReactComponent?!Ul(u,p)||!Ul(v,E):!0}function u_(s,a,u){var p=!1,v=as,E=a.contextType;return typeof E=="object"&&E!==null?E=or(E):(v=Nn(a)?ao:dn.current,p=a.contextTypes,E=(p=p!=null)?ga(s,v):as),a=new a(u,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Zc,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=E),a}function c_(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Zc.enqueueReplaceState(a,a.state,null)}function _p(s,a,u,p){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},sp(s);var E=a.contextType;typeof E=="object"&&E!==null?v.context=or(E):(E=Nn(a)?ao:dn.current,v.context=ga(s,E)),v.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(vp(s,a,E,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Zc.enqueueReplaceState(v,v.state,null),Yc(s,u,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function xa(s,a){try{var u="",p=a;do u+=Ae(p),p=p.return;while(p);var v=u}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:v,digest:null}}function wp(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Ep(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function d_(s,a,u){u=ki(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){od||(od=!0,Lp=p),Ep(s,a)},u}function f_(s,a,u){u=ki(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;u.payload=function(){return p(v)},u.callback=function(){Ep(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){Ep(s,a),typeof p!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),u}function h_(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new o1;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(v.add(u),s=w1.bind(null,s,a,u),a.then(s,s))}function p_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function m_(s,a,u,p,v){return s.mode&1?(s.flags|=65536,s.lanes=v,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ki(-1,1),a.tag=2,cs(u,a,1))),u.lanes|=1),s)}var a1=O.ReactCurrentOwner,Rn=!1;function bn(s,a,u,p){a.child=s===null?Mv(a,null,u,p):wa(a,s.child,u,p)}function g_(s,a,u,p,v){u=u.render;var E=a.ref;return ba(a,v),p=fp(s,a,u,p,E,v),u=hp(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ci(s,a,v)):(yt&&u&&Qh(a),a.flags|=1,bn(s,a,p,v),a.child)}function y_(s,a,u,p,v){if(s===null){var E=u.type;return typeof E=="function"&&!Wp(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=E,v_(s,a,E,p,v)):(s=fd(u.type,null,p,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&v)){var I=E.memoizedProps;if(u=u.compare,u=u!==null?u:Ul,u(I,p)&&s.ref===a.ref)return Ci(s,a,v)}return a.flags|=1,s=gs(E,p),s.ref=a.ref,s.return=a,a.child=s}function v_(s,a,u,p,v){if(s!==null){var E=s.memoizedProps;if(Ul(E,p)&&s.ref===a.ref)if(Rn=!1,a.pendingProps=p=E,(s.lanes&v)!==0)s.flags&131072&&(Rn=!0);else return a.lanes=s.lanes,Ci(s,a,v)}return bp(s,a,u,p,v)}function __(s,a,u){var p=a.pendingProps,v=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ka,qn),qn|=u;else{if(!(u&1073741824))return s=E!==null?E.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ut(ka,qn),qn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:u,ut(ka,qn),qn|=p}else E!==null?(p=E.baseLanes|u,a.memoizedState=null):p=u,ut(ka,qn),qn|=p;return bn(s,a,v,u),a.child}function w_(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function bp(s,a,u,p,v){var E=Nn(u)?ao:dn.current;return E=ga(a,E),ba(a,v),u=fp(s,a,u,p,E,v),p=hp(),s!==null&&!Rn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ci(s,a,v)):(yt&&p&&Qh(a),a.flags|=1,bn(s,a,u,v),a.child)}function E_(s,a,u,p,v){if(Nn(u)){var E=!0;Vc(a)}else E=!1;if(ba(a,v),a.stateNode===null)td(s,a),u_(a,u,p),_p(a,u,p,v),p=!0;else if(s===null){var I=a.stateNode,W=a.memoizedProps;I.props=W;var $=I.context,J=u.contextType;typeof J=="object"&&J!==null?J=or(J):(J=Nn(u)?ao:dn.current,J=ga(a,J));var ue=u.getDerivedStateFromProps,de=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";de||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==p||$!==J)&&c_(a,I,p,J),us=!1;var se=a.memoizedState;I.state=se,Yc(a,p,I,v),$=a.memoizedState,W!==p||se!==$||Pn.current||us?(typeof ue=="function"&&(vp(a,u,ue,p),$=a.memoizedState),(W=us||l_(a,u,W,p,se,$,J))?(de||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),I.props=p,I.state=$,I.context=J,p=W):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{I=a.stateNode,Vv(s,a),W=a.memoizedProps,J=a.type===a.elementType?W:Sr(a.type,W),I.props=J,de=a.pendingProps,se=I.context,$=u.contextType,typeof $=="object"&&$!==null?$=or($):($=Nn(u)?ao:dn.current,$=ga(a,$));var ve=u.getDerivedStateFromProps;(ue=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==de||se!==$)&&c_(a,I,p,$),us=!1,se=a.memoizedState,I.state=se,Yc(a,p,I,v);var Te=a.memoizedState;W!==de||se!==Te||Pn.current||us?(typeof ve=="function"&&(vp(a,u,ve,p),Te=a.memoizedState),(J=us||l_(a,u,J,p,se,Te,$)||!1)?(ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Te,$),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Te,$)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),I.props=p,I.state=Te,I.context=$,p=J):(typeof I.componentDidUpdate!="function"||W===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),p=!1)}return Tp(s,a,u,p,E,v)}function Tp(s,a,u,p,v,E){w_(s,a);var I=(a.flags&128)!==0;if(!p&&!I)return v&&kv(a,u,!1),Ci(s,a,E);p=a.stateNode,a1.current=a;var W=I&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&I?(a.child=wa(a,s.child,null,E),a.child=wa(a,null,W,E)):bn(s,a,W,E),a.memoizedState=p.state,v&&kv(a,u,!0),a.child}function b_(s){var a=s.stateNode;a.pendingContext?xv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&xv(s,a.context,!1),op(s,a.containerInfo)}function T_(s,a,u,p,v){return _a(),Zh(v),a.flags|=256,bn(s,a,u,p),a.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function Sp(s){return{baseLanes:s,cachePool:null,transitions:null}}function x_(s,a,u){var p=a.pendingProps,v=Tt.current,E=!1,I=(a.flags&128)!==0,W;if((W=I)||(W=s!==null&&s.memoizedState===null?!1:(v&2)!==0),W?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),ut(Tt,v&1),s===null)return Jh(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(I=p.children,s=p.fallback,E?(p=a.mode,E=a.child,I={mode:"hidden",children:I},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=I):E=hd(I,p,0,null),s=vo(s,p,u,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Sp(u),a.memoizedState=xp,s):kp(a,I));if(v=s.memoizedState,v!==null&&(W=v.dehydrated,W!==null))return l1(s,a,I,p,W,v,u);if(E){E=p.fallback,I=a.mode,v=s.child,W=v.sibling;var $={mode:"hidden",children:p.children};return!(I&1)&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=gs(v,$),p.subtreeFlags=v.subtreeFlags&14680064),W!==null?E=gs(W,E):(E=vo(E,I,u,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,I=s.child.memoizedState,I=I===null?Sp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},E.memoizedState=I,E.childLanes=s.childLanes&~u,a.memoizedState=xp,p}return E=s.child,s=E.sibling,p=gs(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function kp(s,a){return a=hd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ed(s,a,u,p){return p!==null&&Zh(p),wa(a,s.child,null,u),s=kp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function l1(s,a,u,p,v,E,I){if(u)return a.flags&256?(a.flags&=-257,p=wp(Error(t(422))),ed(s,a,I,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=p.fallback,v=a.mode,p=hd({mode:"visible",children:p.children},v,0,null),E=vo(E,v,I,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&wa(a,s.child,null,I),a.child.memoizedState=Sp(I),a.memoizedState=xp,E);if(!(a.mode&1))return ed(s,a,I,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var W=p.dgst;return p=W,E=Error(t(419)),p=wp(E,p,void 0),ed(s,a,I,p)}if(W=(I&s.childLanes)!==0,Rn||W){if(p=Zt,p!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(p.suspendedLanes|I)?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,Si(s,v),Ir(p,s,v,-1))}return jp(),p=wp(Error(t(421))),ed(s,a,I,p)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=E1.bind(null,s),v._reactRetry=a,null):(s=E.treeContext,Yn=ss(v.nextSibling),$n=a,yt=!0,xr=null,s!==null&&(ir[sr++]=Ti,ir[sr++]=xi,ir[sr++]=lo,Ti=s.id,xi=s.overflow,lo=a),a=kp(a,p.children),a.flags|=4096,a)}function S_(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),rp(s.return,a,u)}function Cp(s,a,u,p,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=u,E.tailMode=v)}function k_(s,a,u){var p=a.pendingProps,v=p.revealOrder,E=p.tail;if(bn(s,a,p.children,u),p=Tt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&S_(s,u,a);else if(s.tag===19)S_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ut(Tt,p),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&qc(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Cp(a,!1,v,u,E);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&qc(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Cp(a,!0,u,null,E);break;case"together":Cp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function td(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ci(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),po|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=gs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=gs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function u1(s,a,u){switch(a.tag){case 3:b_(a),_a();break;case 5:Bv(a);break;case 1:Nn(a.type)&&Vc(a);break;case 4:op(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;ut(Wc,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ut(Tt,Tt.current&1),a.flags|=128,null):u&a.child.childLanes?x_(s,a,u):(ut(Tt,Tt.current&1),s=Ci(s,a,u),s!==null?s.sibling:null);ut(Tt,Tt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,s.flags&128){if(p)return k_(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ut(Tt,Tt.current),p)break;return null;case 22:case 23:return a.lanes=0,__(s,a,u)}return Ci(s,a,u)}var C_,Ip,I_,D_;C_=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ip=function(){},I_=function(s,a,u,p){var v=s.memoizedProps;if(v!==p){s=a.stateNode,fo(jr.current);var E=null;switch(u){case"input":v=ot(s,v),p=ot(s,p),E=[];break;case"select":v=ie({},v,{value:void 0}),p=ie({},p,{value:void 0}),E=[];break;case"textarea":v=Hs(s,v),p=Hs(s,p),E=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Oc)}wl(u,p);var I;u=null;for(J in v)if(!p.hasOwnProperty(J)&&v.hasOwnProperty(J)&&v[J]!=null)if(J==="style"){var W=v[J];for(I in W)W.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?E||(E=[]):(E=E||[]).push(J,null));for(J in p){var $=p[J];if(W=v!=null?v[J]:void 0,p.hasOwnProperty(J)&&$!==W&&($!=null||W!=null))if(J==="style")if(W){for(I in W)!W.hasOwnProperty(I)||$&&$.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in $)$.hasOwnProperty(I)&&W[I]!==$[I]&&(u||(u={}),u[I]=$[I])}else u||(E||(E=[]),E.push(J,u)),u=$;else J==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,W=W?W.__html:void 0,$!=null&&W!==$&&(E=E||[]).push(J,$)):J==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(J,""+$):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?($!=null&&J==="onScroll"&&ct("scroll",s),E||W===$||(E=[])):(E=E||[]).push(J,$))}u&&(E=E||[]).push("style",u);var J=E;(a.updateQueue=J)&&(a.flags|=4)}},D_=function(s,a,u,p){u!==p&&(a.flags|=4)};function eu(s,a){if(!yt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function hn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function c1(s,a,u){var p=a.pendingProps;switch(Gh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(a),null;case 1:return Nn(a.type)&&Lc(),hn(a),null;case 3:return p=a.stateNode,Ta(),dt(Pn),dt(dn),up(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(zc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,xr!==null&&(Up(xr),xr=null))),Ip(s,a),hn(a),null;case 5:ap(a);var v=fo(Ql.current);if(u=a.type,s!==null&&a.stateNode!=null)I_(s,a,u,p,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return hn(a),null}if(s=fo(jr.current),zc(a)){p=a.stateNode,u=a.type;var E=a.memoizedProps;switch(p[zr]=a,p[Hl]=E,s=(a.mode&1)!==0,u){case"dialog":ct("cancel",p),ct("close",p);break;case"iframe":case"object":case"embed":ct("load",p);break;case"video":case"audio":for(v=0;v<zl.length;v++)ct(zl[v],p);break;case"source":ct("error",p);break;case"img":case"image":case"link":ct("error",p),ct("load",p);break;case"details":ct("toggle",p);break;case"input":mt(p,E),ct("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},ct("invalid",p);break;case"textarea":qi(p,E),ct("invalid",p)}wl(u,E),v=null;for(var I in E)if(E.hasOwnProperty(I)){var W=E[I];I==="children"?typeof W=="string"?p.textContent!==W&&(E.suppressHydrationWarning!==!0&&Ac(p.textContent,W,s),v=["children",W]):typeof W=="number"&&p.textContent!==""+W&&(E.suppressHydrationWarning!==!0&&Ac(p.textContent,W,s),v=["children",""+W]):i.hasOwnProperty(I)&&W!=null&&I==="onScroll"&&ct("scroll",p)}switch(u){case"input":Qt(p),Gt(p,E,!0);break;case"textarea":Qt(p),ml(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Oc)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=zt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=I.createElement(u,{is:p.is}):(s=I.createElement(u),u==="select"&&(I=s,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):s=I.createElementNS(s,u),s[zr]=a,s[Hl]=p,C_(s,a,!1,!1),a.stateNode=s;e:{switch(I=El(u,p),u){case"dialog":ct("cancel",s),ct("close",s),v=p;break;case"iframe":case"object":case"embed":ct("load",s),v=p;break;case"video":case"audio":for(v=0;v<zl.length;v++)ct(zl[v],s);v=p;break;case"source":ct("error",s),v=p;break;case"img":case"image":case"link":ct("error",s),ct("load",s),v=p;break;case"details":ct("toggle",s),v=p;break;case"input":mt(s,p),v=ot(s,p),ct("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=ie({},p,{value:void 0}),ct("invalid",s);break;case"textarea":qi(s,p),v=Hs(s,p),ct("invalid",s);break;default:v=p}wl(u,v),W=v;for(E in W)if(W.hasOwnProperty(E)){var $=W[E];E==="style"?vl(s,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&gl(s,$)):E==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&Ki(s,$):typeof $=="number"&&Ki(s,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?$!=null&&E==="onScroll"&&ct("scroll",s):$!=null&&R(s,E,$,I))}switch(u){case"input":Qt(s),Gt(s,p,!1);break;case"textarea":Qt(s),ml(s);break;case"option":p.value!=null&&s.setAttribute("value",""+He(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?Bn(s,!!p.multiple,E,!1):p.defaultValue!=null&&Bn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Oc)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return hn(a),null;case 6:if(s&&a.stateNode!=null)D_(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=fo(Ql.current),fo(jr.current),zc(a)){if(p=a.stateNode,u=a.memoizedProps,p[zr]=a,(E=p.nodeValue!==u)&&(s=$n,s!==null))switch(s.tag){case 3:Ac(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ac(p.nodeValue,u,(s.mode&1)!==0)}E&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[zr]=a,a.stateNode=p}return hn(a),null;case 13:if(dt(Tt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(yt&&Yn!==null&&a.mode&1&&!(a.flags&128))Rv(),_a(),a.flags|=98560,E=!1;else if(E=zc(a),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[zr]=a}else _a(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;hn(a),E=!1}else xr!==null&&(Up(xr),xr=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||Tt.current&1?$t===0&&($t=3):jp())),a.updateQueue!==null&&(a.flags|=4),hn(a),null);case 4:return Ta(),Ip(s,a),s===null&&jl(a.stateNode.containerInfo),hn(a),null;case 10:return np(a.type._context),hn(a),null;case 17:return Nn(a.type)&&Lc(),hn(a),null;case 19:if(dt(Tt),E=a.memoizedState,E===null)return hn(a),null;if(p=(a.flags&128)!==0,I=E.rendering,I===null)if(p)eu(E,!1);else{if($t!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(I=qc(s),I!==null){for(a.flags|=128,eu(E,!1),p=I.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)E=u,s=p,E.flags&=14680066,I=E.alternate,I===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=I.childLanes,E.lanes=I.lanes,E.child=I.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=I.memoizedProps,E.memoizedState=I.memoizedState,E.updateQueue=I.updateQueue,E.type=I.type,s=I.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return ut(Tt,Tt.current&1|2),a.child}s=s.sibling}E.tail!==null&&lt()>Ca&&(a.flags|=128,p=!0,eu(E,!1),a.lanes=4194304)}else{if(!p)if(s=qc(I),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),eu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!yt)return hn(a),null}else 2*lt()-E.renderingStartTime>Ca&&u!==1073741824&&(a.flags|=128,p=!0,eu(E,!1),a.lanes=4194304);E.isBackwards?(I.sibling=a.child,a.child=I):(u=E.last,u!==null?u.sibling=I:a.child=I,E.last=I)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=lt(),a.sibling=null,u=Tt.current,ut(Tt,p?u&1|2:u&1),a):(hn(a),null);case 22:case 23:return zp(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?qn&1073741824&&(hn(a),a.subtreeFlags&6&&(a.flags|=8192)):hn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function d1(s,a){switch(Gh(a),a.tag){case 1:return Nn(a.type)&&Lc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ta(),dt(Pn),dt(dn),up(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return ap(a),null;case 13:if(dt(Tt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));_a()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return dt(Tt),null;case 4:return Ta(),null;case 10:return np(a.type._context),null;case 22:case 23:return zp(),null;case 24:return null;default:return null}}var nd=!1,pn=!1,f1=typeof WeakSet=="function"?WeakSet:Set,be=null;function Sa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Dt(s,a,p)}else u.current=null}function Dp(s,a,u){try{u()}catch(p){Dt(s,a,p)}}var P_=!1;function h1(s,a){if(zh=ns,s=lv(),Ah(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var I=0,W=-1,$=-1,J=0,ue=0,de=s,se=null;t:for(;;){for(var ve;de!==u||v!==0&&de.nodeType!==3||(W=I+v),de!==E||p!==0&&de.nodeType!==3||($=I+p),de.nodeType===3&&(I+=de.nodeValue.length),(ve=de.firstChild)!==null;)se=de,de=ve;for(;;){if(de===s)break t;if(se===u&&++J===v&&(W=I),se===E&&++ue===p&&($=I),(ve=de.nextSibling)!==null)break;de=se,se=de.parentNode}de=ve}u=W===-1||$===-1?null:{start:W,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(jh={focusedElem:s,selectionRange:u},ns=!1,be=a;be!==null;)if(a=be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,be=s;else for(;be!==null;){a=be;try{var Te=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var xe=Te.memoizedProps,Rt=Te.memoizedState,Q=a.stateNode,q=Q.getSnapshotBeforeUpdate(a.elementType===a.type?xe:Sr(a.type,xe),Rt);Q.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var G=a.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Dt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,be=s;break}be=a.return}return Te=P_,P_=!1,Te}function tu(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var E=v.destroy;v.destroy=void 0,E!==void 0&&Dp(a,u,E)}v=v.next}while(v!==p)}}function rd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function Pp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function N_(s){var a=s.alternate;a!==null&&(s.alternate=null,N_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[zr],delete a[Hl],delete a[Yh],delete a[QS],delete a[GS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function R_(s){return s.tag===5||s.tag===3||s.tag===4}function A_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||R_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Np(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Oc));else if(p!==4&&(s=s.child,s!==null))for(Np(s,a,u),s=s.sibling;s!==null;)Np(s,a,u),s=s.sibling}function Rp(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Rp(s,a,u),s=s.sibling;s!==null;)Rp(s,a,u),s=s.sibling}var on=null,kr=!1;function ds(s,a,u){for(u=u.child;u!==null;)O_(s,a,u),u=u.sibling}function O_(s,a,u){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Zs,u)}catch{}switch(u.tag){case 5:pn||Sa(u,a);case 6:var p=on,v=kr;on=null,ds(s,a,u),on=p,kr=v,on!==null&&(kr?(s=on,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):on.removeChild(u.stateNode));break;case 18:on!==null&&(kr?(s=on,u=u.stateNode,s.nodeType===8?$h(s.parentNode,u):s.nodeType===1&&$h(s,u),Er(s)):$h(on,u.stateNode));break;case 4:p=on,v=kr,on=u.stateNode.containerInfo,kr=!0,ds(s,a,u),on=p,kr=v;break;case 0:case 11:case 14:case 15:if(!pn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var E=v,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&Dp(u,a,I),v=v.next}while(v!==p)}ds(s,a,u);break;case 1:if(!pn&&(Sa(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(W){Dt(u,a,W)}ds(s,a,u);break;case 21:ds(s,a,u);break;case 22:u.mode&1?(pn=(p=pn)||u.memoizedState!==null,ds(s,a,u),pn=p):ds(s,a,u);break;default:ds(s,a,u)}}function M_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new f1),a.forEach(function(p){var v=b1.bind(null,s,p);u.has(p)||(u.add(p),p.then(v,v))})}}function Cr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var E=s,I=a,W=I;e:for(;W!==null;){switch(W.tag){case 5:on=W.stateNode,kr=!1;break e;case 3:on=W.stateNode.containerInfo,kr=!0;break e;case 4:on=W.stateNode.containerInfo,kr=!0;break e}W=W.return}if(on===null)throw Error(t(160));O_(E,I,v),on=null,kr=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(J){Dt(v,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)L_(a,s),a=a.sibling}function L_(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Cr(a,s),Hr(s),p&4){try{tu(3,s,s.return),rd(3,s)}catch(xe){Dt(s,s.return,xe)}try{tu(5,s,s.return)}catch(xe){Dt(s,s.return,xe)}}break;case 1:Cr(a,s),Hr(s),p&512&&u!==null&&Sa(u,u.return);break;case 5:if(Cr(a,s),Hr(s),p&512&&u!==null&&Sa(u,u.return),s.flags&32){var v=s.stateNode;try{Ki(v,"")}catch(xe){Dt(s,s.return,xe)}}if(p&4&&(v=s.stateNode,v!=null)){var E=s.memoizedProps,I=u!==null?u.memoizedProps:E,W=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{W==="input"&&E.type==="radio"&&E.name!=null&&It(v,E),El(W,I);var J=El(W,E);for(I=0;I<$.length;I+=2){var ue=$[I],de=$[I+1];ue==="style"?vl(v,de):ue==="dangerouslySetInnerHTML"?gl(v,de):ue==="children"?Ki(v,de):R(v,ue,de,J)}switch(W){case"input":Jn(v,E);break;case"textarea":hi(v,E);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var ve=E.value;ve!=null?Bn(v,!!E.multiple,ve,!1):se!==!!E.multiple&&(E.defaultValue!=null?Bn(v,!!E.multiple,E.defaultValue,!0):Bn(v,!!E.multiple,E.multiple?[]:"",!1))}v[Hl]=E}catch(xe){Dt(s,s.return,xe)}}break;case 6:if(Cr(a,s),Hr(s),p&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,E=s.memoizedProps;try{v.nodeValue=E}catch(xe){Dt(s,s.return,xe)}}break;case 3:if(Cr(a,s),Hr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Er(a.containerInfo)}catch(xe){Dt(s,s.return,xe)}break;case 4:Cr(a,s),Hr(s);break;case 13:Cr(a,s),Hr(s),v=s.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Mp=lt())),p&4&&M_(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(pn=(J=pn)||ue,Cr(a,s),pn=J):Cr(a,s),Hr(s),p&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ue&&s.mode&1)for(be=s,ue=s.child;ue!==null;){for(de=be=ue;be!==null;){switch(se=be,ve=se.child,se.tag){case 0:case 11:case 14:case 15:tu(4,se,se.return);break;case 1:Sa(se,se.return);var Te=se.stateNode;if(typeof Te.componentWillUnmount=="function"){p=se,u=se.return;try{a=p,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(xe){Dt(p,u,xe)}}break;case 5:Sa(se,se.return);break;case 22:if(se.memoizedState!==null){U_(de);continue}}ve!==null?(ve.return=se,be=ve):U_(de)}ue=ue.sibling}e:for(ue=null,de=s;;){if(de.tag===5){if(ue===null){ue=de;try{v=de.stateNode,J?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(W=de.stateNode,$=de.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null,W.style.display=yl("display",I))}catch(xe){Dt(s,s.return,xe)}}}else if(de.tag===6){if(ue===null)try{de.stateNode.nodeValue=J?"":de.memoizedProps}catch(xe){Dt(s,s.return,xe)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ue===de&&(ue=null),de=de.return}ue===de&&(ue=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Cr(a,s),Hr(s),p&4&&M_(s);break;case 21:break;default:Cr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(R_(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Ki(v,""),p.flags&=-33);var E=A_(s);Rp(s,E,v);break;case 3:case 4:var I=p.stateNode.containerInfo,W=A_(s);Np(s,W,I);break;default:throw Error(t(161))}}catch($){Dt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function p1(s,a,u){be=s,V_(s)}function V_(s,a,u){for(var p=(s.mode&1)!==0;be!==null;){var v=be,E=v.child;if(v.tag===22&&p){var I=v.memoizedState!==null||nd;if(!I){var W=v.alternate,$=W!==null&&W.memoizedState!==null||pn;W=nd;var J=pn;if(nd=I,(pn=$)&&!J)for(be=v;be!==null;)I=be,$=I.child,I.tag===22&&I.memoizedState!==null?B_(v):$!==null?($.return=I,be=$):B_(v);for(;E!==null;)be=E,V_(E),E=E.sibling;be=v,nd=W,pn=J}F_(s)}else v.subtreeFlags&8772&&E!==null?(E.return=v,be=E):F_(s)}}function F_(s){for(;be!==null;){var a=be;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:pn||rd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!pn)if(u===null)p.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Sr(a.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&Uv(a,E,p);break;case 3:var I=a.updateQueue;if(I!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Uv(a,I,u)}break;case 5:var W=a.stateNode;if(u===null&&a.flags&4){u=W;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var ue=J.memoizedState;if(ue!==null){var de=ue.dehydrated;de!==null&&Er(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||a.flags&512&&Pp(a)}catch(se){Dt(a,a.return,se)}}if(a===s){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function U_(s){for(;be!==null;){var a=be;if(a===s){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function B_(s){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{rd(4,a)}catch($){Dt(a,u,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch($){Dt(a,v,$)}}var E=a.return;try{Pp(a)}catch($){Dt(a,E,$)}break;case 5:var I=a.return;try{Pp(a)}catch($){Dt(a,I,$)}}}catch($){Dt(a,a.return,$)}if(a===s){be=null;break}var W=a.sibling;if(W!==null){W.return=a.return,be=W;break}be=a.return}}var m1=Math.ceil,id=O.ReactCurrentDispatcher,Ap=O.ReactCurrentOwner,lr=O.ReactCurrentBatchConfig,Ge=0,Zt=null,Vt=null,an=0,qn=0,ka=os(0),$t=0,nu=null,po=0,sd=0,Op=0,ru=null,An=null,Mp=0,Ca=1/0,Ii=null,od=!1,Lp=null,fs=null,ad=!1,hs=null,ld=0,iu=0,Vp=null,ud=-1,cd=0;function Tn(){return Ge&6?lt():ud!==-1?ud:ud=lt()}function ps(s){return s.mode&1?Ge&2&&an!==0?an&-an:JS.transition!==null?(cd===0&&(cd=to()),cd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Rl(s.type)),s):1}function Ir(s,a,u,p){if(50<iu)throw iu=0,Vp=null,Error(t(185));Ji(s,u,p),(!(Ge&2)||s!==Zt)&&(s===Zt&&(!(Ge&2)&&(sd|=u),$t===4&&ms(s,an)),On(s,p),u===1&&Ge===0&&!(a.mode&1)&&(Ca=lt()+500,Fc&&ls()))}function On(s,a){var u=s.callbackNode;gi(s,a);var p=eo(s,s===Zt?an:0);if(p===0)u!==null&&Cl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&Cl(u),a===1)s.tag===0?XS(j_.bind(null,s)):Cv(j_.bind(null,s)),qS(function(){!(Ge&6)&&ls()}),u=null;else{switch(es(p)){case 1:u=Js;break;case 4:u=Qi;break;case 16:u=tr;break;case 536870912:u=cc;break;default:u=tr}u=G_(u,z_.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function z_(s,a){if(ud=-1,cd=0,Ge&6)throw Error(t(327));var u=s.callbackNode;if(Ia()&&s.callbackNode!==u)return null;var p=eo(s,s===Zt?an:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=dd(s,p);else{a=p;var v=Ge;Ge|=2;var E=H_();(Zt!==s||an!==a)&&(Ii=null,Ca=lt()+500,go(s,a));do try{v1();break}catch(W){W_(s,W)}while(!0);tp(),id.current=E,Ge=v,Vt!==null?a=0:(Zt=null,an=0,a=$t)}if(a!==0){if(a===2&&(v=jn(s),v!==0&&(p=v,a=Fp(s,v))),a===1)throw u=nu,go(s,0),ms(s,p),On(s,lt()),u;if(a===6)ms(s,p);else{if(v=s.current.alternate,!(p&30)&&!g1(v)&&(a=dd(s,p),a===2&&(E=jn(s),E!==0&&(p=E,a=Fp(s,E))),a===1))throw u=nu,go(s,0),ms(s,p),On(s,lt()),u;switch(s.finishedWork=v,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:yo(s,An,Ii);break;case 3:if(ms(s,p),(p&130023424)===p&&(a=Mp+500-lt(),10<a)){if(eo(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){Tn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Hh(yo.bind(null,s,An,Ii),a);break}yo(s,An,Ii);break;case 4:if(ms(s,p),(p&4194240)===p)break;for(a=s.eventTimes,v=-1;0<p;){var I=31-wn(p);E=1<<I,I=a[I],I>v&&(v=I),p&=~E}if(p=v,p=lt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*m1(p/1960))-p,10<p){s.timeoutHandle=Hh(yo.bind(null,s,An,Ii),p);break}yo(s,An,Ii);break;case 5:yo(s,An,Ii);break;default:throw Error(t(329))}}}return On(s,lt()),s.callbackNode===u?z_.bind(null,s):null}function Fp(s,a){var u=ru;return s.current.memoizedState.isDehydrated&&(go(s,a).flags|=256),s=dd(s,a),s!==2&&(a=An,An=u,a!==null&&Up(a)),s}function Up(s){An===null?An=s:An.push.apply(An,s)}function g1(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],E=v.getSnapshot;v=v.value;try{if(!Tr(E(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ms(s,a){for(a&=~Op,a&=~sd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-wn(a),p=1<<u;s[u]=-1,a&=~p}}function j_(s){if(Ge&6)throw Error(t(327));Ia();var a=eo(s,0);if(!(a&1))return On(s,lt()),null;var u=dd(s,a);if(s.tag!==0&&u===2){var p=jn(s);p!==0&&(a=p,u=Fp(s,p))}if(u===1)throw u=nu,go(s,0),ms(s,a),On(s,lt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,yo(s,An,Ii),On(s,lt()),null}function Bp(s,a){var u=Ge;Ge|=1;try{return s(a)}finally{Ge=u,Ge===0&&(Ca=lt()+500,Fc&&ls())}}function mo(s){hs!==null&&hs.tag===0&&!(Ge&6)&&Ia();var a=Ge;Ge|=1;var u=lr.transition,p=$e;try{if(lr.transition=null,$e=1,s)return s()}finally{$e=p,lr.transition=u,Ge=a,!(Ge&6)&&ls()}}function zp(){qn=ka.current,dt(ka)}function go(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,YS(u)),Vt!==null)for(u=Vt.return;u!==null;){var p=u;switch(Gh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Lc();break;case 3:Ta(),dt(Pn),dt(dn),up();break;case 5:ap(p);break;case 4:Ta();break;case 13:dt(Tt);break;case 19:dt(Tt);break;case 10:np(p.type._context);break;case 22:case 23:zp()}u=u.return}if(Zt=s,Vt=s=gs(s.current,null),an=qn=a,$t=0,nu=null,Op=sd=po=0,An=ru=null,co!==null){for(a=0;a<co.length;a++)if(u=co[a],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,E=u.pending;if(E!==null){var I=E.next;E.next=v,p.next=I}u.pending=p}co=null}return s}function W_(s,a){do{var u=Vt;try{if(tp(),Kc.current=Jc,Qc){for(var p=xt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Qc=!1}if(ho=0,Jt=Ht=xt=null,Gl=!1,Xl=0,Ap.current=null,u===null||u.return===null){$t=1,nu=a,Vt=null;break}e:{var E=s,I=u.return,W=u,$=a;if(a=an,W.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var J=$,ue=W,de=ue.tag;if(!(ue.mode&1)&&(de===0||de===11||de===15)){var se=ue.alternate;se?(ue.updateQueue=se.updateQueue,ue.memoizedState=se.memoizedState,ue.lanes=se.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ve=p_(I);if(ve!==null){ve.flags&=-257,m_(ve,I,W,E,a),ve.mode&1&&h_(E,J,a),a=ve,$=J;var Te=a.updateQueue;if(Te===null){var xe=new Set;xe.add($),a.updateQueue=xe}else Te.add($);break e}else{if(!(a&1)){h_(E,J,a),jp();break e}$=Error(t(426))}}else if(yt&&W.mode&1){var Rt=p_(I);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),m_(Rt,I,W,E,a),Zh(xa($,W));break e}}E=$=xa($,W),$t!==4&&($t=2),ru===null?ru=[E]:ru.push(E),E=I;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var Q=d_(E,$,a);Fv(E,Q);break e;case 1:W=$;var q=E.type,G=E.stateNode;if(!(E.flags&128)&&(typeof q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(fs===null||!fs.has(G)))){E.flags|=65536,a&=-a,E.lanes|=a;var he=f_(E,W,a);Fv(E,he);break e}}E=E.return}while(E!==null)}Y_(u)}catch(Se){a=Se,Vt===u&&u!==null&&(Vt=u=u.return);continue}break}while(!0)}function H_(){var s=id.current;return id.current=Jc,s===null?Jc:s}function jp(){($t===0||$t===3||$t===2)&&($t=4),Zt===null||!(po&268435455)&&!(sd&268435455)||ms(Zt,an)}function dd(s,a){var u=Ge;Ge|=2;var p=H_();(Zt!==s||an!==a)&&(Ii=null,go(s,a));do try{y1();break}catch(v){W_(s,v)}while(!0);if(tp(),Ge=u,id.current=p,Vt!==null)throw Error(t(261));return Zt=null,an=0,$t}function y1(){for(;Vt!==null;)$_(Vt)}function v1(){for(;Vt!==null&&!lc();)$_(Vt)}function $_(s){var a=Q_(s.alternate,s,qn);s.memoizedProps=s.pendingProps,a===null?Y_(s):Vt=a,Ap.current=null}function Y_(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=d1(u,a),u!==null){u.flags&=32767,Vt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$t=6,Vt=null;return}}else if(u=c1(u,a,qn),u!==null){Vt=u;return}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=s}while(a!==null);$t===0&&($t=5)}function yo(s,a,u){var p=$e,v=lr.transition;try{lr.transition=null,$e=1,_1(s,a,u,p)}finally{lr.transition=v,$e=p}return null}function _1(s,a,u,p){do Ia();while(hs!==null);if(Ge&6)throw Error(t(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=u.lanes|u.childLanes;if(at(s,E),s===Zt&&(Vt=Zt=null,an=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||ad||(ad=!0,G_(tr,function(){return Ia(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=lr.transition,lr.transition=null;var I=$e;$e=1;var W=Ge;Ge|=4,Ap.current=null,h1(s,u),L_(u,s),US(jh),ns=!!zh,jh=zh=null,s.current=u,p1(u),Sh(),Ge=W,$e=I,lr.transition=E}else s.current=u;if(ad&&(ad=!1,hs=s,ld=v),E=s.pendingLanes,E===0&&(fs=null),dc(u.stateNode),On(s,lt()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)v=a[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(od)throw od=!1,s=Lp,Lp=null,s;return ld&1&&s.tag!==0&&Ia(),E=s.pendingLanes,E&1?s===Vp?iu++:(iu=0,Vp=s):iu=0,ls(),null}function Ia(){if(hs!==null){var s=es(ld),a=lr.transition,u=$e;try{if(lr.transition=null,$e=16>s?16:s,hs===null)var p=!1;else{if(s=hs,hs=null,ld=0,Ge&6)throw Error(t(331));var v=Ge;for(Ge|=4,be=s.current;be!==null;){var E=be,I=E.child;if(be.flags&16){var W=E.deletions;if(W!==null){for(var $=0;$<W.length;$++){var J=W[$];for(be=J;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:tu(8,ue,E)}var de=ue.child;if(de!==null)de.return=ue,be=de;else for(;be!==null;){ue=be;var se=ue.sibling,ve=ue.return;if(N_(ue),ue===J){be=null;break}if(se!==null){se.return=ve,be=se;break}be=ve}}}var Te=E.alternate;if(Te!==null){var xe=Te.child;if(xe!==null){Te.child=null;do{var Rt=xe.sibling;xe.sibling=null,xe=Rt}while(xe!==null)}}be=E}}if(E.subtreeFlags&2064&&I!==null)I.return=E,be=I;else e:for(;be!==null;){if(E=be,E.flags&2048)switch(E.tag){case 0:case 11:case 15:tu(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,be=Q;break e}be=E.return}}var q=s.current;for(be=q;be!==null;){I=be;var G=I.child;if(I.subtreeFlags&2064&&G!==null)G.return=I,be=G;else e:for(I=q;be!==null;){if(W=be,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:rd(9,W)}}catch(Se){Dt(W,W.return,Se)}if(W===I){be=null;break e}var he=W.sibling;if(he!==null){he.return=W.return,be=he;break e}be=W.return}}if(Ge=v,ls(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Zs,s)}catch{}p=!0}return p}finally{$e=u,lr.transition=a}}return!1}function q_(s,a,u){a=xa(u,a),a=d_(s,a,1),s=cs(s,a,1),a=Tn(),s!==null&&(Ji(s,1,a),On(s,a))}function Dt(s,a,u){if(s.tag===3)q_(s,s,u);else for(;a!==null;){if(a.tag===3){q_(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fs===null||!fs.has(p))){s=xa(u,s),s=f_(a,s,1),a=cs(a,s,1),s=Tn(),a!==null&&(Ji(a,1,s),On(a,s));break}}a=a.return}}function w1(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=Tn(),s.pingedLanes|=s.suspendedLanes&u,Zt===s&&(an&u)===u&&($t===4||$t===3&&(an&130023424)===an&&500>lt()-Mp?go(s,0):Op|=u),On(s,a)}function K_(s,a){a===0&&(s.mode&1?(a=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):a=1);var u=Tn();s=Si(s,a),s!==null&&(Ji(s,a,u),On(s,u))}function E1(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),K_(s,u)}function b1(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),K_(s,u)}var Q_;Q_=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Pn.current)Rn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return Rn=!1,u1(s,a,u);Rn=!!(s.flags&131072)}else Rn=!1,yt&&a.flags&1048576&&Iv(a,Bc,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;td(s,a),s=a.pendingProps;var v=ga(a,dn.current);ba(a,u),v=fp(null,a,p,s,v,u);var E=hp();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Nn(p)?(E=!0,Vc(a)):E=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,sp(a),v.updater=Zc,a.stateNode=v,v._reactInternals=a,_p(a,p,s,u),a=Tp(null,a,p,!0,E,u)):(a.tag=0,yt&&E&&Qh(a),bn(null,a,v,u),a=a.child),a;case 16:p=a.elementType;e:{switch(td(s,a),s=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=x1(p),s=Sr(p,s),v){case 0:a=bp(null,a,p,s,u);break e;case 1:a=E_(null,a,p,s,u);break e;case 11:a=g_(null,a,p,s,u);break e;case 14:a=y_(null,a,p,Sr(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Sr(p,v),bp(s,a,p,v,u);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Sr(p,v),E_(s,a,p,v,u);case 3:e:{if(b_(a),s===null)throw Error(t(387));p=a.pendingProps,E=a.memoizedState,v=E.element,Vv(s,a),Yc(a,p,null,u);var I=a.memoizedState;if(p=I.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){v=xa(Error(t(423)),a),a=T_(s,a,p,u,v);break e}else if(p!==v){v=xa(Error(t(424)),a),a=T_(s,a,p,u,v);break e}else for(Yn=ss(a.stateNode.containerInfo.firstChild),$n=a,yt=!0,xr=null,u=Mv(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(_a(),p===v){a=Ci(s,a,u);break e}bn(s,a,p,u)}a=a.child}return a;case 5:return Bv(a),s===null&&Jh(a),p=a.type,v=a.pendingProps,E=s!==null?s.memoizedProps:null,I=v.children,Wh(p,v)?I=null:E!==null&&Wh(p,E)&&(a.flags|=32),w_(s,a),bn(s,a,I,u),a.child;case 6:return s===null&&Jh(a),null;case 13:return x_(s,a,u);case 4:return op(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=wa(a,null,p,u):bn(s,a,p,u),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Sr(p,v),g_(s,a,p,v,u);case 7:return bn(s,a,a.pendingProps,u),a.child;case 8:return bn(s,a,a.pendingProps.children,u),a.child;case 12:return bn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,E=a.memoizedProps,I=v.value,ut(Wc,p._currentValue),p._currentValue=I,E!==null)if(Tr(E.value,I)){if(E.children===v.children&&!Pn.current){a=Ci(s,a,u);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var W=E.dependencies;if(W!==null){I=E.child;for(var $=W.firstContext;$!==null;){if($.context===p){if(E.tag===1){$=ki(-1,u&-u),$.tag=2;var J=E.updateQueue;if(J!==null){J=J.shared;var ue=J.pending;ue===null?$.next=$:($.next=ue.next,ue.next=$),J.pending=$}}E.lanes|=u,$=E.alternate,$!==null&&($.lanes|=u),rp(E.return,u,a),W.lanes|=u;break}$=$.next}}else if(E.tag===10)I=E.type===a.type?null:E.child;else if(E.tag===18){if(I=E.return,I===null)throw Error(t(341));I.lanes|=u,W=I.alternate,W!==null&&(W.lanes|=u),rp(I,u,a),I=E.sibling}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===a){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}bn(s,a,v.children,u),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,ba(a,u),v=or(v),p=p(v),a.flags|=1,bn(s,a,p,u),a.child;case 14:return p=a.type,v=Sr(p,a.pendingProps),v=Sr(p.type,v),y_(s,a,p,v,u);case 15:return v_(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Sr(p,v),td(s,a),a.tag=1,Nn(p)?(s=!0,Vc(a)):s=!1,ba(a,u),u_(a,p,v),_p(a,p,v,u),Tp(null,a,p,!0,s,u);case 19:return k_(s,a,u);case 22:return __(s,a,u)}throw Error(t(156,a.tag))};function G_(s,a){return Qo(s,a)}function T1(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(s,a,u,p){return new T1(s,a,u,p)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function x1(s){if(typeof s=="function")return Wp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===te)return 14}return 2}function gs(s,a){var u=s.alternate;return u===null?(u=ur(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function fd(s,a,u,p,v,E){var I=2;if(p=s,typeof s=="function")Wp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return vo(u.children,v,E,a);case C:I=8,v|=8;break;case A:return s=ur(12,u,a,v|2),s.elementType=A,s.lanes=E,s;case M:return s=ur(13,u,a,v),s.elementType=M,s.lanes=E,s;case ae:return s=ur(19,u,a,v),s.elementType=ae,s.lanes=E,s;case le:return hd(u,v,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:I=10;break e;case z:I=9;break e;case j:I=11;break e;case te:I=14;break e;case pe:I=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ur(I,u,a,v),a.elementType=s,a.type=p,a.lanes=E,a}function vo(s,a,u,p){return s=ur(7,s,p,a),s.lanes=u,s}function hd(s,a,u,p){return s=ur(22,s,p,a),s.elementType=le,s.lanes=u,s.stateNode={isHidden:!1},s}function Hp(s,a,u){return s=ur(6,s,null,a),s.lanes=u,s}function $p(s,a,u){return a=ur(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function S1(s,a,u,p,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Yp(s,a,u,p,v,E,I,W,$){return s=new S1(s,a,u,W,$),a===1?(a=1,E===!0&&(a|=8)):a=0,E=ur(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(E),s}function k1(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function X_(s){if(!s)return as;s=s._reactInternals;e:{if(gr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Nn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Nn(u))return Sv(s,u,a)}return a}function J_(s,a,u,p,v,E,I,W,$){return s=Yp(u,p,!0,s,v,E,I,W,$),s.context=X_(null),u=s.current,p=Tn(),v=ps(u),E=ki(p,v),E.callback=a??null,cs(u,E,v),s.current.lanes=v,Ji(s,v,p),On(s,p),s}function pd(s,a,u,p){var v=a.current,E=Tn(),I=ps(v);return u=X_(u),a.context===null?a.context=u:a.pendingContext=u,a=ki(E,I),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=cs(v,a,I),s!==null&&(Ir(s,v,I,E),$c(s,v,I)),I}function md(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Z_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function qp(s,a){Z_(s,a),(s=s.alternate)&&Z_(s,a)}var ew=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kp(s){this._internalRoot=s}gd.prototype.render=Kp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));pd(s,a,null,null)},gd.prototype.unmount=Kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mo(function(){pd(null,s,null,null)}),a[Ei]=null}};function gd(s){this._internalRoot=s}gd.prototype.unstable_scheduleHydration=function(s){if(s){var a=gc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Vr.length&&a!==0&&a<Vr[u].priority;u++);Vr.splice(u,0,s),u===0&&_c(s)}};function Qp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function tw(){}function C1(s,a,u,p,v){if(v){if(typeof p=="function"){var E=p;p=function(){var J=md(I);E.call(J)}}var I=J_(a,p,s,0,null,!1,!1,"",tw);return s._reactRootContainer=I,s[Ei]=I.current,jl(s.nodeType===8?s.parentNode:s),mo(),I}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var W=p;p=function(){var J=md($);W.call(J)}}var $=Yp(s,0,!1,null,null,!1,!1,"",tw);return s._reactRootContainer=$,s[Ei]=$.current,jl(s.nodeType===8?s.parentNode:s),mo(function(){pd(a,$,u,p)}),$}function vd(s,a,u,p,v){var E=u._reactRootContainer;if(E){var I=E;if(typeof v=="function"){var W=v;v=function(){var $=md(I);W.call($)}}pd(a,I,s,v)}else I=C1(u,a,s,v,p);return md(I)}pc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Gi(a.pendingLanes);u!==0&&(Zi(a,u|1),On(a,lt()),!(Ge&6)&&(Ca=lt()+500,ls()))}break;case 13:mo(function(){var p=Si(s,1);if(p!==null){var v=Tn();Ir(p,s,1,v)}}),qp(s,1)}},Jo=function(s){if(s.tag===13){var a=Si(s,134217728);if(a!==null){var u=Tn();Ir(a,s,134217728,u)}qp(s,134217728)}},mc=function(s){if(s.tag===13){var a=ps(s),u=Si(s,a);if(u!==null){var p=Tn();Ir(u,s,a,p)}qp(s,a)}},gc=function(){return $e},yc=function(s,a){var u=$e;try{return $e=s,a()}finally{$e=u}},Wo=function(s,a,u){switch(a){case"input":if(Jn(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var v=Mc(p);if(!v)throw Error(t(90));Xn(p),Jn(p,v)}}}break;case"textarea":hi(s,u);break;case"select":a=u.value,a!=null&&Bn(s,!!u.multiple,a,!1)}},Ks=Bp,Tl=mo;var I1={usingClientEntryPoint:!1,Events:[$l,pa,Mc,Mr,bl,Bp]},su={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D1={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kl(s),s===null?null:s.stateNode},findFiberByHostInstance:su.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{Zs=_d.inject(D1),zn=_d}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I1,Mn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qp(a))throw Error(t(200));return k1(s,a,null,u)},Mn.createRoot=function(s,a){if(!Qp(s))throw Error(t(299));var u=!1,p="",v=ew;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Yp(s,1,!1,null,null,u,!1,p,v),s[Ei]=a.current,jl(s.nodeType===8?s.parentNode:s),new Kp(a)},Mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=kl(a),s=s===null?null:s.stateNode,s},Mn.flushSync=function(s){return mo(s)},Mn.hydrate=function(s,a,u){if(!yd(a))throw Error(t(200));return vd(null,s,a,!0,u)},Mn.hydrateRoot=function(s,a,u){if(!Qp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,v=!1,E="",I=ew;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),a=J_(a,null,s,1,u??null,v,!1,E,I),s[Ei]=a.current,jl(s),p)for(s=0;s<p.length;s++)u=p[s],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new gd(a)},Mn.render=function(s,a,u){if(!yd(a))throw Error(t(200));return vd(null,s,a,!1,u)},Mn.unmountComponentAtNode=function(s){if(!yd(s))throw Error(t(40));return s._reactRootContainer?(mo(function(){vd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ei]=null})}),!0):!1},Mn.unstable_batchedUpdates=Bp,Mn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!yd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return vd(s,a,u,!1,p)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var aw;function KE(){if(aw)return Xp.exports;aw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xp.exports=U1(),Xp.exports}var lw;function B1(){if(lw)return wd;lw=1;var r=KE();return wd.createRoot=r.createRoot,wd.hydrateRoot=r.hydrateRoot,wd}var z1=B1();const QE=L.createContext(),j1=({children:r})=>{const[e,t]=L.useState(""),[n,i]=L.useState(""),[o,l]=L.useState(""),[c,d]=L.useState(""),[h,m]=L.useState(""),[g,y]=L.useState(""),[_,x]=L.useState(""),[S,b]=L.useState(),[N,P]=L.useState(),[R,O]=X.useState([]),[U,H]=L.useState([]),[D,C]=L.useState(),[A,V]=L.useState(),[z,j]=L.useState([]);return T(QE.Provider,{value:{username:e,setUsername:t,email:n,setEmail:i,password:o,setPassword:l,role:h,setRole:m,ConfirmPassword:c,setConfirmPassword:d,userPersonalInfo:g,setUserPersonalInfo:y,userProfessionalInfo:_,setUserProfessionalInfo:x,imageSrc:S,setImageSrc:b,image:N,setImage:P,appoinment:R,setAppoinment:O,doctor:U,setDoctor:H,patientPersonalInfo:D,setPatientPersonalInfo:C,patientMedicalInfo:A,setPatientMedicalInfo:V,accept:z,setAccept:j},children:r})},fr=()=>X.useContext(QE);var uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},W1=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,d=i+2<r.length,h=d?r[i+2]:0,m=o>>2,g=(o&3)<<4|c>>4;let y=(c&15)<<2|h>>6,_=h&63;d||(_=64,l||(y=64)),n.push(t[m],t[g],t[y],t[_])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(GE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):W1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||h==null||g==null)throw new H1;const y=o<<2|c>>4;if(n.push(y),h!==64){const _=c<<4&240|h>>2;if(n.push(_),g!==64){const x=h<<6&192|g;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(r){const e=GE(r);return XE.encodeByteArray(e,!0)},tf=function(r){return $1(r).replace(/\./g,"")},JE=function(r){try{return XE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=()=>Y1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof uw>"u")return;const r=uw.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&JE(r[1]);return e&&JSON.parse(e)},Vf=()=>{try{return q1()||K1()||Q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ZE=r=>{var e,t;return(t=(e=Vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},G1=r=>{const e=ZE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},eb=()=>{var r;return(r=Vf())===null||r===void 0?void 0:r.config},tb=r=>{var e;return(e=Vf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[tf(JSON.stringify(t)),tf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function ek(){var r;const e=(r=Vf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sk(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ok(){try{return typeof indexedDB=="object"}catch{return!1}}function ak(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="FirebaseError";class Yi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=lk,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?uk(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Yi(i,c,n)}}function uk(r,e){return r.replace(ck,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const ck=/\{\$([^}]+)}/g;function dk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function nf(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(cw(o)&&cw(l)){if(!nf(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function cw(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function fu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function hu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function fk(r,e){const t=new hk(r,e);return t.subscribe.bind(t)}class hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=em),i.error===void 0&&(i.error=em),i.complete===void 0&&(i.complete=em);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(r){return r&&r._delegate?r._delegate:r}class Io{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new X1;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(r){return r===_o?void 0:r}function yk(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const _k={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},wk=je.INFO,Ek={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},bk=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=Ek[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Tk=(r,e)=>e.some(t=>r instanceof t);let dw,fw;function xk(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,Qm=new WeakMap,rb=new WeakMap,tm=new WeakMap,Mg=new WeakMap;function kk(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(ks(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&nb.set(t,r)}).catch(()=>{}),Mg.set(e,r),e}function Ck(r){if(Qm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Qm.set(r,e)}let Gm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ik(r){Gm=r(Gm)}function Dk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(nm(this),e,...t);return rb.set(n,e.sort?e.sort():[e]),ks(n)}:Sk().includes(r)?function(...e){return r.apply(nm(this),e),ks(nb.get(this))}:function(...e){return ks(r.apply(nm(this),e))}}function Pk(r){return typeof r=="function"?Dk(r):(r instanceof IDBTransaction&&Ck(r),Tk(r,xk())?new Proxy(r,Gm):r)}function ks(r){if(r instanceof IDBRequest)return kk(r);if(tm.has(r))return tm.get(r);const e=Pk(r);return e!==r&&(tm.set(r,e),Mg.set(e,r)),e}const nm=r=>Mg.get(r);function Nk(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=ks(l);return n&&l.addEventListener("upgradeneeded",d=>{n(ks(l.result),d.oldVersion,d.newVersion,ks(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Rk=["get","getKey","getAll","getAllKeys","count"],Ak=["put","add","delete","clear"],rm=new Map;function hw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Ak.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Rk.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&d.done]))[0]};return rm.set(e,o),o}Ik(r=>({...r,get:(e,t,n)=>hw(e,t)||r.get(e,t,n),has:(e,t)=>!!hw(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mk(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Mk(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",pw="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Og("@firebase/app"),Lk="@firebase/app-compat",Vk="@firebase/analytics-compat",Fk="@firebase/analytics",Uk="@firebase/app-check-compat",Bk="@firebase/app-check",zk="@firebase/auth",jk="@firebase/auth-compat",Wk="@firebase/database",Hk="@firebase/data-connect",$k="@firebase/database-compat",Yk="@firebase/functions",qk="@firebase/functions-compat",Kk="@firebase/installations",Qk="@firebase/installations-compat",Gk="@firebase/messaging",Xk="@firebase/messaging-compat",Jk="@firebase/performance",Zk="@firebase/performance-compat",eC="@firebase/remote-config",tC="@firebase/remote-config-compat",nC="@firebase/storage",rC="@firebase/storage-compat",iC="@firebase/firestore",sC="@firebase/vertexai",oC="@firebase/firestore-compat",aC="firebase",lC="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",uC={[Xm]:"fire-core",[Lk]:"fire-core-compat",[Fk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Bk]:"fire-app-check",[Uk]:"fire-app-check-compat",[zk]:"fire-auth",[jk]:"fire-auth-compat",[Wk]:"fire-rtdb",[Hk]:"fire-data-connect",[$k]:"fire-rtdb-compat",[Yk]:"fire-fn",[qk]:"fire-fn-compat",[Kk]:"fire-iid",[Qk]:"fire-iid-compat",[Gk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Jk]:"fire-perf",[Zk]:"fire-perf-compat",[eC]:"fire-rc",[tC]:"fire-rc-compat",[nC]:"fire-gcs",[rC]:"fire-gcs-compat",[iC]:"fire-fst",[oC]:"fire-fst-compat",[sC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Map,cC=new Map,Zm=new Map;function mw(r,e){try{r.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ja(r){const e=r.name;if(Zm.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,r);for(const t of rf.values())mw(t,r);for(const t of cC.values())mw(t,r);return!0}function Lg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Qr(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Bu("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=lC;function ib(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(t||(t=eb()),!t)throw Cs.create("no-options");const o=rf.get(i);if(o){if(nf(t,o.options)&&nf(n,o.config))return o;throw Cs.create("duplicate-app",{appName:i})}const l=new vk(i);for(const d of Zm.values())l.addComponent(d);const c=new fC(t,n,l);return rf.set(i,c),c}function sb(r=Jm){const e=rf.get(r);if(!e&&r===Jm&&eb())return ib();if(!e)throw Cs.create("no-app",{appName:r});return e}function Is(r,e,t){var n;let i=(n=uC[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(c.join(" "));return}ja(new Io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",pC=1,ku="firebase-heartbeat-store";let im=null;function ob(){return im||(im=Nk(hC,pC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),im}async function mC(r){try{const t=(await ob()).transaction(ku),n=await t.objectStore(ku).get(ab(r));return await t.done,n}catch(e){if(e instanceof Yi)Bi.warn(e.message);else{const t=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function gw(r,e){try{const n=(await ob()).transaction(ku,"readwrite");await n.objectStore(ku).put(e,ab(r)),await n.done}catch(t){if(t instanceof Yi)Bi.warn(t.message);else{const n=Cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}function ab(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1024,yC=30*24*60*60*1e3;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wC(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=yC}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Bi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yw(),{heartbeatsToSend:n,unsentEntries:i}=_C(this._heartbeatsCache.heartbeats),o=tf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bi.warn(t),""}}}function yw(){return new Date().toISOString().substring(0,10)}function _C(r,e=gC){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),vw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class wC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ok()?ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vw(r){return tf(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){ja(new Io("platform-logger",e=>new Ok(e),"PRIVATE")),ja(new Io("heartbeat",e=>new vC(e),"PRIVATE")),Is(Xm,pw,r),Is(Xm,pw,"esm2017"),Is("fire-js","")}EC("");var bC="firebase",TC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(bC,TC,"app");function Vg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xC=lb,ub=new Bu("auth","Firebase",lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Og("@firebase/auth");function SC(r,...e){sf.logLevel<=je.WARN&&sf.warn(`Auth (${rl}): ${r}`,...e)}function Vd(r,...e){sf.logLevel<=je.ERROR&&sf.error(`Auth (${rl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,...e){throw Fg(r,...e)}function Xr(r,...e){return Fg(r,...e)}function cb(r,e,t){const n=Object.assign(Object.assign({},xC()),{[e]:t});return new Bu("auth","Firebase",n).create(e,{appName:r.name})}function Ai(r){return cb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return ub.create(r,...e)}function Pe(r,e,...t){if(!r)throw Fg(e,...t)}function Pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vd(e),new Error(e)}function zi(r,e){r||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function kC(){return _w()==="http:"||_w()==="https:"}function _w(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kC()||nk()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||rk()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,e){zi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new ju(3e4,6e4);function Us(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Bs(r,e,t,n,i={}){return fb(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=zu(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const h=Object.assign({method:e,headers:d},o);return tk()||(h.referrerPolicy="no-referrer"),db.fetch()(hb(r,r.config.apiHost,t,c),h)})}async function fb(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},DC),e);try{const i=new RC(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ed(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ed(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ed(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw cb(r,m,h);Rr(r,m)}}catch(i){if(i instanceof Yi)throw i;Rr(r,"network-request-failed",{message:String(i)})}}async function Wu(r,e,t,n,i={}){const o=await Bs(r,e,t,n,i);return"mfaPendingCredential"in o&&Rr(r,"multi-factor-auth-required",{_serverResponse:o}),o}function hb(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?Ug(r.config,i):`${r.config.apiScheme}://${i}`}function NC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Xr(this.auth,"network-request-failed")),PC.get())})}}function Ed(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Xr(r,e,n);return i.customData._tokenResponse=t,i}function ww(r){return r!==void 0&&r.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OC(r,e){return Bs(r,"GET","/v2/recaptchaConfig",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,e){return Bs(r,"POST","/v1/accounts:delete",e)}async function pb(r,e){return Bs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(r,e=!1){const t=_n(r),n=await t.getIdToken(e),i=Bg(n);Pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:wu(sm(i.auth_time)),issuedAtTime:wu(sm(i.iat)),expirationTime:wu(sm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sm(r){return Number(r)*1e3}function Bg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=JE(t);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ew(r){const e=Bg(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Yi&&VC(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function VC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Cu(r,pb(t,{idToken:n}));Pe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mb(o.providerUserInfo):[],c=BC(r.providerData,l),d=r.isAnonymous,h=!(r.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,g)}async function UC(r){const e=_n(r);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BC(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function mb(r){return r.map(e=>{var{providerId:t}=e,n=Vg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e){const t=await fb(r,{},async()=>{const n=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=hb(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",db.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jC(r,e){return Bs(r,"POST","/v2/accounts:revokeToken",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=Ew(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await zC(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new La;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Pe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=Vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LC(this,e)}reload(){return UC(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await of(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Cu(this,MC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,c,d,h,m;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=t.createdAt)!==null&&h!==void 0?h:void 0,P=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:R,emailVerified:O,isAnonymous:U,providerData:H,stsTokenManager:D}=t;Pe(R&&D,e,"internal-error");const C=La.fromJSON(this.name,D);Pe(typeof R=="string",e,"internal-error"),vs(g,e.name),vs(y,e.name),Pe(typeof O=="boolean",e,"internal-error"),Pe(typeof U=="boolean",e,"internal-error"),vs(_,e.name),vs(x,e.name),vs(S,e.name),vs(b,e.name),vs(N,e.name),vs(P,e.name);const A=new Ni({uid:R,auth:e,email:y,emailVerified:O,displayName:g,isAnonymous:U,photoURL:x,phoneNumber:_,tenantId:S,stsTokenManager:C,createdAt:N,lastLoginAt:P});return H&&Array.isArray(H)&&(A.providerData=H.map(V=>Object.assign({},V))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,t,n=!1){const i=new La;i.updateFromServerResponse(t);const o=new Ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await of(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Pe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?mb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new La;c.updateFromIdToken(n);const d=new Ni({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;function Ri(r){zi(r instanceof Function,"Expected a class definition");let e=bw.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,bw.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gb.type="NONE";const Tw=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r,e,t){return`firebase:${r}:${e}:${t}`}class Va{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Va(Ri(Tw),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Ri(Tw);const l=Fd(n,e.config.apiKey,e.name);let c=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Ni._fromJSON(e,m);h!==o&&(c=g),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Va(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Va(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bb(e))return"Blackberry";if(Tb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function yb(r=vn()){return/firefox\//i.test(r)}function vb(r=vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(r=vn()){return/crios\//i.test(r)}function wb(r=vn()){return/iemobile/i.test(r)}function Eb(r=vn()){return/android/i.test(r)}function bb(r=vn()){return/blackberry/i.test(r)}function Tb(r=vn()){return/webos/i.test(r)}function zg(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WC(r=vn()){var e;return zg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HC(){return ik()&&document.documentMode===10}function xb(r=vn()){return zg(r)||Eb(r)||Tb(r)||bb(r)||/windows phone/i.test(r)||wb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,e=[]){let t;switch(r){case"Browser":t=xw(vn());break;case"Worker":t=`${xw(vn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(r,e={}){return Bs(r,"GET","/v2/passwordPolicy",Us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=6;class KC{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:qC,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pb(this,{idToken:e}),n=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Ai(this));const t=e?_n(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YC(this),t=new KC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await jC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lo(r){return _n(r)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fk(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(r){Ff=r}function kb(r){return Ff.loadJS(r)}function XC(){return Ff.recaptchaEnterpriseScript}function JC(){return Ff.gapiScript}function ZC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eI{constructor(){this.enterprise=new tI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nI="recaptcha-enterprise",Cb="NO_RECAPTCHA";class rI{constructor(e){this.type=nI,this.auth=Lo(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{OC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new AC(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;ww(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(Cb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&ww(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=XC();d.length!==0&&(d+=c),kb(d).then(()=>{i(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function kw(r,e,t,n=!1,i=!1){const o=new rI(r);let l;if(i)l=Cb;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ng(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await kw(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await kw(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r,e){const t=Lg(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(nf(o,e??{}))return i;Rr(i,"already-initialized")}return t.initialize({options:e})}function sI(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ri);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function oI(r,e,t){const n=Lo(r);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Ib(e),{host:l,port:c}=aI(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),lI()}function Ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aI(r){const e=Ib(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:Cw(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:Cw(l)}}}function Cw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function uI(r,e){return Bs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,e){return Wu(r,"POST","/v1/accounts:signInWithPassword",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,e))}async function fI(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends jg{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Iu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Iu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,t,"signInWithPassword",cI);case"emailLink":return dI(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,n,"signUpPassword",uI);case"emailLink":return fI(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r,e){return Wu(r,"POST","/v1/accounts:signInWithIdp",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="http://localhost";class Do extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=Vg(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Do(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Fa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fa(e,t)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mI(r){const e=fu(hu(r)).link,t=e?fu(hu(e)).deep_link_id:null,n=fu(hu(r)).deep_link_id;return(n?fu(hu(n)).link:null)||n||t||e||r}class Wg{constructor(e){var t,n,i,o,l,c;const d=fu(hu(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,g=pI((i=d.mode)!==null&&i!==void 0?i:null);Pe(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=mI(e);try{return new Wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,t){return Iu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Wg.parseLink(t);return Pe(n,"argument-error"),Iu._fromEmailAndCode(e,n.code,n.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Hu{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Es.credential(t,n)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Hu{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Hu{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ts.credential(t,n)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return Wu(r,"POST","/v1/accounts:signUp",Us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Ni._fromIdTokenResponse(e,n,i),l=Iw(n);return new Po({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Iw(n);return new Po({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Iw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Yi{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new af(e,t,n,i)}}function Pb(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(r,o,e,n):o})}async function yI(r,e,t=!1){const n=await Cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Po._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e,t=!1){const{auth:n}=r;if(Qr(n.app))return Promise.reject(Ai(n));const i="reauthenticate";try{const o=await Cu(r,Pb(n,i,e,r),t);Pe(o.idToken,n,"internal-error");const l=Bg(o.idToken);Pe(l,n,"internal-error");const{sub:c}=l;return Pe(r.uid===c,n,"user-mismatch"),Po._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(r,e,t=!1){if(Qr(r.app))return Promise.reject(Ai(r));const n="signIn",i=await Pb(r,n,e),o=await Po._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function _I(r,e){return Nb(Lo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(r){const e=Lo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ab(r,e,t){if(Qr(r.app))return Promise.reject(Ai(r));const n=Lo(r),l=await ng(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gI).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Rb(r),d}),c=await Po._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function Ob(r,e,t){return Qr(r.app)?Promise.reject(Ai(r)):_I(_n(r),il.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Rb(r),n})}function wI(r,e,t,n){return _n(r).onIdTokenChanged(e,t,n)}function EI(r,e,t){return _n(r).beforeAuthStateChanged(e,t)}function sl(r,e,t,n){return _n(r).onAuthStateChanged(e,t,n)}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,TI=10;class Lb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);HC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TI):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const xI=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vb.type="SESSION";const Fb=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Uf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async h=>h(t.origin,o)),d=await SI(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=Hg("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function CI(r){Jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PI(){return Ub()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebaseLocalStorageDb",NI=1,uf="firebaseLocalStorage",zb="fbase_key";class $u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bf(r,e){return r.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function RI(){const r=indexedDB.deleteDatabase(Bb);return new $u(r).toPromise()}function rg(){const r=indexedDB.open(Bb,NI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(uf,{keyPath:zb})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(uf)?e(n):(n.close(),await RI(),e(await rg()))})})}async function Dw(r,e,t){const n=Bf(r,!0).put({[zb]:e,value:t});return new $u(n).toPromise()}async function AI(r,e){const t=Bf(r,!1).get(e),n=await new $u(t).toPromise();return n===void 0?null:n.value}function Pw(r,e){const t=Bf(r,!0).delete(e);return new $u(t).toPromise()}const OI=800,MI=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>MI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(PI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await Dw(e,lf,"1"),await Pw(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>AI(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Bf(i,!1).getAll();return new $u(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const LI=jb;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){return e?Ri(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FI(r){return Nb(r.auth,new $g(r),r.bypassAuthState)}function UI(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),vI(t,new $g(r),r.bypassAuthState)}async function BI(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),yI(t,new $g(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return BI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:Rr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new ju(2e3,1e4);class Ma extends Wb{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zI.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="pendingRedirect",Ud=new Map;class WI extends Wb{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const n=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(r,e){const t=qI(e),n=YI(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function $I(r,e){Ud.set(r._key(),e)}function YI(r){return Ri(r._redirectPersistence)}function qI(r){return Fd(jI,r.config.apiKey,r.name)}async function KI(r,e,t=!1){if(Qr(r.app))return Promise.reject(Ai(r));const n=Lo(r),i=VI(n,e),l=await new WI(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=10*60*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hb(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Hb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e={}){return Bs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eD=/^https?/;async function tD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JI(r);for(const t of e)try{if(nD(t))return}catch{}Rr(r,"unauthorized-domain")}function nD(r){const e=eg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!eD.test(t))return!1;if(ZI.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new ju(3e4,6e4);function Rw(){const r=Jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function iD(r){return new Promise((e,t)=>{var n,i,o;function l(){Rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rw(),t(Xr(r,"network-request-failed"))},timeout:rD.get()})}if(!((i=(n=Jr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)l();else{const c=ZC("iframefcb");return Jr()[c]=()=>{gapi.load?l():t(Xr(r,"network-request-failed"))},kb(`${JC()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function sD(r){return Bd=Bd||iD(r),Bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new ju(5e3,15e3),aD="__/auth/iframe",lD="emulator/auth/iframe",uD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ug(e,lD):`https://${r.config.authDomain}/${aD}`,n={apiKey:e.apiKey,appName:r.name,v:rl},i=cD.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${zu(n).slice(1)}`}async function fD(r){const e=await sD(r),t=Jr().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:dD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uD,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=Xr(r,"network-request-failed"),c=Jr().setTimeout(()=>{o(l)},oD.get());function d(){Jr().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,mD=600,gD="_blank",yD="http://localhost";class Aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(r,e,t,n=pD,i=mD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},hD),{width:n.toString(),height:i.toString(),top:o,left:l}),h=vn().toLowerCase();t&&(c=_b(h)?gD:t),yb(h)&&(e=e||yD,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[_,x])=>`${y}${_}=${x},`,"");if(WC(h)&&c!=="_self")return _D(e||"",c),new Aw(null);const g=window.open(e||"",c,m);Pe(g,r,"popup-blocked");try{g.focus()}catch{}return new Aw(g)}function _D(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__/auth/handler",ED="emulator/auth/handler",bD=encodeURIComponent("fac");async function Ow(r,e,t,n,i,o){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:rl,eventId:i};if(e instanceof Db){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",dk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Hu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await r._getAppCheckToken(),h=d?`#${bD}=${encodeURIComponent(d)}`:"";return`${TD(r)}?${zu(c).slice(1)}${h}`}function TD({config:r}){return r.emulator?Ug(r,ED):`https://${r.authDomain}/${wD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class xD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=KI,this._overrideRedirectResult=$I}async _openPopup(e,t,n,i){var o;zi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Ow(e,t,n,eg(),i);return vD(e,l,Hg())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await Ow(e,t,n,eg(),i);return CI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(zi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await fD(e),n=new GI(e);return t.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(om,{type:om},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[om];l!==void 0&&t(!!l),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xb()||vb()||zg()}}const SD=xD;var Mw="@firebase/auth",Lw="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ID(r){ja(new Io("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},h=new QC(n,i,o,d);return sI(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ja(new Io("auth-internal",e=>{const t=Lo(e.getProvider("auth").getImmediate());return(n=>new kD(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Mw,Lw,CD(r)),Is(Mw,Lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=5*60,PD=tb("authIdTokenMaxAge")||DD;let Vw=null;const ND=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>PD)return;const i=t==null?void 0:t.token;Vw!==i&&(Vw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RD(r=sb()){const e=Lg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=iI(r,{popupRedirectResolver:SD,persistence:[LI,xI,Fb]}),n=tb("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=ND(o.toString());EI(t,l,()=>l(t.currentUser)),wI(t,c=>l(c))}}const i=ZE("auth");return i&&oI(t,`http://${i}`),t}function AD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}GC({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=Xr("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",AD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ID("Browser");var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,$b;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function A(){}A.prototype=C.prototype,D.D=C.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(V,z,j){for(var M=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)M[ae-2]=arguments[ae];return C.prototype[z].apply(V,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,A){A||(A=0);var V=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)V[z]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(z=0;16>z;++z)V[z]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=D.g[0],A=D.g[1],z=D.g[2];var j=D.g[3],M=C+(j^A&(z^j))+V[0]+3614090360&4294967295;C=A+(M<<7&4294967295|M>>>25),M=j+(z^C&(A^z))+V[1]+3905402710&4294967295,j=C+(M<<12&4294967295|M>>>20),M=z+(A^j&(C^A))+V[2]+606105819&4294967295,z=j+(M<<17&4294967295|M>>>15),M=A+(C^z&(j^C))+V[3]+3250441966&4294967295,A=z+(M<<22&4294967295|M>>>10),M=C+(j^A&(z^j))+V[4]+4118548399&4294967295,C=A+(M<<7&4294967295|M>>>25),M=j+(z^C&(A^z))+V[5]+1200080426&4294967295,j=C+(M<<12&4294967295|M>>>20),M=z+(A^j&(C^A))+V[6]+2821735955&4294967295,z=j+(M<<17&4294967295|M>>>15),M=A+(C^z&(j^C))+V[7]+4249261313&4294967295,A=z+(M<<22&4294967295|M>>>10),M=C+(j^A&(z^j))+V[8]+1770035416&4294967295,C=A+(M<<7&4294967295|M>>>25),M=j+(z^C&(A^z))+V[9]+2336552879&4294967295,j=C+(M<<12&4294967295|M>>>20),M=z+(A^j&(C^A))+V[10]+4294925233&4294967295,z=j+(M<<17&4294967295|M>>>15),M=A+(C^z&(j^C))+V[11]+2304563134&4294967295,A=z+(M<<22&4294967295|M>>>10),M=C+(j^A&(z^j))+V[12]+1804603682&4294967295,C=A+(M<<7&4294967295|M>>>25),M=j+(z^C&(A^z))+V[13]+4254626195&4294967295,j=C+(M<<12&4294967295|M>>>20),M=z+(A^j&(C^A))+V[14]+2792965006&4294967295,z=j+(M<<17&4294967295|M>>>15),M=A+(C^z&(j^C))+V[15]+1236535329&4294967295,A=z+(M<<22&4294967295|M>>>10),M=C+(z^j&(A^z))+V[1]+4129170786&4294967295,C=A+(M<<5&4294967295|M>>>27),M=j+(A^z&(C^A))+V[6]+3225465664&4294967295,j=C+(M<<9&4294967295|M>>>23),M=z+(C^A&(j^C))+V[11]+643717713&4294967295,z=j+(M<<14&4294967295|M>>>18),M=A+(j^C&(z^j))+V[0]+3921069994&4294967295,A=z+(M<<20&4294967295|M>>>12),M=C+(z^j&(A^z))+V[5]+3593408605&4294967295,C=A+(M<<5&4294967295|M>>>27),M=j+(A^z&(C^A))+V[10]+38016083&4294967295,j=C+(M<<9&4294967295|M>>>23),M=z+(C^A&(j^C))+V[15]+3634488961&4294967295,z=j+(M<<14&4294967295|M>>>18),M=A+(j^C&(z^j))+V[4]+3889429448&4294967295,A=z+(M<<20&4294967295|M>>>12),M=C+(z^j&(A^z))+V[9]+568446438&4294967295,C=A+(M<<5&4294967295|M>>>27),M=j+(A^z&(C^A))+V[14]+3275163606&4294967295,j=C+(M<<9&4294967295|M>>>23),M=z+(C^A&(j^C))+V[3]+4107603335&4294967295,z=j+(M<<14&4294967295|M>>>18),M=A+(j^C&(z^j))+V[8]+1163531501&4294967295,A=z+(M<<20&4294967295|M>>>12),M=C+(z^j&(A^z))+V[13]+2850285829&4294967295,C=A+(M<<5&4294967295|M>>>27),M=j+(A^z&(C^A))+V[2]+4243563512&4294967295,j=C+(M<<9&4294967295|M>>>23),M=z+(C^A&(j^C))+V[7]+1735328473&4294967295,z=j+(M<<14&4294967295|M>>>18),M=A+(j^C&(z^j))+V[12]+2368359562&4294967295,A=z+(M<<20&4294967295|M>>>12),M=C+(A^z^j)+V[5]+4294588738&4294967295,C=A+(M<<4&4294967295|M>>>28),M=j+(C^A^z)+V[8]+2272392833&4294967295,j=C+(M<<11&4294967295|M>>>21),M=z+(j^C^A)+V[11]+1839030562&4294967295,z=j+(M<<16&4294967295|M>>>16),M=A+(z^j^C)+V[14]+4259657740&4294967295,A=z+(M<<23&4294967295|M>>>9),M=C+(A^z^j)+V[1]+2763975236&4294967295,C=A+(M<<4&4294967295|M>>>28),M=j+(C^A^z)+V[4]+1272893353&4294967295,j=C+(M<<11&4294967295|M>>>21),M=z+(j^C^A)+V[7]+4139469664&4294967295,z=j+(M<<16&4294967295|M>>>16),M=A+(z^j^C)+V[10]+3200236656&4294967295,A=z+(M<<23&4294967295|M>>>9),M=C+(A^z^j)+V[13]+681279174&4294967295,C=A+(M<<4&4294967295|M>>>28),M=j+(C^A^z)+V[0]+3936430074&4294967295,j=C+(M<<11&4294967295|M>>>21),M=z+(j^C^A)+V[3]+3572445317&4294967295,z=j+(M<<16&4294967295|M>>>16),M=A+(z^j^C)+V[6]+76029189&4294967295,A=z+(M<<23&4294967295|M>>>9),M=C+(A^z^j)+V[9]+3654602809&4294967295,C=A+(M<<4&4294967295|M>>>28),M=j+(C^A^z)+V[12]+3873151461&4294967295,j=C+(M<<11&4294967295|M>>>21),M=z+(j^C^A)+V[15]+530742520&4294967295,z=j+(M<<16&4294967295|M>>>16),M=A+(z^j^C)+V[2]+3299628645&4294967295,A=z+(M<<23&4294967295|M>>>9),M=C+(z^(A|~j))+V[0]+4096336452&4294967295,C=A+(M<<6&4294967295|M>>>26),M=j+(A^(C|~z))+V[7]+1126891415&4294967295,j=C+(M<<10&4294967295|M>>>22),M=z+(C^(j|~A))+V[14]+2878612391&4294967295,z=j+(M<<15&4294967295|M>>>17),M=A+(j^(z|~C))+V[5]+4237533241&4294967295,A=z+(M<<21&4294967295|M>>>11),M=C+(z^(A|~j))+V[12]+1700485571&4294967295,C=A+(M<<6&4294967295|M>>>26),M=j+(A^(C|~z))+V[3]+2399980690&4294967295,j=C+(M<<10&4294967295|M>>>22),M=z+(C^(j|~A))+V[10]+4293915773&4294967295,z=j+(M<<15&4294967295|M>>>17),M=A+(j^(z|~C))+V[1]+2240044497&4294967295,A=z+(M<<21&4294967295|M>>>11),M=C+(z^(A|~j))+V[8]+1873313359&4294967295,C=A+(M<<6&4294967295|M>>>26),M=j+(A^(C|~z))+V[15]+4264355552&4294967295,j=C+(M<<10&4294967295|M>>>22),M=z+(C^(j|~A))+V[6]+2734768916&4294967295,z=j+(M<<15&4294967295|M>>>17),M=A+(j^(z|~C))+V[13]+1309151649&4294967295,A=z+(M<<21&4294967295|M>>>11),M=C+(z^(A|~j))+V[4]+4149444226&4294967295,C=A+(M<<6&4294967295|M>>>26),M=j+(A^(C|~z))+V[11]+3174756917&4294967295,j=C+(M<<10&4294967295|M>>>22),M=z+(C^(j|~A))+V[2]+718787259&4294967295,z=j+(M<<15&4294967295|M>>>17),M=A+(j^(z|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(z+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+j&4294967295}n.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var A=C-this.blockSize,V=this.B,z=this.h,j=0;j<C;){if(z==0)for(;j<=A;)i(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(V[z++]=D.charCodeAt(j++),z==this.blockSize){i(this,V),z=0;break}}else for(;j<C;)if(V[z++]=D[j++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=C},n.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var A=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=A&255,A/=256;for(this.u(D),D=Array(16),C=A=0;4>C;++C)for(var V=0;32>V;V+=8)D[A++]=this.g[C]>>>V&255;return D};function o(D,C){var A=c;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=C(D)}function l(D,C){this.h=C;for(var A=[],V=!0,z=D.length-1;0<=z;z--){var j=D[z]|0;V&&j==C||(A[z]=j,V=!1)}this.g=A}var c={};function d(D){return-128<=D&&128>D?o(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return b(h(-D));for(var C=[],A=1,V=0;D>=A;V++)C[V]=D/A|0,A*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return b(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(C,8)),V=g,z=0;z<D.length;z+=8){var j=Math.min(8,D.length-z),M=parseInt(D.substring(z,z+j),C);8>j?(j=h(Math.pow(C,j)),V=V.j(j).add(h(M))):(V=V.j(A),V=V.add(h(M)))}return V}var g=d(0),y=d(1),_=d(16777216);r=l.prototype,r.m=function(){if(S(this))return-b(this).m();for(var D=0,C=1,A=0;A<this.g.length;A++){var V=this.i(A);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(S(this))return"-"+b(this).toString(D);for(var C=h(Math.pow(D,6)),A=this,V="";;){var z=O(A,C).g;A=N(A,z.j(C));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=z,x(A))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function S(D){return D.h==-1}r.l=function(D){return D=N(this,D),S(D)?-1:x(D)?0:1};function b(D){for(var C=D.g.length,A=[],V=0;V<C;V++)A[V]=~D.g[V];return new l(A,~D.h).add(y)}r.abs=function(){return S(this)?b(this):this},r.add=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],V=0,z=0;z<=C;z++){var j=V+(this.i(z)&65535)+(D.i(z)&65535),M=(j>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);V=M>>>16,j&=65535,M&=65535,A[z]=M<<16|j}return new l(A,A[A.length-1]&-2147483648?-1:0)};function N(D,C){return D.add(b(C))}r.j=function(D){if(x(this)||x(D))return g;if(S(this))return S(D)?b(this).j(b(D)):b(b(this).j(D));if(S(D))return b(this.j(b(D)));if(0>this.l(_)&&0>D.l(_))return h(this.m()*D.m());for(var C=this.g.length+D.g.length,A=[],V=0;V<2*C;V++)A[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<D.g.length;z++){var j=this.i(V)>>>16,M=this.i(V)&65535,ae=D.i(z)>>>16,te=D.i(z)&65535;A[2*V+2*z]+=M*te,P(A,2*V+2*z),A[2*V+2*z+1]+=j*te,P(A,2*V+2*z+1),A[2*V+2*z+1]+=M*ae,P(A,2*V+2*z+1),A[2*V+2*z+2]+=j*ae,P(A,2*V+2*z+2)}for(V=0;V<C;V++)A[V]=A[2*V+1]<<16|A[2*V];for(V=C;V<2*C;V++)A[V]=0;return new l(A,0)};function P(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function R(D,C){this.g=D,this.h=C}function O(D,C){if(x(C))throw Error("division by zero");if(x(D))return new R(g,g);if(S(D))return C=O(b(D),C),new R(b(C.g),b(C.h));if(S(C))return C=O(D,b(C)),new R(b(C.g),C.h);if(30<D.g.length){if(S(D)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var A=y,V=C;0>=V.l(D);)A=U(A),V=U(V);var z=H(A,1),j=H(V,1);for(V=H(V,2),A=H(A,2);!x(V);){var M=j.add(V);0>=M.l(D)&&(z=z.add(A),j=M),V=H(V,1),A=H(A,1)}return C=N(D,z.j(C)),new R(z,C)}for(z=g;0<=D.l(C);){for(A=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(A)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=h(A),M=j.j(C);S(M)||0<M.l(D);)A-=V,j=h(A),M=j.j(C);x(j)&&(j=y),z=z.add(j),D=N(D,M)}return new R(z,D)}r.A=function(D){return O(this,D).h},r.and=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],V=0;V<C;V++)A[V]=this.i(V)&D.i(V);return new l(A,this.h&D.h)},r.or=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],V=0;V<C;V++)A[V]=this.i(V)|D.i(V);return new l(A,this.h|D.h)},r.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],V=0;V<C;V++)A[V]=this.i(V)^D.i(V);return new l(A,this.h^D.h)};function U(D){for(var C=D.g.length+1,A=[],V=0;V<C;V++)A[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(A,D.h)}function H(D,C){var A=C>>5;C%=32;for(var V=D.g.length-A,z=[],j=0;j<V;j++)z[j]=0<C?D.i(j+A)>>>C|D.i(j+A+1)<<32-C:D.i(j+A);return new l(z,D.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$b=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,To=l}).apply(typeof Fw<"u"?Fw:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yb,pu,qb,zd,ig,Kb,Qb,Gb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,k){return f==Array.prototype||f==Object.prototype||(f[w]=k.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var w=0;w<f.length;++w){var k=f[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=t(this);function i(f,w){if(w)e:{var k=n;f=f.split(".");for(var F=0;F<f.length-1;F++){var K=f[F];if(!(K in k))break e;k=k[K]}f=f[f.length-1],F=k[f],w=w(F),w!=F&&w!=null&&e(k,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var k=0,F=!1,K={next:function(){if(!F&&k<f.length){var ee=k++;return{value:w(ee,f[ee]),done:!1}}return F=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function m(f,w,k){return f.call.apply(f.bind,arguments)}function g(f,w,k){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,F),f.apply(w,K)}}return function(){return f.apply(w,arguments)}}function y(f,w,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function _(f,w){var k=Array.prototype.slice.call(arguments,1);return function(){var F=k.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function x(f,w){function k(){}k.prototype=w.prototype,f.aa=w.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(F,K,ee){for(var me=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)me[nt-2]=arguments[nt];return w.prototype[K].apply(F,me)}}function S(f){const w=f.length;if(0<w){const k=Array(w);for(let F=0;F<w;F++)k[F]=f[F];return k}return[]}function b(f,w){for(let k=1;k<arguments.length;k++){const F=arguments[k];if(d(F)){const K=f.length||0,ee=F.length||0;f.length=K+ee;for(let me=0;me<ee;me++)f[K+me]=F[me]}else f.push(F)}}class N{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function P(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function H(f,w,k){for(const F in f)w.call(k,f[F],F,f)}function D(f,w){for(const k in f)w.call(void 0,f[k],k,f)}function C(f){const w={};for(const k in f)w[k]=f[k];return w}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,w){let k,F;for(let K=1;K<arguments.length;K++){F=arguments[K];for(k in F)f[k]=F[k];for(let ee=0;ee<A.length;ee++)k=A[ee],Object.prototype.hasOwnProperty.call(F,k)&&(f[k]=F[k])}}function z(f){var w=1;f=f.split(":");const k=[];for(;0<w&&f.length;)k.push(f.shift()),w--;return f.length&&k.push(f.join(":")),k}function j(f){c.setTimeout(()=>{throw f},0)}function M(){var f=fe;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class ae{constructor(){this.h=this.g=null}add(w,k){const F=te.get();F.set(w,k),this.h?this.h.next=F:this.g=F,this.h=F}}var te=new N(()=>new pe,f=>f.reset());class pe{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Z=!1,fe=new ae,ie=()=>{const f=c.Promise.resolve(void 0);le=()=>{f.then(Y)}};var Y=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(k){j(k)}var w=te;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}Z=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};c.addEventListener("test",k,w),c.removeEventListener("test",k,w)}catch{}return f}();function Ae(f,w){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(U){e:{try{O(w.nodeName);var K=!0;break e}catch{}K=!1}K||(w=null)}}else k=="mouseover"?w=f.fromElement:k=="mouseout"&&(w=f.toElement);this.relatedTarget=w,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Fe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}x(Ae,oe);var Fe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ze(f,w,k,F,K){this.listener=f,this.proxy=null,this.src=w,this.type=k,this.capture=!!F,this.ha=K,this.key=++He,this.da=this.fa=!1}function bt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qt(f){this.src=f,this.g={},this.h=0}Qt.prototype.add=function(f,w,k,F,K){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var me=ye(f,w,F,K);return-1<me?(w=f[me],k||(w.fa=!1)):(w=new Ze(w,this.src,ee,!!F,K),w.fa=k,f.push(w)),w};function Xn(f,w){var k=w.type;if(k in f.g){var F=f.g[k],K=Array.prototype.indexOf.call(F,w,void 0),ee;(ee=0<=K)&&Array.prototype.splice.call(F,K,1),ee&&(bt(w),f.g[k].length==0&&(delete f.g[k],f.h--))}}function ye(f,w,k,F){for(var K=0;K<f.length;++K){var ee=f[K];if(!ee.da&&ee.listener==w&&ee.capture==!!k&&ee.ha==F)return K}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),mt={};function It(f,w,k,F,K){if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)It(f,w[ee],k,F,K);return null}return k=ml(k),f&&f[ze]?f.K(w,k,h(F)?!!F.capture:!1,K):Jn(f,w,k,!1,F,K)}function Jn(f,w,k,F,K,ee){if(!w)throw Error("Invalid event type");var me=h(K)?!!K.capture:!!K,nt=qi(f);if(nt||(f[ot]=nt=new Qt(f)),k=nt.add(w,k,F,me,ee),k.proxy)return k;if(F=Gt(),k.proxy=F,F.src=f,F.listener=k,f.addEventListener)Le||(K=me),K===void 0&&(K=!1),f.addEventListener(w.toString(),F,K);else if(f.attachEvent)f.attachEvent(Bn(w.toString()),F);else if(f.addListener&&f.removeListener)f.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Gt(){function f(k){return w.call(f.src,f.listener,k)}const w=Hs;return f}function Ws(f,w,k,F,K){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)Ws(f,w[ee],k,F,K);else F=h(F)?!!F.capture:!!F,k=ml(k),f&&f[ze]?(f=f.i,w=String(w).toString(),w in f.g&&(ee=f.g[w],k=ye(ee,k,F,K),-1<k&&(bt(ee[k]),Array.prototype.splice.call(ee,k,1),ee.length==0&&(delete f.g[w],f.h--)))):f&&(f=qi(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ye(w,k,F,K)),(k=-1<f?w[f]:null)&&Zn(k))}function Zn(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[ze])Xn(w.i,f);else{var k=f.type,F=f.proxy;w.removeEventListener?w.removeEventListener(k,F,f.capture):w.detachEvent?w.detachEvent(Bn(k),F):w.addListener&&w.removeListener&&w.removeListener(F),(k=qi(w))?(Xn(k,f),k.h==0&&(k.src=null,w[ot]=null)):bt(f)}}}function Bn(f){return f in mt?mt[f]:mt[f]="on"+f}function Hs(f,w){if(f.da)f=!0;else{w=new Ae(w,this);var k=f.listener,F=f.ha||f.src;f.fa&&Zn(f),f=k.call(F,w)}return f}function qi(f){return f=f[ot],f instanceof Qt?f:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ml(f){return typeof f=="function"?f:(f[hi]||(f[hi]=function(w){return f.handleEvent(w)}),f[hi])}function zt(){ne.call(this),this.i=new Qt(this),this.M=this,this.F=null}x(zt,ne),zt.prototype[ze]=!0,zt.prototype.removeEventListener=function(f,w,k,F){Ws(this,f,w,k,F)};function jt(f,w){var k,F=f.F;if(F)for(k=[];F;F=F.F)k.push(F);if(f=f.M,F=w.type||w,typeof w=="string")w=new oe(w,f);else if(w instanceof oe)w.target=w.target||f;else{var K=w;w=new oe(F,f),V(w,K)}if(K=!0,k)for(var ee=k.length-1;0<=ee;ee--){var me=w.g=k[ee];K=pi(me,F,!0,w)&&K}if(me=w.g=f,K=pi(me,F,!0,w)&&K,K=pi(me,F,!1,w)&&K,k)for(ee=0;ee<k.length;ee++)me=w.g=k[ee],K=pi(me,F,!1,w)&&K}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var k=f.g[w],F=0;F<k.length;F++)bt(k[F]);delete f.g[w],f.h--}}this.F=null},zt.prototype.K=function(f,w,k,F){return this.i.add(String(f),w,!1,k,F)},zt.prototype.L=function(f,w,k,F){return this.i.add(String(f),w,!0,k,F)};function pi(f,w,k,F){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var K=!0,ee=0;ee<w.length;++ee){var me=w[ee];if(me&&!me.da&&me.capture==k){var nt=me.listener,Wt=me.ha||me.src;me.fa&&Xn(f.i,me),K=nt.call(Wt,F)!==!1&&K}}return K&&!F.defaultPrevented}function gl(f,w,k){if(typeof f=="function")k&&(f=y(f,k));else if(f&&typeof f.handleEvent=="function")f=y(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(f,w||0)}function Ki(f){f.g=gl(()=>{f.g=null,f.i&&(f.i=!1,Ki(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class $s extends ne{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ki(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(f){ne.call(this),this.h=f,this.g={}}x(Ys,ne);var yl=[];function vl(f){H(f.g,function(w,k){this.g.hasOwnProperty(k)&&Zn(w)},f),f.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),vl(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _l=c.JSON.stringify,wl=c.JSON.parse,El=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function qs(){}qs.prototype.h=null;function jo(f){return f.h||(f.h=f.i())}function Wo(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){oe.call(this,"d")}x(Or,oe);function Ho(){oe.call(this,"c")}x(Ho,oe);var Mr={},bl=null;function Ks(){return bl=bl||new zt}Mr.La="serverreachability";function Tl(f){oe.call(this,Mr.La,f)}x(Tl,oe);function mi(f){const w=Ks();jt(w,new Tl(w))}Mr.STAT_EVENT="statevent";function xl(f,w){oe.call(this,Mr.STAT_EVENT,f),this.stat=w}x(xl,oe);function Nt(f){const w=Ks();jt(w,new xl(w,f))}Mr.Ma="timingevent";function $o(f,w){oe.call(this,Mr.Ma,f),this.size=w}x($o,oe);function pr(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function Gs(f,w,k,F,K,ee){f.info(function(){if(f.g)if(ee)for(var me="",nt=ee.split("&"),Wt=0;Wt<nt.length;Wt++){var qe=nt[Wt].split("=");if(1<qe.length){var Xt=qe[0];qe=qe[1];var Lt=Xt.split("_");me=2<=Lt.length&&Lt[1]=="type"?me+(Xt+"="+qe+"&"):me+(Xt+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+F+") [attempt "+K+"]: "+w+`
`+k+`
`+me})}function Yo(f,w,k,F,K,ee,me){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+K+"]: "+w+`
`+k+`
`+ee+" "+me})}function mr(f,w,k,F){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+xh(f,k)+(F?" "+F:"")})}function Sl(f,w){f.info(function(){return"TIMEOUT: "+w})}Qs.prototype.info=function(){};function xh(f,w){if(!f.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var F=k[f];if(!(2>F.length)){var K=F[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return _l(k)}catch{return w}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function Xs(){}x(Xs,qs),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},gr=new Xs;function yr(f,w,k,F){this.j=f,this.i=w,this.l=k,this.R=F||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ac}function ac(){this.i=null,this.g="",this.h=!1}var kl={},Ko={};function Qo(f,w,k){f.L=1,f.v=Zi(jn(w)),f.m=k,f.P=!0,Cl(f,null)}function Cl(f,w){f.F=Date.now(),lt(f),f.A=jn(f.v);var k=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),ts(k.i,"t",F),f.C=0,k=f.j.J,f.h=new ac,f.g=Sc(f.j,k?w:null,!f.m),0<f.O&&(f.M=new $s(y(f.Y,f,f.g),f.O)),w=f.U,k=f.g,F=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(yl[0]=K.toString()),K=yl);for(var ee=0;ee<K.length;ee++){var me=It(k,K[ee],F||w.handleEvent,!1,w.h||w);if(!me)break;w.g[me.key]=me}w=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),mi(),Gs(f.i,f.u,f.A,f.l,f.R,f.m)}yr.prototype.ca=function(f){f=f.target;const w=this.M;w&&Dn(f)==3?w.j():this.Y(f)},yr.prototype.Y=function(f){try{if(f==this.g)e:{const Lt=Dn(this.g);var w=this.g.Ba();const rr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Al(this.g)))){this.J||Lt!=4||w==7||(w==8||0>=rr?mi(3):mi(2)),Js(this);var k=this.g.Z();this.X=k;t:if(lc(this)){var F=Al(this.g);f="";var K=F.length,ee=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Qi(this);var me="";break t}this.h.i=new c.TextDecoder}for(w=0;w<K;w++)this.h.h=!0,f+=this.h.i.decode(F[w],{stream:!(ee&&w==K-1)});F.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=k==200,Yo(this.i,this.u,this.A,this.l,this.R,Lt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Wt=this.g;if((nt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(nt)){var qe=nt;break t}}qe=null}if(k=qe)mr(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Il(this,k);else{this.o=!1,this.s=3,Nt(12),tr(this),Qi(this);break e}}if(this.P){k=!0;let Hn;for(;!this.J&&this.C<me.length;)if(Hn=Sh(this,me),Hn==Ko){Lt==4&&(this.s=4,Nt(14),k=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==kl){this.s=4,Nt(15),mr(this.i,this.l,me,"[Invalid Chunk]"),k=!1;break}else mr(this.i,this.l,Hn,null),Il(this,Hn);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||me.length!=0||this.h.h||(this.s=1,Nt(16),k=!1),this.o=this.o&&k,!k)mr(this.i,this.l,me,"[Invalid Chunked Response]"),tr(this),Qi(this);else if(0<me.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Ml(Xt),Xt.M=!0,Nt(11))}}else mr(this.i,this.l,me,null),Il(this,me);Lt==4&&tr(this),this.o&&!this.J&&(Lt==4?oa(this.j,this):(this.o=!1,lt(this)))}else ta(this.g),k==400&&0<me.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),tr(this),Qi(this)}}}catch{}finally{}};function lc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Sh(f,w){var k=f.C,F=w.indexOf(`
`,k);return F==-1?Ko:(k=Number(w.substring(k,F)),isNaN(k)?kl:(F+=1,F+k>w.length?Ko:(w=w.slice(F,F+k),f.C=F+k,w)))}yr.prototype.cancel=function(){this.J=!0,tr(this)};function lt(f){f.S=Date.now()+f.I,uc(f,f.I)}function uc(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=pr(y(f.ba,f),w)}function Js(f){f.B&&(c.clearTimeout(f.B),f.B=null)}yr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Sl(this.i,this.A),this.L!=2&&(mi(),Nt(17)),tr(this),this.s=2,Qi(this)):uc(this,this.S-f)};function Qi(f){f.j.G==0||f.J||oa(f.j,f)}function tr(f){Js(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,vl(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function Il(f,w){try{var k=f.j;if(k.G!=0&&(k.g==f||wn(k.h,f))){if(!f.K&&wn(k.h,f)&&k.G==3){try{var F=k.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&F.length==3){var K=F;if(K[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)sa(k),br(k);else break e;ia(k),Nt(18)}}else k.za=K[1],0<k.za-k.T&&37500>K[2]&&k.F&&k.v==0&&!k.C&&(k.C=pr(y(k.Za,k),6e3));if(1>=dc(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else wi(k,11)}else if((f.K||k.g==f)&&sa(k),!P(w))for(K=k.Da.g.parse(w),w=0;w<K.length;w++){let qe=K[w];if(k.T=qe[0],qe=qe[1],k.G==2)if(qe[0]=="c"){k.K=qe[1],k.ia=qe[2];const Xt=qe[3];Xt!=null&&(k.la=Xt,k.j.info("VER="+k.la));const Lt=qe[4];Lt!=null&&(k.Aa=Lt,k.j.info("SVER="+k.Aa));const rr=qe[5];rr!=null&&typeof rr=="number"&&0<rr&&(F=1.5*rr,k.L=F,k.j.info("backChannelRequestTimeoutMs_="+F)),F=k;const Hn=f.g;if(Hn){const so=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var ee=F.h;ee.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Dl(ee,ee.h),ee.h=null))}if(F.D){const la=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(F.ya=la,at(F.I,F.D,la))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),F=k;var me=f;if(F.qa=xc(F,F.J?F.ia:null,F.W),me.K){fc(F.h,me);var nt=me,Wt=F.L;Wt&&(nt.I=Wt),nt.B&&(Js(nt),lt(nt)),F.g=me}else io(F);0<k.i.length&&Ur(k)}else qe[0]!="stop"&&qe[0]!="close"||wi(k,7);else k.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?wi(k,7):sn(k):qe[0]!="noop"&&k.l&&k.l.ta(qe),k.v=0)}}mi(4)}catch{}}var cc=class{constructor(f,w){this.g=f,this.map=w}};function Zs(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function dc(f){return f.h?1:f.g?f.g.size:0}function wn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Dl(f,w){f.g?f.g.add(w):f.h=w}function fc(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Zs.prototype.cancel=function(){if(this.i=hc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function hc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const k of f.g.values())w=w.concat(k.D);return w}return S(f.i)}function Go(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],k=f.length,F=0;F<k;F++)w.push(f[F]);return w}w=[],k=0;for(F in f)w[k++]=f[F];return w}function Xo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var k=0;k<f;k++)w.push(k);return w}w=[],k=0;for(const F in f)w[k++]=F;return w}}}function Gi(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var k=Xo(f),F=Go(f),K=F.length,ee=0;ee<K;ee++)w.call(void 0,F[ee],k&&k[ee],f)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(f,w){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var F=f[k].indexOf("="),K=null;if(0<=F){var ee=f[k].substring(0,F);K=f[k].substring(F+1)}else ee=f[k];w(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function gi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof gi){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,Xi(this,f.s),this.l=f.l;var w=f.i,k=new Lr;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),Ji(this,k),this.m=f.m}else f&&(w=String(f).match(eo))?(this.h=!1,to(this,w[1]||"",!0),this.o=$e(w[2]||""),this.g=$e(w[3]||"",!0),Xi(this,w[4]),this.l=$e(w[5]||"",!0),Ji(this,w[6]||"",!0),this.m=$e(w[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}gi.prototype.toString=function(){var f=[],w=this.j;w&&f.push(es(w,Jo,!0),":");var k=this.g;return(k||w=="file")&&(f.push("//"),(w=this.o)&&f.push(es(w,Jo,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(es(k,k.charAt(0)=="/"?gc:mc,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",es(k,Pl)),f.join("")};function jn(f){return new gi(f)}function to(f,w,k){f.j=k?$e(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Xi(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Ji(f,w,k){w instanceof Lr?(f.i=w,Vr(f.i,f.h)):(k||(w=es(w,yc)),f.i=new Lr(w,f.h))}function at(f,w,k){f.i.set(w,k)}function Zi(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $e(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function es(f,w,k){return typeof f=="string"?(f=encodeURI(f).replace(w,pc),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function pc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Jo=/[#\/\?@]/g,mc=/[#\?:]/g,gc=/[#\?]/g,yc=/[#\?@]/g,Pl=/#/g;function Lr(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function rn(f){f.g||(f.g=new Map,f.h=0,f.i&&kh(f.i,function(w,k){f.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}r=Lr.prototype,r.add=function(f,w){rn(this),this.i=null,f=nr(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(w),this.h+=1,this};function vr(f,w){rn(f),w=nr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function _r(f,w){return rn(f),w=nr(f,w),f.g.has(w)}r.forEach=function(f,w){rn(this),this.g.forEach(function(k,F){k.forEach(function(K){f.call(w,K,F,this)},this)},this)},r.na=function(){rn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let F=0;F<w.length;F++){const K=f[F];for(let ee=0;ee<K.length;ee++)k.push(w[F])}return k},r.V=function(f){rn(this);let w=[];if(typeof f=="string")_r(this,f)&&(w=w.concat(this.g.get(nr(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)w=w.concat(f[k])}return w},r.set=function(f,w){return rn(this),this.i=null,f=nr(this,f),_r(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},r.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function ts(f,w,k){vr(f,w),0<k.length&&(f.i=null,f.g.set(nr(f,w),S(k)),f.h+=k.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var F=w[k];const ee=encodeURIComponent(String(F)),me=this.V(F);for(F=0;F<me.length;F++){var K=ee;me[F]!==""&&(K+="="+encodeURIComponent(String(me[F]))),f.push(K)}}return this.i=f.join("&")};function nr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Vr(f,w){w&&!f.j&&(rn(f),f.i=null,f.g.forEach(function(k,F){var K=F.toLowerCase();F!=K&&(vr(this,F),ts(this,K,k))},f)),f.j=w}function Ch(f,w){const k=new Qs;if(c.Image){const F=new Image;F.onload=_(In,k,"TestLoadImage: loaded",!0,w,F),F.onerror=_(In,k,"TestLoadImage: error",!1,w,F),F.onabort=_(In,k,"TestLoadImage: abort",!1,w,F),F.ontimeout=_(In,k,"TestLoadImage: timeout",!1,w,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else w(!1)}function vc(f,w){const k=new Qs,F=new AbortController,K=setTimeout(()=>{F.abort(),In(k,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:F.signal}).then(ee=>{clearTimeout(K),ee.ok?In(k,"TestPingServer: ok",!0,w):In(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),In(k,"TestPingServer: error",!1,w)})}function In(f,w,k,F,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),F(k)}catch{}}function Ih(){this.g=new El}function _c(f,w,k){const F=k||"";try{Gi(f,function(K,ee){let me=K;h(K)&&(me=_l(K)),w.push(F+ee+"="+encodeURIComponent(me))})}catch(K){throw w.push(F+"type="+encodeURIComponent("_badmap")),K}}function yi(f){this.l=f.Ub||null,this.j=f.eb||!1}x(yi,qs),yi.prototype.g=function(){return new no(this.l,this.j)},yi.prototype.i=function(f){return function(){return f}}({});function no(f,w){zt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(no,zt),r=no.prototype,r.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Er(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function wc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?wr(this):Er(this),this.readyState==3&&wc(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,wr(this))},r.Qa=function(f){this.g&&(this.response=f,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Er(f)}r.setRequestHeader=function(f,w){this.u.append(f,w)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=w.next();return f.join(`\r
`)};function Er(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function vi(f){let w="";return H(f,function(k,F){w+=F,w+=":",w+=k,w+=`\r
`}),w}function ns(f,w,k){e:{for(F in k){var F=!1;break e}F=!0}F||(k=vi(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):at(f,w,k))}function gt(f){zt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(gt,zt);var Dh=/^https?$/i,Nl=["POST","PUT"];r=gt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,w,k,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?jo(this.o):jo(gr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ee){ro(this,ee);return}if(f=k||"",k=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var K in F)k.set(K,F[K]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ee of F.keys())k.set(ee,F.get(ee));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Nl,w,void 0))||F||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of k)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){ro(this,ee)}};function ro(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Zo(f),Wn(f)}function Zo(f){f.A||(f.A=!0,jt(f,"complete"),jt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,jt(this,"complete"),jt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Rl(this):this.bb())},r.bb=function(){Rl(this)};function Rl(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Dn(f)!=4||f.Z()!=2)){if(f.u&&Dn(f)==4)gl(f.Ea,0,f);else if(jt(f,"readystatechange"),Dn(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var F;if(F=me===0){var K=String(f.D).match(eo)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),F=!Dh.test(K?K.toLowerCase():"")}k=F}if(k)jt(f,"complete"),jt(f,"success");else{f.m=6;try{var ee=2<Dn(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Zo(f)}}finally{Wn(f)}}}}function Wn(f,w){if(f.g){ea(f);const k=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||jt(f,"ready");try{k.onreadystatechange=F}catch{}}}function ea(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Dn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),wl(w)}};function Al(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(f){const w={};f=(f.g&&2<=Dn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<f.length;F++){if(P(f[F]))continue;var k=z(f[F]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=w[K]||[];w[K]=ee,ee.push(k)}D(w,function(F){return F.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(f,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||w}function Ol(f){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,f),this.cb=Fr("retryDelaySeedMs",1e4,f),this.Wa=Fr("forwardChannelMaxRetries",2,f),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Zs(f&&f.concurrentRequestLimit),this.Da=new Ih,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ol.prototype,r.la=8,r.G=1,r.connect=function(f,w,k,F){Nt(0),this.W=f,this.H=w||{},k&&F!==void 0&&(this.H.OSID=k,this.H.OAID=F),this.F=this.X,this.I=xc(this,null,this.W),Ur(this)};function sn(f){if(na(f),f.G==3){var w=f.U++,k=jn(f.I);if(at(k,"SID",f.K),at(k,"RID",w),at(k,"TYPE","terminate"),_i(f,k),w=new yr(f,f.j,w),w.L=2,w.v=Zi(jn(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=w.v,k=!0),k||(w.g=Sc(w.j,null),w.g.ea(w.v)),w.F=Date.now(),lt(w)}Tc(f)}function br(f){f.g&&(Ml(f),f.g.cancel(),f.g=null)}function na(f){br(f),f.u&&(c.clearTimeout(f.u),f.u=null),sa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Ur(f){if(!zn(f.h)&&!f.s){f.s=!0;var w=f.Ga;le||ie(),Z||(le(),Z=!0),fe.add(w,f),f.B=0}}function Ph(f,w){return dc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=pr(y(f.Ga,f,w),bc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new yr(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=C(ee),V(ee,this.S)):ee=this.S),this.m!==null||this.O||(K.H=ee,ee=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var F=this.i[k];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(w+=F,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=rs(this,K,w),k=jn(this.I),at(k,"RID",f),at(k,"CVER",22),this.D&&at(k,"X-HTTP-Session-Id",this.D),_i(this,k),ee&&(this.O?w="headers="+encodeURIComponent(String(vi(ee)))+"&"+w:this.m&&ns(k,this.m,ee)),Dl(this.h,K),this.Ua&&at(k,"TYPE","init"),this.P?(at(k,"$req",w),at(k,"SID","null"),K.T=!0,Qo(K,k,null)):Qo(K,k,w),this.G=2}}else this.G==3&&(f?ra(this,f):this.i.length==0||zn(this.h)||ra(this))};function ra(f,w){var k;w?k=w.l:k=f.U++;const F=jn(f.I);at(F,"SID",f.K),at(F,"RID",k),at(F,"AID",f.T),_i(f,F),f.m&&f.o&&ns(F,f.m,f.o),k=new yr(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),w&&(f.i=w.D.concat(f.i)),w=rs(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Dl(f.h,k),Qo(k,F,w)}function _i(f,w){f.H&&H(f.H,function(k,F){at(w,F,k)}),f.l&&Gi({},function(k,F){at(w,F,k)})}function rs(f,w,k){k=Math.min(f.i.length,k);var F=f.l?y(f.l.Na,f.l,f):null;e:{var K=f.i;let ee=-1;for(;;){const me=["count="+k];ee==-1?0<k?(ee=K[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let nt=!0;for(let Wt=0;Wt<k;Wt++){let qe=K[Wt].g;const Xt=K[Wt].map;if(qe-=ee,0>qe)ee=Math.max(0,K[Wt].g-100),nt=!1;else try{_c(Xt,me,"req"+qe+"_")}catch{F&&F(Xt)}}if(nt){F=me.join("&");break e}}}return f=f.i.splice(0,k),w.D=f,F}function io(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;le||ie(),Z||(le(),Z=!0),fe.add(w,f),f.v=0}}function ia(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=pr(y(f.Fa,f),bc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=pr(y(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),br(this),Ec(this))};function Ml(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Ec(f){f.g=new yr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=jn(f.qa);at(w,"RID","rpc"),at(w,"SID",f.K),at(w,"AID",f.T),at(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(w,"TO",f.ja),at(w,"TYPE","xmlhttp"),_i(f,w),f.m&&f.o&&ns(w,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Zi(jn(w)),k.m=null,k.P=!0,Cl(k,f)}r.Za=function(){this.C!=null&&(this.C=null,br(this),ia(this),Nt(19))};function sa(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function oa(f,w){var k=null;if(f.g==w){sa(f),Ml(f),f.g=null;var F=2}else if(wn(f.h,w))k=w.D,fc(f.h,w),F=1;else return;if(f.G!=0){if(w.o)if(F==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var K=f.B;F=Ks(),jt(F,new $o(F,k)),Ur(f)}else io(f);else if(K=w.s,K==3||K==0&&0<w.X||!(F==1&&Ph(f,w)||F==2&&ia(f)))switch(k&&0<k.length&&(w=f.h,w.i=w.i.concat(k)),K){case 1:wi(f,5);break;case 4:wi(f,10);break;case 3:wi(f,6);break;default:wi(f,2)}}}function bc(f,w){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*w}function wi(f,w){if(f.j.info("Error code "+w),w==2){var k=y(f.fb,f),F=f.Xa;const K=!F;F=new gi(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(F,"https"),Zi(F),K?Ch(F.toString(),k):vc(F.toString(),k)}else Nt(2);f.G=0,f.l&&f.l.sa(w),Tc(f),na(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Tc(f){if(f.G=0,f.ka=[],f.l){const w=hc(f.h);(w.length!=0||f.i.length!=0)&&(b(f.ka,w),b(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function xc(f,w,k){var F=k instanceof gi?jn(k):new gi(k);if(F.g!="")w&&(F.g=w+"."+F.g),Xi(F,F.s);else{var K=c.location;F=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;var ee=new gi(null);F&&to(ee,F),w&&(ee.g=w),K&&Xi(ee,K),k&&(ee.l=k),F=ee}return k=f.D,w=f.ya,k&&w&&at(F,k,w),at(F,"VER",f.la),_i(f,F),F}function Sc(f,w,k){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new gt(new yi({eb:k})):new gt(f.pa),w.Ha(f.J),w}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ll(){}r=Ll.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(f,w){return new En(f,w)};function En(f,w){zt.call(this),this.g=new Ol(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!P(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Br(this)}x(En,zt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){sn(this.g)},En.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=_l(f),f=k);w.i.push(new cc(w.Ya++,f)),w.G==3&&Ur(w)},En.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,En.aa.N.call(this)};function kc(f){Or.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const k in w){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}x(kc,Or);function Cc(){Ho.call(this),this.status=1}x(Cc,Ho);function Br(f){this.g=f}x(Br,Ll),Br.prototype.ua=function(){jt(this.g,"a")},Br.prototype.ta=function(f){jt(this.g,new kc(f))},Br.prototype.sa=function(f){jt(this.g,new Cc)},Br.prototype.ra=function(){jt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Gb=function(){return new aa},Qb=function(){return Ks()},Kb=Mr,ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,zd=qo,oc.COMPLETE="complete",qb=oc,Wo.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",zt.prototype.listen=zt.prototype.K,pu=Wo,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,Yb=gt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const Uw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Og("@firebase/firestore");function Pa(){return No.logLevel}function Ee(r,...e){if(No.logLevel<=je.DEBUG){const t=e.map(Yg);No.debug(`Firestore (${ol}): ${r}`,...t)}}function ji(r,...e){if(No.logLevel<=je.ERROR){const t=e.map(Yg);No.error(`Firestore (${ol}): ${r}`,...t)}}function Wa(r,...e){if(No.logLevel<=je.WARN){const t=e.map(Yg);No.warn(`Firestore (${ol}): ${r}`,...t)}}function Yg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+r;throw ji(e),new Error(e)}function tt(r,e){r||Re()}function Ve(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LD{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tt(typeof n.accessToken=="string"),new Xb(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new gn(e)}}class VD{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FD{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new VD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){tt(this.o===void 0);const n=o=>{o.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string"),this.R=t.token,new UD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=zD(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function Ye(r,e){return r<e?-1:r>e?1:0}function Ha(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new qt(0,0))}static max(){return new Me(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,n){t===void 0?t=0:t>e.length&&Re(),n===void 0?n=e.length-t:n>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Du.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Du?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends Du{construct(e,t,n){return new vt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const jD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Du{construct(e,t,n){return new un(e,t,n)}static isValidIdentifier(e){return jD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new un(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(vt.fromString(e))}static fromName(e){return new De(vt.fromString(e).popFirst(5))}static empty(){return new De(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new vt(e.slice()))}}function WD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(n===1e9?new qt(t+1,0):new qt(t,n));return new Ns(i,De.empty(),e)}function HD(r){return new Ns(r.readTime,r.key,-1)}class Ns{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ns(Me.min(),De.empty(),-1)}static max(){return new Ns(Me.max(),De.empty(),-1)}}function $D(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(r.documentKey,e.documentKey),t!==0?t:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r){if(r.code!==ce.FAILED_PRECONDITION||r.message!==YD)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,n)=>{t(e)})}static reject(e){return new re((t,n)=>{n(e)})}static waitFor(e){return new re((t,n)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=re.resolve(!1);for(const n of e)t=t.next(i=>i?re.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new re((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++c,c===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new re((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function KD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zf.oe=-1;function jf(r){return r==null}function cf(r){return r===0&&1/r==-1/0}function QD(r){return typeof r=="number"&&Number.isInteger(r)&&!cf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Bw(e)),e=XD(r.get(t),e);return Bw(e)}function XD(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Bw(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function zs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??ln.RED,this.left=i??ln.EMPTY,this.right=o??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new ln(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,n,i,o){return this}insert(e,t,n){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new Kt(un.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eT("Invalid base64 string: "+o):o}}(e);return new cn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const JD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(tt(!!r),typeof r=="string"){let e=0;const t=JD.exec(r);if(tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:At(r.seconds),nanos:At(r.nanos)}}function At(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Wf(r){const e=r.mapValue.fields.__previous_value__;return qg(e)?Wf(e):e}function Pu(r){const e=Rs(r.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,n,i,o,l,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Nu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qg(r)?4:tP(r)?9007199254740991:eP(r)?10:11:Re()}function ii(r,e){if(r===e)return!0;const t=Os(r);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pu(r).isEqual(Pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Rs(i.timestampValue),c=Rs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return As(i.bytesValue).isEqual(As(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return At(i.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return At(i.integerValue)===At(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=At(i.doubleValue),c=At(o.doubleValue);return l===c?cf(l)===cf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return Ha(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(zw(l)!==zw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ii(l[d],c[d])))return!1;return!0}(r,e);default:return Re()}}function Ru(r,e){return(r.values||[]).find(t=>ii(t,e))!==void 0}function $a(r,e){if(r===e)return 0;const t=Os(r),n=Os(e);if(t!==n)return Ye(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return function(o,l){const c=At(o.integerValue||o.doubleValue),d=At(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(r,e);case 3:return Ww(r.timestampValue,e.timestampValue);case 4:return Ww(Pu(r),Pu(e));case 5:return Ye(r.stringValue,e.stringValue);case 6:return function(o,l){const c=As(o),d=As(l);return c.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Ye(c[h],d[h]);if(m!==0)return m}return Ye(c.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Ye(At(o.latitude),At(l.latitude));return c!==0?c:Ye(At(o.longitude),At(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Hw(r.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,h,m;const g=o.fields||{},y=l.fields||{},_=(c=g.value)===null||c===void 0?void 0:c.arrayValue,x=(d=y.value)===null||d===void 0?void 0:d.arrayValue,S=Ye(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:Hw(_,x)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===xd.mapValue&&l===xd.mapValue)return 0;if(o===xd.mapValue)return 1;if(l===xd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const y=Ye(d[g],m[g]);if(y!==0)return y;const _=$a(c[d[g]],h[m[g]]);if(_!==0)return _}return Ye(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Re()}}function Ww(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const t=Rs(r),n=Rs(e),i=Ye(t.seconds,n.seconds);return i!==0?i:Ye(t.nanos,n.nanos)}function Hw(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=$a(t[i],n[i]);if(o)return o}return Ye(t.length,n.length)}function Ya(r){return sg(r)}function sg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Rs(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return As(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return De.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=sg(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${sg(t.fields[l])}`;return i+"}"}(r.mapValue):Re()}function jd(r){switch(Os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(r);return e?16+jd(e):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+jd(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return zs(n.fields,(o,l)=>{i+=o.length+jd(l)}),i}(r.mapValue);default:throw Re()}}function og(r){return!!r&&"integerValue"in r}function Kg(r){return!!r&&"arrayValue"in r}function $w(r){return!!r&&"nullValue"in r}function Yw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wd(r){return!!r&&"mapValue"in r}function eP(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Eu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Eu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function tP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=un.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=Eu(l):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){zs(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Vn(Eu(this.value))}}function tT(r){const e=[];return zs(r.fields,(t,n)=>{const i=new un([t]);if(Wd(n)){const o=tT(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new yn(e,0,Me.min(),Me.min(),Me.min(),Vn.empty(),0)}static newFoundDocument(e,t,n,i){return new yn(e,1,t,Me.min(),n,i,0)}static newNoDocument(e,t){return new yn(e,2,t,Me.min(),Me.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Me.min(),Me.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.position=e,this.inclusive=t}}function qw(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=De.comparator(De.fromName(l.referenceValue),t.key):n=$a(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Kw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ii(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t="asc"){this.field=e,this.dir=t}}function nP(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class Yt extends nT{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new iP(e,t,n):t==="array-contains"?new aP(e,n):t==="in"?new lP(e,n):t==="not-in"?new uP(e,n):t==="array-contains-any"?new cP(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new sP(e,n):new oP(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($a(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison($a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends nT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new si(e,t)}matches(e){return rT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function iT(r){return rP(r)&&rT(r)}function rP(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function ag(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(iT(r))return r.filters.map(e=>ag(e)).join(",");{const e=r.filters.map(t=>ag(t)).join(",");return`${r.op}(${e})`}}function sT(r,e){return r instanceof Yt?function(n,i){return i instanceof Yt&&n.op===i.op&&n.field.isEqual(i.field)&&ii(n.value,i.value)}(r,e):r instanceof si?function(n,i){return i instanceof si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,c)=>o&&sT(l,i.filters[c]),!0):!1}(r,e):void Re()}function oT(r){return r instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ya(t.value)}`}(r):r instanceof si?function(t){return t.op.toString()+" {"+t.getFilters().map(oT).join(" ,")+"}"}(r):"Filter"}class iP extends Yt{constructor(e,t,n){super(e,t,n),this.key=De.fromName(n.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class sP extends Yt{constructor(e,t){super(e,"in",t),this.keys=aT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oP extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=aT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>De.fromName(n.referenceValue))}class aP extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kg(t)&&Ru(t.arrayValue,this.value)}}class lP extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class uP extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ru(this.value.arrayValue,t)}}class cP extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Ru(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function Qw(r,e=null,t=[],n=[],i=null,o=null,l=null){return new dP(r,e,t,n,i,o,l)}function Qg(r){const e=Ve(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>ag(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),jf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ya(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ya(n)).join(",")),e.ue=t}return e.ue}function Gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!nP(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!sT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Kw(r.startAt,e.startAt)&&Kw(r.endAt,e.endAt)}function lg(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fP(r,e,t,n,i,o,l,c){return new Hf(r,e,t,n,i,o,l,c)}function Xg(r){return new Hf(r)}function Gw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hP(r){return r.collectionGroup!==null}function bu(r){const e=Ve(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Kt(un.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ff(o,n))}),t.has(un.keyField().canonicalString())||e.ce.push(new ff(un.keyField(),n))}return e.ce}function Zr(r){const e=Ve(r);return e.le||(e.le=pP(e,bu(r))),e.le}function pP(r,e){if(r.limitType==="F")return Qw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ff(i.field,o)});const t=r.endAt?new df(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new df(r.startAt.position,r.startAt.inclusive):null;return Qw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function ug(r,e,t){return new Hf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $f(r,e){return Gg(Zr(r),Zr(e))&&r.limitType===e.limitType}function lT(r){return`${Qg(Zr(r))}|lt:${r.limitType}`}function Na(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>oT(i)).join(", ")}]`),jf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ya(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ya(i)).join(",")),`Target(${n})`}(Zr(r))}; limitType=${r.limitType})`}function Yf(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):De.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of bu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const h=qw(l,c,d);return l.inclusive?h<=0:h<0}(n.startAt,bu(n),i)||n.endAt&&!function(l,c,d){const h=qw(l,c,d);return l.inclusive?h>=0:h>0}(n.endAt,bu(n),i))}(r,e)}function mP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(e,t)=>{let n=!1;for(const i of bu(r)){const o=gP(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function gP(r,e,t){const n=r.field.isKeyField()?De.comparator(e.key,t.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?$a(d,h):Re()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Ct(De.comparator);function Wi(){return yP}const cT=new Ct(De.comparator);function mu(...r){let e=cT;for(const t of r)e=e.insert(t.key,t);return e}function dT(r){let e=cT;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Eo(){return Tu()}function fT(){return Tu()}function Tu(){return new Vo(r=>r.toString(),(r,e)=>r.isEqual(e))}const vP=new Ct(De.comparator),_P=new Kt(De.comparator);function We(...r){let e=_P;for(const t of r)e=e.add(t);return e}const wP=new Kt(Ye);function EP(){return wP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function hT(r){return{integerValue:""+r}}function bP(r,e){return QD(e)?hT(e):Jg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function TP(r,e,t){return r instanceof hf?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qg(o)&&(o=Wf(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):r instanceof Au?mT(r,e):r instanceof Ou?gT(r,e):function(i,o){const l=pT(i,o),c=Xw(l)+Xw(i.Pe);return og(l)&&og(i.Pe)?hT(c):Jg(i.serializer,c)}(r,e)}function xP(r,e,t){return r instanceof Au?mT(r,e):r instanceof Ou?gT(r,e):t}function pT(r,e){return r instanceof pf?function(n){return og(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class hf extends qf{}class Au extends qf{constructor(e){super(),this.elements=e}}function mT(r,e){const t=yT(e);for(const n of r.elements)t.some(i=>ii(i,n))||t.push(n);return{arrayValue:{values:t}}}class Ou extends qf{constructor(e){super(),this.elements=e}}function gT(r,e){let t=yT(e);for(const n of r.elements)t=t.filter(i=>!ii(i,n));return{arrayValue:{values:t}}}class pf extends qf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Xw(r){return At(r.integerValue||r.doubleValue)}function yT(r){return Kg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function SP(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Au&&i instanceof Au||n instanceof Ou&&i instanceof Ou?Ha(n.elements,i.elements,ii):n instanceof pf&&i instanceof pf?ii(n.Pe,i.Pe):n instanceof hf&&i instanceof hf}(r.transform,e.transform)}class kP{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kf{}function vT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zg(r.key,Pr.none()):new Yu(r.key,r.data,Pr.none());{const t=r.data,n=Vn.empty();let i=new Kt(un.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new js(r.key,n,new Qn(i.toArray()),Pr.none())}}function CP(r,e,t){r instanceof Yu?function(i,o,l){const c=i.value.clone(),d=Zw(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof js?function(i,o,l){if(!Hd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Zw(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(_T(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function xu(r,e,t,n){return r instanceof Yu?function(o,l,c,d){if(!Hd(o.precondition,l))return c;const h=o.value.clone(),m=e0(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof js?function(o,l,c,d){if(!Hd(o.precondition,l))return c;const h=e0(o.fieldTransforms,d,l),m=l.data;return m.setAll(_T(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(o,l,c){return Hd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function IP(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=pT(n.transform,i||null);o!=null&&(t===null&&(t=Vn.empty()),t.set(n.field,o))}return t||null}function Jw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ha(n,i,(o,l)=>SP(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yu extends Kf{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Kf{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _T(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Zw(r,e,t){const n=new Map;tt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,xP(l,c,t[i]))}return n}function e0(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,TP(o,l,e))}return n}class Zg extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DP extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&CP(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fT();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const d=vT(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Me.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(t,n)=>Jw(t,n))&&Ha(this.baseMutations,e.baseMutations,(t,n)=>Jw(t,n))}}class ey{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){tt(e.mutations.length===n.length);let i=function(){return vP}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new ey(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ke;function AP(r){switch(r){default:return Re();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function wT(r){if(r===void 0)return ji("GRPC error has no .code"),ce.UNKNOWN;switch(r){case Ft.OK:return ce.OK;case Ft.CANCELLED:return ce.CANCELLED;case Ft.UNKNOWN:return ce.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ce.INTERNAL;case Ft.UNAVAILABLE:return ce.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ce.NOT_FOUND;case Ft.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Ft.ABORTED:return ce.ABORTED;case Ft.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Ft.DATA_LOSS:return ce.DATA_LOSS;default:return Re()}}(Ke=Ft||(Ft={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new To([4294967295,4294967295],0);function t0(r){const e=OP().encode(r),t=new $b;return t.update(e),new Uint8Array(t.digest())}function n0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new To([t,n],0),new To([i,o],0)]}class ty{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gu(`Invalid padding: ${t}`);if(n<0)throw new gu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new gu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=To.fromNumber(this.Te)}Ee(e,t,n){let i=e.add(t.multiply(To.fromNumber(n)));return i.compare(MP)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=t0(e),[n,i]=n0(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(n,i,o);if(!this.de(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new ty(o,i,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=t0(e),[n,i]=n0(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(n,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Qf(Me.min(),i,new Ct(Ye),Wi(),We())}}class qu{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qu(n,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class ET{constructor(e,t){this.targetId=e,this.me=t}}class bT{constructor(e,t,n=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class r0{constructor(){this.fe=0,this.ge=i0(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=We(),t=We(),n=We();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Re()}}),new qu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=i0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class LP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wi(),this.qe=Sd(),this.Qe=Sd(),this.Ke=new Ct(Ye)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(lg(o))if(n===0){const l=new De(o.path);this.We(t,l,yn.newNoDocument(l,Me.min()))}else tt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=As(n).toUint8Array()}catch(d){if(d instanceof eT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new ty(l,i,o)}catch(d){return Wa(d instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&lg(c.target)){const d=new De(c.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,yn.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let n=We();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Qf(e,t,this.Ke,this.ke,n);return this.ke=Wi(),this.qe=Sd(),this.Qe=Sd(),this.Ke=new Ct(Ye),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new r0,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Kt(Ye),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Kt(Ye),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new r0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new Ct(De.comparator)}function i0(){return new Ct(De.comparator)}const VP={asc:"ASCENDING",desc:"DESCENDING"},FP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UP={and:"AND",or:"OR"};class BP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(r,e){return r.useProto3Json||jf(e)?e:{value:e}}function mf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zP(r,e){return mf(r,e.toTimestamp())}function ei(r){return tt(!!r),Me.fromTimestamp(function(t){const n=Rs(t);return new qt(n.seconds,n.nanos)}(r))}function ny(r,e){return dg(r,e).canonicalString()}function dg(r,e){const t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function xT(r){const e=vt.fromString(r);return tt(DT(e)),e}function fg(r,e){return ny(r.databaseId,e.path)}function am(r,e){const t=xT(e);if(t.get(1)!==r.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new De(kT(t))}function ST(r,e){return ny(r.databaseId,e)}function jP(r){const e=xT(r);return e.length===4?vt.emptyPath():kT(e)}function hg(r){return new vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kT(r){return tt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function s0(r,e,t){return{name:fg(r,e),fields:t.value.mapValue.fields}}function WP(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(tt(m===void 0||typeof m=="string"),cn.fromBase64String(m||"")):(tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),cn.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?ce.UNKNOWN:wT(h.code);return new ke(m,h.message||"")}(l);t=new bT(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=am(r,n.document.name),o=ei(n.document.updateTime),l=n.document.createTime?ei(n.document.createTime):Me.min(),c=new Vn({mapValue:{fields:n.document.fields}}),d=yn.newFoundDocument(i,o,l,c),h=n.targetIds||[],m=n.removedTargetIds||[];t=new $d(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=am(r,n.document),o=n.readTime?ei(n.readTime):Me.min(),l=yn.newNoDocument(i,o),c=n.removedTargetIds||[];t=new $d([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=am(r,n.document),o=n.removedTargetIds||[];t=new $d([],o,i,null)}else{if(!("filter"in e))return Re();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new RP(i,o),c=n.targetId;t=new ET(c,l)}}return t}function HP(r,e){let t;if(e instanceof Yu)t={update:s0(r,e.key,e.value)};else if(e instanceof Zg)t={delete:fg(r,e.key)};else if(e instanceof js)t={update:s0(r,e.key,e.data),updateMask:ZP(e.fieldMask)};else{if(!(e instanceof DP))return Re();t={verify:fg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const c=l.transform;if(c instanceof hf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Au)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ou)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Re()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(r,e.precondition)),t}function $P(r,e){return r&&r.length>0?(tt(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?ei(i.updateTime):ei(o);return l.isEqual(Me.min())&&(l=ei(o)),new kP(l,i.transformResults||[])}(t,e))):[]}function YP(r,e){return{documents:[ST(r,e.path)]}}function qP(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=ST(r,i);const o=function(h){if(h.length!==0)return IT(si.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Ra(y.field),direction:GP(y.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=cg(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:i}}function KP(r){let e=jP(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){tt(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){const y=CT(g);return y instanceof si&&iT(y)?y.getFilters():[y]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(y=>function(x){return new ff(Aa(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,jf(y)?null:y}(t.limit));let d=null;t.startAt&&(d=function(g){const y=!!g.before,_=g.values||[];return new df(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const y=!g.before,_=g.values||[];return new df(_,y)}(t.endAt)),fP(e,i,l,o,c,"F",d,h)}function QP(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CT(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Aa(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Aa(t.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Aa(t.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(t.unaryFilter.field);return Yt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(r):r.fieldFilter!==void 0?function(t){return Yt.create(Aa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return si.create(t.compositeFilter.filters.map(n=>CT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(r):Re()}function GP(r){return VP[r]}function XP(r){return FP[r]}function JP(r){return UP[r]}function Ra(r){return{fieldPath:r.canonicalString()}}function Aa(r){return un.fromServerFormat(r.fieldPath)}function IT(r){return r instanceof Yt?function(t){if(t.op==="=="){if(Yw(t.value))return{unaryFilter:{field:Ra(t.field),op:"IS_NAN"}};if($w(t.value))return{unaryFilter:{field:Ra(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yw(t.value))return{unaryFilter:{field:Ra(t.field),op:"IS_NOT_NAN"}};if($w(t.value))return{unaryFilter:{field:Ra(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(t.field),op:XP(t.op),value:t.value}}}(r):r instanceof si?function(t){const n=t.getFilters().map(i=>IT(i));return n.length===1?n[0]:{compositeFilter:{op:JP(t.op),filters:n}}}(r):Re()}function ZP(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,n,i,o=Me.min(),l=Me.min(),c=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.ht=e}}function tN(r){const e=KP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ln=new rN}addToCollectionParentIndex(e,t){return this.ln.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ns.min())}updateCollectionGroup(e,t,n){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class rN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Kt(vt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qa(0)}static Qn(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0([r,e],[t,n]){const i=Ye(r,t);return i===0?Ye(e,n):i}class iN{constructor(e){this.Gn=e,this.buffer=new Kt(a0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();a0(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await al(t)}await this.Yn(3e5)})}}class oN{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return re.resolve(zf.oe);const n=new iN(t);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(o0)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(h=Date.now(),Pa()<=je.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function aN(r,e){return new oN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&xu(n.mutation,i,Qn.empty(),qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,We()).next(()=>n))}getLocalViewOfDocuments(e,t,n=We()){const i=Eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=mu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Eo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,We()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,i){let o=Wi();const l=Tu(),c=function(){return Tu()}();return t.forEach((d,h)=>{const m=n.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof js)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),xu(m.mutation,h,m.mutation.getFieldMask(),qt.now())):l.set(h.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return c.set(h,new uN(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Tu();let i=new Ct((l,c)=>l-c),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=n.get(d)||Qn.empty();m=c.applyToLocalView(h,m),n.set(d,m);const g=(i.get(c.batchId)||We()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=fT();m.forEach(y=>{if(!o.has(y)){const _=vT(t.get(y),n.get(y));_!==null&&g.set(y,_),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return re.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):re.resolve(Eo());let c=-1,d=o;return l.next(h=>re.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,We())).next(m=>({batchId:c,changes:dT(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(n=>{let i=mu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=mu();return this.indexManager.getCollectionParents(e,o).next(c=>re.forEach(c,d=>{const h=function(g,y){return new Hf(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(m=>{m.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,yn.newInvalidDocument(m)))});let c=mu();return l.forEach((d,h)=>{const m=o.get(d);m!==void 0&&xu(m.mutation,h,Qn.empty(),qt.now()),Yf(t,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return re.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ei(i.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:tN(i.bundledQuery),readTime:ei(i.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.overlays=new Ct(De.comparator),this.Er=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Eo();return re.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Tt(e,t,o)}),re.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Er.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(n)),re.resolve()}getOverlaysForCollection(e,t,n){const i=Eo(),o=t.length+1,l=new De(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new Ct((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let m=o.get(h.largestBatchId);m===null&&(m=Eo(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Eo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=i)););return re.resolve(c)}Tt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(n.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new NP(t,n));let o=this.Er.get(t);o===void 0&&(o=We(),this.Er.set(t,o)),this.Er.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.dr=new Kt(tn.Ar),this.Rr=new Kt(tn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new tn(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new tn(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new De(new vt([])),n=new tn(t,e),i=new tn(t,e+1),o=[];return this.Rr.forEachInRange([n,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new De(new vt([])),n=new tn(t,e),i=new tn(t,e+1);let o=We();return this.Rr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new tn(e,0),n=this.dr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class tn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return De.comparator(e.key,t.key)||Ye(e.br,t.br)}static Vr(e,t){return Ye(e.br,t.br)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Kt(tn.Ar)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new PP(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new tn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tn(t,0),i=new tn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([n,i],l=>{const c=this.Cr(l.br);o.push(c)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(Ye);return t.forEach(i=>{const o=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{n=n.add(c.br)})}),re.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;De.isDocumentKey(o)||(o=o.child(""));const l=new tn(new De(o),0);let c=new Kt(Ye);return this.vr.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.br)),!0)},l),re.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return re.forEach(t.mutations,i=>{const o=new tn(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Ln(e){}containsKey(e,t){const n=new tn(t,0),i=this.vr.firstAfterOrEqual(n);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.Nr=e,this.docs=function(){return new Ct(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let n=Wi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():yn.newInvalidDocument(i))}),re.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Wi();const l=t.path,c=new De(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||$D(HD(m),n)<=0||(i.has(m.key)||Yf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Re()}Lr(e,t){return re.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new gN(this)}getSize(e){return re.resolve(this.size)}}class gN extends lN{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),re.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.persistence=e,this.Br=new Vo(t=>Qg(t),Gg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new ry,this.targetCount=0,this.Qr=qa.qn()}forEachTarget(e,t){return this.Br.forEach((n,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),re.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new qa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Un(t),re.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Br.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return re.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),re.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return re.resolve(n)}containsKey(e,t){return re.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zf(0),this.Ur=!1,this.Ur=!0,this.Wr=new hN,this.referenceDelegate=e(this),this.Gr=new yN(this),this.indexManager=new nN,this.remoteDocumentCache=function(i){return new mN(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new eN(t),this.jr=new dN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new pN(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Ee("MemoryPersistence","Starting transaction:",e);const i=new vN(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return re.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class vN extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Zr=new ry,this.Xr=null}static ei(e){return new iy(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),re.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),re.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ti,n=>{const i=De.fromPath(n);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return re.or([()=>re.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class gf{constructor(e,t){this.persistence=e,this.ri=new Vo(n=>GD(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=aN(this,t)}static ei(e,t){return new gf(e,t)}Hr(){}Jr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return re.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(o=>o?re.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(c=>{c||(n++,o.removeEntry(l,Me.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),re.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jd(e.data.value)),t}ir(e,t,n){return re.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return re.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new sy(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sk()?8:KD(vn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new _N;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,n,i){return n.documentReadCount<this.Ji?(Pa()<=je.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),re.resolve()):(Pa()<=je.DEBUG&&Ee("QueryEngine","Query:",Na(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(Pa()<=je.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):re.resolve())}Xi(e,t){if(Gw(t))return re.resolve(null);let n=Zr(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ug(t,null,"F"),n=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=We(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.rs(t,c);return this.ss(t,h,l,d.readTime)?this.Xi(e,ug(t,null,"F")):this.os(e,h,t,d)}))})))}es(e,t,n,i){return Gw(t)||i.isEqual(Me.min())?re.resolve(null):this.Zi.getDocuments(e,n).next(o=>{const l=this.rs(t,o);return this.ss(t,l,n,i)?re.resolve(null):(Pa()<=je.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(t)),this.os(e,l,t,WD(i,-1)).next(c=>c))})}rs(e,t){let n=new Kt(uT(e));return t.forEach((i,o)=>{Yf(e,o)&&(n=n.add(o))}),n}ss(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,n){return Pa()<=je.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Na(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ns.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Ct(Ye),this.cs=new Vo(o=>Qg(o),Gg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cN(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function bN(r,e,t,n){return new EN(r,e,t,n)}async function NT(r,e){const t=Ve(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],c=[];let d=We();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(h=>({Ts:h,removedBatchIds:l,addedBatchIds:c}))})})}function TN(r,e){const t=Ve(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,m){const g=h.batch,y=g.keys();let _=re.resolve();return y.forEach(x=>{_=_.next(()=>m.getEntry(d,x)).next(S=>{const b=h.docVersions.get(x);tt(b!==null),S.version.compareTo(b)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=We();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function RT(r){const e=Ve(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function xN(r,e){const t=Ve(r),n=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const c=[];e.targetChanges.forEach((m,g)=>{const y=i.get(g);if(!y)return;c.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,g)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,n)),i=i.insert(g,_),function(S,b,N){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,_,m)&&c.push(t.Gr.updateTargetData(o,_))});let d=Wi(),h=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(SN(o,l,e.documentUpdates).next(m=>{d=m.Is,h=m.Es})),!n.isEqual(Me.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(g=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(m)}return re.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.us=i,o))}function SN(r,e,t){let n=We(),i=We();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Wi();return t.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Ee("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Is:l,Es:i}})}function kN(r,e){const t=Ve(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function CN(r,e){const t=Ve(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Gr.getTargetData(n,e).next(o=>o?(i=o,re.resolve(i)):t.Gr.allocateTargetId(n).next(l=>(i=new xs(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function pg(r,e,t){const n=Ve(r),i=n.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ll(l))throw l;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function l0(r,e,t){const n=Ve(r);let i=Me.min(),o=We();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=Ve(d),y=g.cs.get(m);return y!==void 0?re.resolve(g.us.get(y)):g.Gr.getTargetData(h,m)}(n,l,Zr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?i:Me.min(),t?o:We())).next(c=>(IN(n,mP(e),c),{documents:c,ds:o})))}function IN(r,e,t){let n=r.ls.get(e)||Me.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.ls.set(e,n)}class u0{constructor(){this.activeTargetIds=EP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this._o=new u0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new u0,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd=null;function lm(){return kd===null?kd=function(){return 268435456+Math.round(2147483648*Math.random())}():kd++,"0x"+kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class AN extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,n,i,o,l){const c=lm(),d=this.No(t,n.toUriEncodedString());Ee("RestConnection",`Sending RPC '${t}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,o,l),this.Bo(t,d,h,i).then(m=>(Ee("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw Wa("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,n,i,o,l,c){return this.Oo(t,n,i,o,l)}Lo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,n){const i=NN[t];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,i){const o=lm();return new Promise((l,c)=>{const d=new Yb;d.setWithCredentials(!0),d.listenOnce(qb.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zd.NO_ERROR:const m=d.getResponseJson();Ee(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case zd.TIMEOUT:Ee(mn,`RPC '${e}' ${o} timed out`),c(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const g=d.getStatus();if(Ee(mn,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=function(b){const N=b.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(N)>=0?N:ce.UNKNOWN}(_.status);c(new ke(x,_.message))}else c(new ke(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{Ee(mn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Ee(mn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,n,15)})}qo(e,t,n){const i=lm(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Gb(),c=Qb(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");Ee(mn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let y=!1,_=!1;const x=new RN({Eo:b=>{_?Ee(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Ee(mn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Ee(mn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Ao:()=>g.close()}),S=(b,N,P)=>{b.listen(N,R=>{try{P(R)}catch(O){setTimeout(()=>{throw O},0)}})};return S(g,pu.EventType.OPEN,()=>{_||(Ee(mn,`RPC '${e}' stream ${i} transport opened.`),x.So())}),S(g,pu.EventType.CLOSE,()=>{_||(_=!0,Ee(mn,`RPC '${e}' stream ${i} transport closed`),x.Do())}),S(g,pu.EventType.ERROR,b=>{_||(_=!0,Wa(mn,`RPC '${e}' stream ${i} transport errored:`,b),x.Do(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),S(g,pu.EventType.MESSAGE,b=>{var N;if(!_){const P=b.data[0];tt(!!P);const R=P,O=(R==null?void 0:R.error)||((N=R[0])===null||N===void 0?void 0:N.error);if(O){Ee(mn,`RPC '${e}' stream ${i} received error:`,O);const U=O.status;let H=function(A){const V=Ft[A];if(V!==void 0)return wT(V)}(U),D=O.message;H===void 0&&(H=ce.INTERNAL,D="Unknown error status: "+U+" with message "+O.message),_=!0,x.Do(new ke(H,D)),g.close()}else Ee(mn,`RPC '${e}' stream ${i} received:`,P),x.vo(P)}}),S(c,Kb.STAT_EVENT,b=>{b.stat===ig.PROXY?Ee(mn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ig.NOPROXY&&Ee(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(r){return new BP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,n=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,n,i,o,l,c,d){this.li=e,this.Yo=n,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new AT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===t&&this.I_(n,i)},n=>{e(()=>{const i=new ke(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.E_(i)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.E_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ON extends OT{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=WP(this.serializer,e),n=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?ei(l.readTime):Me.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=hg(this.serializer),t.addTarget=function(o,l){let c;const d=l.target;if(c=lg(d)?{documents:YP(o,d)}:{query:qP(o,d).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=TT(o,l.resumeToken);const h=cg(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=mf(o,l.snapshotVersion.toTimestamp());const h=cg(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=QP(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=hg(this.serializer),t.removeTarget=e,this.c_(t)}}class MN extends OT{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return tt(!!e.streamToken),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=$P(e.writeResults,e.commitTime),n=ei(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=hg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>HP(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,dg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ce.UNKNOWN,o.toString())})}ko(e,t,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,dg(t,n),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ke(ce.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class VN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ji(t),this.C_=!1):Ee("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{Fo(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=Ve(d);h.k_.add(4),await Ku(h),h.K_.set("Unknown"),h.k_.delete(4),await Xf(h)}(this))})}),this.K_=new VN(n,i)}}async function Xf(r){if(Fo(r))for(const e of r.q_)await e(!0)}async function Ku(r){for(const e of r.q_)await e(!1)}function MT(r,e){const t=Ve(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),uy(t)?ly(t):ul(t).s_()&&ay(t,e))}function oy(r,e){const t=Ve(r),n=ul(t);t.B_.delete(e),n.s_()&&LT(t,e),t.B_.size===0&&(n.s_()?n.a_():Fo(t)&&t.K_.set("Unknown"))}function ay(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(r).V_(e)}function LT(r,e){r.U_.xe(e),ul(r).m_(e)}function ly(r){r.U_=new LP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.K_.F_()}function uy(r){return Fo(r)&&!ul(r).i_()&&r.B_.size>0}function Fo(r){return Ve(r).k_.size===0}function VT(r){r.U_=void 0}async function UN(r){r.K_.set("Online")}async function BN(r){r.B_.forEach((e,t)=>{ay(r,e)})}async function zN(r,e){VT(r),uy(r)?(r.K_.O_(e),ly(r)):r.K_.set("Unknown")}async function jN(r,e,t){if(r.K_.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.B_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.B_.delete(c),i.U_.removeTarget(c))}(r,e)}catch(n){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await yf(r,n)}else if(e instanceof $d?r.U_.$e(e):e instanceof ET?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Me.min()))try{const n=await RT(r.localStore);t.compareTo(n)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.B_.get(h);m&&o.B_.set(h,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const m=o.B_.get(d);if(!m)return;o.B_.set(d,m.withResumeToken(cn.EMPTY_BYTE_STRING,m.snapshotVersion)),LT(o,d);const g=new xs(m.target,d,h,m.sequenceNumber);ay(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Ee("RemoteStore","Failed to raise snapshot:",n),await yf(r,n)}}async function yf(r,e,t){if(!ll(e))throw e;r.k_.add(1),await Ku(r),r.K_.set("Offline"),t||(t=()=>RT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Xf(r)})}function FT(r,e){return e().catch(t=>yf(r,t,e))}async function Jf(r){const e=Ve(r),t=Ms(e);let n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;WN(e);)try{const i=await kN(e.localStore,n);if(i===null){e.L_.length===0&&t.a_();break}n=i.batchId,HN(e,i)}catch(i){await yf(e,i)}UT(e)&&BT(e)}function WN(r){return Fo(r)&&r.L_.length<10}function HN(r,e){r.L_.push(e);const t=Ms(r);t.s_()&&t.f_&&t.g_(e.mutations)}function UT(r){return Fo(r)&&!Ms(r).i_()&&r.L_.length>0}function BT(r){Ms(r).start()}async function $N(r){Ms(r).w_()}async function YN(r){const e=Ms(r);for(const t of r.L_)e.g_(t.mutations)}async function qN(r,e,t){const n=r.L_.shift(),i=ey.from(n,e,t);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Jf(r)}async function KN(r,e){e&&Ms(r).f_&&await async function(n,i){if(function(l){return AP(l)&&l!==ce.ABORTED}(i.code)){const o=n.L_.shift();Ms(n).__(),await FT(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jf(n)}}(r,e),UT(r)&&BT(r)}async function d0(r,e){const t=Ve(r);t.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const n=Fo(t);t.k_.add(3),await Ku(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Xf(t)}async function QN(r,e){const t=Ve(r);e?(t.k_.delete(2),await Xf(t)):e||(t.k_.add(2),await Ku(t),t.K_.set("Unknown"))}function ul(r){return r.W_||(r.W_=function(t,n,i){const o=Ve(t);return o.b_(),new ON(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:UN.bind(null,r),mo:BN.bind(null,r),po:zN.bind(null,r),R_:jN.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),uy(r)?ly(r):r.K_.set("Unknown")):(await r.W_.stop(),VT(r))})),r.W_}function Ms(r){return r.G_||(r.G_=function(t,n,i){const o=Ve(t);return o.b_(),new MN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:$N.bind(null,r),po:KN.bind(null,r),p_:YN.bind(null,r),y_:qN.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Jf(r)):(await r.G_.stop(),r.L_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new cy(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(r,e){if(ji("AsyncQueue",`${e}: ${r}`),ll(r))return new ke(ce.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(e){return new Ua(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||De.comparator(t.key,n.key):(t,n)=>De.comparator(t.key,n.key),this.keyedMap=mu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ua;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.z_=new Ct(De.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ka{constructor(e,t,n,i,o,l,c,d,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ka(e,t,Ua.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class XN{constructor(){this.queries=h0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const i=Ve(t),o=i.queries;i.queries=h0(),o.forEach((l,c)=>{for(const d of c.J_)d.onError(n)})})(this,new ke(ce.ABORTED,"Firestore shutting down"))}}function h0(){return new Vo(r=>lT(r),$f)}async function zT(r,e){const t=Ve(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(n=2):(o=new GN,n=e.Z_()?0:1);try{switch(n){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=dy(l,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&fy(t)}async function jT(r,e){const t=Ve(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function JN(r,e){const t=Ve(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(i)&&(n=!0);l.H_=i}}n&&fy(t)}function ZN(r,e,t){const n=Ve(r),i=n.queries.get(e);if(i)for(const o of i.J_)o.onError(t);n.queries.delete(e)}function fy(r){r.X_.forEach(e=>{e.next()})}var mg,p0;(p0=mg||(mg={})).na="default",p0.Cache="cache";class WT{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ka(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class $T{constructor(e){this.key=e}}class eR{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=We(),this.mutatedKeys=We(),this.Va=uT(e),this.ma=new Ua(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new f0,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const y=i.get(m),_=Yf(this.query,g)?g:null,x=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;y&&_?y.data.isEqual(_.data)?x!==S&&(n.track({type:3,doc:_}),b=!0):this.ya(y,_)||(n.track({type:2,doc:_}),b=!0,(d&&this.Va(_,d)>0||h&&this.Va(_,h)<0)&&(c=!0)):!y&&_?(n.track({type:0,doc:_}),b=!0):y&&!_&&(n.track({type:1,doc:y}),b=!0,(d||h)&&(c=!0)),b&&(_?(l=l.add(_),o=S?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{ma:l,pa:n,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,g)=>function(_,x){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return S(_)-S(x)}(m.type,g.type)||this.Va(m.doc,g.doc)),this.wa(n),i=i!=null&&i;const c=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,h=d!==this.Aa;return this.Aa=d,l.length!==0||h?{snapshot:new Ka(this.query,e.ma,o,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new f0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=We(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new $T(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new HT(n))}),t}va(e){this.da=e.ds,this.Ra=We();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ka.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tR{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nR{constructor(e){this.key=e,this.Fa=!1}}class rR{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Vo(c=>lT(c),$f),this.Oa=new Map,this.Na=new Set,this.La=new Ct(De.comparator),this.Ba=new Map,this.ka=new ry,this.qa={},this.Qa=new Map,this.Ka=qa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function iR(r,e,t=!0){const n=XT(r);let i;const o=n.xa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await YT(n,e,t,!0),i}async function sR(r,e){const t=XT(r);await YT(t,e,!0,!1)}async function YT(r,e,t,n){const i=await CN(r.localStore,Zr(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await oR(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&MT(r.remoteStore,i),c}async function oR(r,e,t,n,i){r.Ua=(g,y,_)=>async function(S,b,N,P){let R=b.view.ga(N);R.ss&&(R=await l0(S.localStore,b.query,!1).then(({documents:D})=>b.view.ga(D,R)));const O=P&&P.targetChanges.get(b.targetId),U=P&&P.targetMismatches.get(b.targetId)!=null,H=b.view.applyChanges(R,S.isPrimaryClient,O,U);return g0(S,b.targetId,H.ba),H.snapshot}(r,g,y,_);const o=await l0(r.localStore,e,!0),l=new eR(e,o.ds),c=l.ga(o.documents),d=qu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=l.applyChanges(c,r.isPrimaryClient,d);g0(r,t,h.ba);const m=new tR(e,t,l);return r.xa.set(e,m),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),h.snapshot}async function aR(r,e,t){const n=Ve(r),i=n.xa.get(e),o=n.Oa.get(i.targetId);if(o.length>1)return n.Oa.set(i.targetId,o.filter(l=>!$f(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await pg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&oy(n.remoteStore,i.targetId),gg(n,i.targetId)}).catch(al)):(gg(n,i.targetId),await pg(n.localStore,i.targetId,!0))}async function lR(r,e){const t=Ve(r),n=t.xa.get(e),i=t.Oa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),oy(t.remoteStore,n.targetId))}async function uR(r,e,t){const n=gR(r);try{const i=await function(l,c){const d=Ve(l),h=qt.now(),m=c.reduce((_,x)=>_.add(x.key),We());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Wi(),S=We();return d.hs.getEntries(_,m).next(b=>{x=b,x.forEach((N,P)=>{P.isValidDocument()||(S=S.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(_,x)).next(b=>{g=b;const N=[];for(const P of c){const R=IP(P,g.get(P.key).overlayedDocument);R!=null&&N.push(new js(P.key,R,tT(R.value.mapValue),Pr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,N,c)}).next(b=>{y=b;const N=b.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(_,b.batchId,N)})}).then(()=>({batchId:y.batchId,changes:dT(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let h=l.qa[l.currentUser.toKey()];h||(h=new Ct(Ye)),h=h.insert(c,d),l.qa[l.currentUser.toKey()]=h}(n,i.batchId,t),await Qu(n,i.changes),await Jf(n.remoteStore)}catch(i){const o=dy(i,"Failed to persist write");t.reject(o)}}async function qT(r,e){const t=Ve(r);try{const n=await xN(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ba.get(o);l&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?tt(l.Fa):i.removedDocuments.size>0&&(tt(l.Fa),l.Fa=!1))}),await Qu(t,n,e)}catch(n){await al(n)}}function m0(r,e,t){const n=Ve(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Ve(l);d.onlineState=c;let h=!1;d.queries.forEach((m,g)=>{for(const y of g.J_)y.ea(c)&&(h=!0)}),h&&fy(d)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cR(r,e,t){const n=Ve(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ba.get(e),o=i&&i.key;if(o){let l=new Ct(De.comparator);l=l.insert(o,yn.newNoDocument(o,Me.min()));const c=We().add(o),d=new Qf(Me.min(),new Map,new Ct(Ye),l,c);await qT(n,d),n.La=n.La.remove(o),n.Ba.delete(e),hy(n)}else await pg(n.localStore,e,!1).then(()=>gg(n,e,t)).catch(al)}async function dR(r,e){const t=Ve(r),n=e.batch.batchId;try{const i=await TN(t.localStore,e);QT(t,n,null),KT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Qu(t,i)}catch(i){await al(i)}}async function fR(r,e,t){const n=Ve(r);try{const i=await function(l,c){const d=Ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next(g=>(tt(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(n.localStore,e);QT(n,e,t),KT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Qu(n,i)}catch(i){await al(i)}}function KT(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function QT(r,e,t){const n=Ve(r);let i=n.qa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function gg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||GT(r,n)})}function GT(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(oy(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),hy(r))}function g0(r,e,t){for(const n of t)n instanceof HT?(r.ka.addReference(n.key,e),hR(r,n)):n instanceof $T?(Ee("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||GT(r,n.key)):Re()}function hR(r,e){const t=e.key,n=t.path.canonicalString();r.La.get(t)||r.Na.has(n)||(Ee("SyncEngine","New document in limbo: "+t),r.Na.add(n),hy(r))}function hy(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new De(vt.fromString(e)),n=r.Ka.next();r.Ba.set(n,new nR(t)),r.La=r.La.insert(t,n),MT(r.remoteStore,new xs(Zr(Xg(t.path)),n,"TargetPurposeLimboResolution",zf.oe))}}async function Qu(r,e,t){const n=Ve(r),i=[],o=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,d)=>{l.push(n.Ua(d,e,t).then(h=>{var m;if((h||t)&&n.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=sy.zi(d.targetId,h);o.push(g)}}))}),await Promise.all(l),n.Ma.R_(i),await async function(d,h){const m=Ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>re.forEach(h,y=>re.forEach(y.Wi,_=>m.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>re.forEach(y.Gi,_=>m.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!ll(g))throw g;Ee("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const _=m.us.get(y),x=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(x);m.us=m.us.insert(y,S)}}}(n.localStore,o))}async function pR(r,e){const t=Ve(r);if(!t.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const n=await NT(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(d=>{d.reject(new ke(ce.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Qu(t,n.Ts)}}function mR(r,e){const t=Ve(r),n=t.Ba.get(e);if(n&&n.Fa)return We().add(n.key);{let i=We();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const c=t.xa.get(l);i=i.unionWith(c.view.fa)}return i}}function XT(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cR.bind(null,e),e.Ma.R_=JN.bind(null,e.eventManager),e.Ma.Wa=ZN.bind(null,e.eventManager),e}function gR(r){const e=Ve(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return bN(this.persistence,new wN,e.initialUser,this.serializer)}ja(e){return new PT(iy.ei,this.serializer)}za(e){return new DN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class yR extends vf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){tt(this.persistence.referenceDelegate instanceof gf);const n=this.persistence.referenceDelegate.garbageCollector;return new sN(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new PT(n=>gf.ei(n,t),this.serializer)}}class yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>m0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=pR.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XN}()}createDatastore(e){const t=Gf(e.databaseInfo.databaseId),n=function(o){return new AN(o)}(e.databaseInfo);return function(o,l,c,d){return new LN(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,c){return new FN(n,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>m0(this.syncEngine,t,0),function(){return c0.p()?new c0:new PN}())}createSyncEngine(e,t){return function(i,o,l,c,d,h,m){const g=new rR(i,o,l,c,d,h);return m&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ve(i);Ee("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Ku(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=Jb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{Ee("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Ee("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=dy(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function cm(r,e){r.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await NT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function y0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _R(r);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>d0(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>d0(e.remoteStore,i)),r._onlineComponents=e}async function _R(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wa("Error using user provided cache. Falling back to memory cache: "+t),await cm(r,new vf)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await cm(r,new yR(void 0));return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await y0(r,r._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await y0(r,new yg))),r._onlineComponents}function wR(r){return ZT(r).then(e=>e.syncEngine)}async function ex(r){const e=await ZT(r),t=e.eventManager;return t.onListen=iR.bind(null,e.syncEngine),t.onUnlisten=aR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lR.bind(null,e.syncEngine),t}function ER(r,e,t={}){const n=new Oi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const m=new JT({next:y=>{m.eu(),l.enqueueAndForget(()=>jT(o,g));const _=y.docs.has(c);!_&&y.fromCache?h.reject(new ke(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&d&&d.source==="server"?h.reject(new ke(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new WT(Xg(c.path),m,{includeMetadataChanges:!0,ua:!0});return zT(o,g)}(await ex(r),r.asyncQueue,e,t,n)),n.promise}function bR(r,e,t={}){const n=new Oi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const m=new JT({next:y=>{m.eu(),l.enqueueAndForget(()=>jT(o,g)),y.fromCache&&d.source==="server"?h.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new WT(c,m,{includeMetadataChanges:!0,ua:!0});return zT(o,g)}(await ex(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e,t){if(!t)throw new ke(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TR(r,e,t,n){if(e===!0&&n===!0)throw new ke(ce.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function _0(r){if(!De.isDocumentKey(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function w0(r){if(De.isDocumentKey(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function py(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re()}function oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=py(r);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tx((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new OD;switch(n.type){case"firstParty":return new FD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=v0.get(t);n&&(Ee("ComponentProvider","Removing Datastore"),v0.delete(t),n.terminate())}(this),Promise.resolve()}}function xR(r,e,t,n={}){var i;const o=(r=oi(r,Zf))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=gn.MOCK_USER;else{c=J1(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gn(h)}r._authCredentials=new MD(new Xb(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eh(this.firestore,e,this._query)}}class Un{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Ds extends eh{constructor(e,t,n){super(e,t,Xg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new De(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function th(r,e,...t){if(r=_n(r),nx("collection","path",e),r instanceof Zf){const n=vt.fromString(e,...t);return w0(n),new Ds(r,null,n)}{if(!(r instanceof Un||r instanceof Ds))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(vt.fromString(e,...t));return w0(n),new Ds(r.firestore,null,n)}}function pt(r,e,...t){if(r=_n(r),arguments.length===1&&(e=Jb.newId()),nx("doc","path",e),r instanceof Zf){const n=vt.fromString(e,...t);return _0(n),new Un(r,null,new De(n))}{if(!(r instanceof Un||r instanceof Ds))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(vt.fromString(e,...t));return _0(n),new Un(r.firestore,r instanceof Ds?r.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new AT(this,"async_queue_retry"),this.fu=()=>{const n=um();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Oi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ll(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw ji("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=cy.createAndSchedule(this,e,t,n,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class cl extends Zf{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new b0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b0(e),this._firestoreClient=void 0,await e}}}function SR(r,e){const t=typeof r=="object"?r:sb(),n=typeof r=="string"?r:"(default)",i=Lg(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=G1("firestore");o&&xR(i,...o)}return i}function my(r){if(r._terminated)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kR(r),r._firestoreClient}function kR(r){var e,t,n;const i=r._freezeSettings(),o=function(c,d,h,m){return new ZD(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,tx(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new vR(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(cn.fromBase64String(e))}catch(t){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^__.*__$/;class IR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class rx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ix(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class _y{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Lu(e),i}Bu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return _f(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ix(this.Mu)&&CR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class DR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gf(e)}$u(e,t,n,i=!1){return new _y({Mu:e,methodName:t,Ku:n,path:un.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sx(r){const e=r._freezeSettings(),t=Gf(r._databaseId);return new DR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function PR(r,e,t,n,i,o={}){const l=r.$u(o.merge||o.mergeFields?2:0,e,t,i);wy("Data must be an object, but it was:",l,n);const c=ox(n,l);let d,h;if(o.merge)d=new Qn(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const y=vg(e,g,t);if(!l.contains(y))throw new ke(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);lx(m,y)||m.push(y)}d=new Qn(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new IR(new Vn(c),d,h)}class rh extends gy{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function NR(r,e,t,n){const i=r.$u(1,e,t);wy("Data must be an object, but it was:",i,n);const o=[],l=Vn.empty();zs(n,(d,h)=>{const m=Ey(e,d,t);h=_n(h);const g=i.Bu(m);if(h instanceof rh)o.push(m);else{const y=ih(h,g);y!=null&&(o.push(m),l.set(m,y))}});const c=new Qn(o);return new rx(l,c,i.fieldTransforms)}function RR(r,e,t,n,i,o){const l=r.$u(1,e,t),c=[vg(e,n,t)],d=[i];if(o.length%2!=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(vg(e,o[y])),d.push(o[y+1]);const h=[],m=Vn.empty();for(let y=c.length-1;y>=0;--y)if(!lx(h,c[y])){const _=c[y];let x=d[y];x=_n(x);const S=l.Bu(_);if(x instanceof rh)h.push(_);else{const b=ih(x,S);b!=null&&(h.push(_),m.set(_,b))}}const g=new Qn(h);return new rx(m,g,l.fieldTransforms)}function ih(r,e){if(ax(r=_n(r)))return wy("Unsupported field value:",e,r),ox(r,e);if(r instanceof gy)return function(n,i){if(!ix(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const c of n){let d=ih(c,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=_n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=qt.fromDate(n);return{timestampValue:mf(i.serializer,o)}}if(n instanceof qt){const o=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mf(i.serializer,o)}}if(n instanceof yy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qa)return{bytesValue:TT(i.serializer,n._byteString)};if(n instanceof Un){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ny(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof vy)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.qu("VectorValues must only contain numeric values.");return Jg(c.serializer,d)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${py(n)}`)}(r,e)}function ox(r,e){const t={};return Zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(n,i)=>{const o=ih(i,e.Ou(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function ax(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof qt||r instanceof yy||r instanceof Qa||r instanceof Un||r instanceof gy||r instanceof vy)}function wy(r,e,t){if(!ax(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=py(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function vg(r,e,t){if((e=_n(e))instanceof nh)return e._internalPath;if(typeof e=="string")return Ey(r,e);throw _f("Field path arguments must be of type string or ",r,!1,void 0,t)}const AR=new RegExp("[~\\*/\\[\\]]");function Ey(r,e,t){if(e.search(AR)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new nh(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _f(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new ke(ce.INVALID_ARGUMENT,c+r+d)}function lx(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OR extends ux{data(){return super.data()}}function cx(r,e){return typeof e=="string"?Ey(r,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LR{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return zs(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>At(l.doubleValue));return new vy(o)}convertGeoPoint(e){return new yy(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vt.fromString(e);tt(DT(n));const i=new Nu(n.get(1),n.get(3)),o=new De(n.popFirst(5));return i.isEqual(t)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dx extends ux{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(cx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Yd extends dx{data(e={}){return super.data(e)}}class FR{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Yd(this._firestore,this._userDataWriter,n.key,n,new yu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Yd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Yd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:UR(c.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){r=oi(r,Un);const e=oi(r.firestore,cl);return ER(my(e),r._key).then(t=>jR(e,r,t))}class fx extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function BR(r){r=oi(r,eh);const e=oi(r.firestore,cl),t=my(e),n=new fx(e);return MR(r._query),bR(t,r._query).then(i=>new FR(e,n,r,i))}function _g(r,e,t){r=oi(r,Un);const n=oi(r.firestore,cl),i=VR(r.converter,e);return by(n,[PR(sx(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Pr.none())])}function Ga(r,e,t,...n){r=oi(r,Un);const i=oi(r.firestore,cl),o=sx(i);let l;return l=typeof(e=_n(e))=="string"||e instanceof nh?RR(o,"updateDoc",r._key,e,t,n):NR(o,"updateDoc",r._key,e),by(i,[l.toMutation(r._key,Pr.exists(!0))])}function zR(r){return by(oi(r.firestore,cl),[new Zg(r._key,Pr.none())])}function by(r,e){return function(n,i){const o=new Oi;return n.asyncQueue.enqueueAndForget(async()=>uR(await wR(n),i,o)),o.promise}(my(r),e)}function jR(r,e,t){const n=t.docs.get(e._key),i=new fx(r);return new dx(r,i,e._key,n,new yu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ol=i})(rl),ja(new Io("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new cl(new LD(n.getProvider("auth-internal")),new BD(n.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(h.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Is(Uw,"4.7.5",e),Is(Uw,"4.7.5","esm2017")})();const WR={apiKey:"AIzaSyCWAqT6YGWlZ6VDzLVZmdI96jsK9ZH1TWo",authDomain:"doctorappoint-458c0.firebaseapp.com",projectId:"doctorappoint-458c0",storageBucket:"doctorappoint-458c0.firebasestorage.app",messagingSenderId:"77082512757",appId:"1:77082512757:web:9101d96cd0759c5b8f573c",measurementId:"G-KEWPQ8RMG9"},hx=ib(WR),Bt=RD(hx),wt=SR(hx);var ou={},T0;function HR(){if(T0)return ou;T0=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.parse=l,ou.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,_){const x=new o,S=y.length;if(S<2)return x;const b=(_==null?void 0:_.decode)||m;let N=0;do{const P=y.indexOf("=",N);if(P===-1)break;const R=y.indexOf(";",N),O=R===-1?S:R;if(P>O){N=y.lastIndexOf(";",P-1)+1;continue}const U=c(y,N,P),H=d(y,P,U),D=y.slice(U,H);if(x[D]===void 0){let C=c(y,P+1,O),A=d(y,O,C);const V=b(y.slice(C,A));x[D]=V}N=O+1}while(N<S);return x}function c(y,_,x){do{const S=y.charCodeAt(_);if(S!==32&&S!==9)return _}while(++_<x);return x}function d(y,_,x){for(;_>x;){const S=y.charCodeAt(--_);if(S!==32&&S!==9)return _+1}return x}function h(y,_,x){const S=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const b=S(_);if(!e.test(b))throw new TypeError(`argument val is invalid: ${_}`);let N=y+"="+b;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return ou}HR();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x0="popstate";function $R(r={}){function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return wg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Mu(i)}return qR(e,t,null,r)}function kt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YR(){return Math.random().toString(36).substring(2,10)}function S0(r,e){return{usr:r.state,key:r.key,idx:e}}function wg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:t,key:e&&e.key||n||YR()}}function Mu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function dl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function qR(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let b=m(),N=b==null?null:b-h;h=b,d&&d({action:c,location:S.location,delta:N})}function y(b,N){c="PUSH";let P=wg(S.location,b,N);h=m()+1;let R=S0(P,h),O=S.createHref(P);try{l.pushState(R,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(O)}o&&d&&d({action:c,location:S.location,delta:1})}function _(b,N){c="REPLACE";let P=wg(S.location,b,N);h=m();let R=S0(P,h),O=S.createHref(P);l.replaceState(R,"",O),o&&d&&d({action:c,location:S.location,delta:0})}function x(b){let N=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof b=="string"?b:Mu(b);return P=P.replace(/ $/,"%20"),kt(N,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,N)}let S={get action(){return c},get location(){return r(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(x0,g),d=b,()=>{i.removeEventListener(x0,g),d=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let N=x(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:_,go(b){return l.go(b)}};return S}function px(r,e,t="/"){return KR(r,e,t,!1)}function KR(r,e,t,n){let i=typeof e=="string"?dl(e):e,o=Ls(i.pathname||"/",t);if(o==null)return null;let l=mx(r);QR(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=oA(o);c=iA(l[d],h,n)}return c}function mx(r,e=[],t=[],n=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let h=Mi([n,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),mx(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:nA(h,o.index),routesMeta:m})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of gx(o.path))i(o,l,d)}),e}function gx(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=gx(n.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function QR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:rA(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var GR=/^:[\w-]+$/,XR=3,JR=2,ZR=1,eA=10,tA=-2,k0=r=>r==="*";function nA(r,e){let t=r.split("/"),n=t.length;return t.some(k0)&&(n+=tA),e&&(n+=JR),t.filter(i=>!k0(i)).reduce((i,o)=>i+(GR.test(o)?XR:o===""?ZR:eA),n)}function rA(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function iA(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),y=d.route;if(!g&&h&&t&&!n[n.length-1].route.index&&(g=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Mi([o,g.pathname]),pathnameBase:cA(Mi([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Mi([o,g.pathnameBase]))}return l}function wf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=sA(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let x=c[y]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const _=c[y];return g&&!_?h[m]=void 0:h[m]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function sA(r,e=!1,t=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function oA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ls(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function aA(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?dl(r):r;return{pathname:t?t.startsWith("/")?t:lA(t,e):e,search:dA(n),hash:fA(i)}}function lA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yx(r){let e=uA(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function vx(r,e,t,n=!1){let i;typeof r=="string"?i=dl(r):(i={...r},kt(!i.pathname||!i.pathname.includes("?"),dm("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),dm("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),dm("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=aA(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Mi=r=>r.join("/").replace(/\/\/+/g,"/"),cA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),dA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var _x=["POST","PUT","PATCH","DELETE"];new Set(_x);var pA=["GET",..._x];new Set(pA);var fl=L.createContext(null);fl.displayName="DataRouter";var sh=L.createContext(null);sh.displayName="DataRouterState";var wx=L.createContext({isTransitioning:!1});wx.displayName="ViewTransition";var mA=L.createContext(new Map);mA.displayName="Fetchers";var gA=L.createContext(null);gA.displayName="Await";var ui=L.createContext(null);ui.displayName="Navigation";var Gu=L.createContext(null);Gu.displayName="Location";var ci=L.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Ty=L.createContext(null);Ty.displayName="RouteError";function yA(r,{relative:e}={}){kt(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=L.useContext(ui),{hash:i,pathname:o,search:l}=Ju(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Mi([t,o])),n.createHref({pathname:c,search:l,hash:i})}function Xu(){return L.useContext(Gu)!=null}function Uo(){return kt(Xu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Gu).location}var Ex="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bx(r){L.useContext(ui).static||L.useLayoutEffect(r)}function di(){let{isDataRoute:r}=L.useContext(ci);return r?RA():vA()}function vA(){kt(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(fl),{basename:e,navigator:t}=L.useContext(ui),{matches:n}=L.useContext(ci),{pathname:i}=Uo(),o=JSON.stringify(yx(n)),l=L.useRef(!1);return bx(()=>{l.current=!0}),L.useCallback((d,h={})=>{if(ai(l.current,Ex),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=vx(d,JSON.parse(o),i,h.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mi([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,i,r])}var _A=L.createContext(null);function wA(r){let e=L.useContext(ci).outlet;return e&&L.createElement(_A.Provider,{value:r},e)}function Ju(r,{relative:e}={}){let{matches:t}=L.useContext(ci),{pathname:n}=Uo(),i=JSON.stringify(yx(t));return L.useMemo(()=>vx(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function EA(r,e){return Tx(r,e)}function Tx(r,e,t,n){var N;kt(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(ui),{matches:o}=L.useContext(ci),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";xx(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=Uo(),y;if(e){let P=typeof e=="string"?dl(e):e;kt(h==="/"||((N=P.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),y=P}else y=g;let _=y.pathname||"/",x=_;if(h!=="/"){let P=h.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=px(r,{pathname:x});ai(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ai(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=kA(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Mi([h,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:Mi([h,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,n);return e&&b?L.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function bA(){let r=NA(),e=hA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,l)}var TA=L.createElement(bA,null),xA=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(ci.Provider,{value:this.props.routeContext},L.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SA({routeContext:r,match:e,children:t}){let n=L.useContext(fl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ci.Provider,{value:r},t)}function kA(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:g}=t,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,y=!1,_=null,x=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||TA,l&&(c<0&&m===0?(xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,x=null):c===m&&(y=!0,x=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),b=()=>{let N;return g?N=_:y?N=x:h.route.Component?N=L.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,L.createElement(SA,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:N})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?L.createElement(xA,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function xy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(r){let e=L.useContext(fl);return kt(e,xy(r)),e}function IA(r){let e=L.useContext(sh);return kt(e,xy(r)),e}function DA(r){let e=L.useContext(ci);return kt(e,xy(r)),e}function Sy(r){let e=DA(r),t=e.matches[e.matches.length-1];return kt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function PA(){return Sy("useRouteId")}function NA(){var n;let r=L.useContext(Ty),e=IA("useRouteError"),t=Sy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function RA(){let{router:r}=CA("useNavigate"),e=Sy("useNavigate"),t=L.useRef(!1);return bx(()=>{t.current=!0}),L.useCallback(async(i,o={})=>{ai(t.current,Ex),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var C0={};function xx(r,e,t){!e&&!C0[r]&&(C0[r]=!0,ai(!1,t))}L.memo(AA);function AA({routes:r,future:e,state:t}){return Tx(r,void 0,t,e)}function ky(r){return wA(r.context)}function ft(r){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OA({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){kt(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=dl(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=t,_=L.useMemo(()=>{let x=Ls(d,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:y},navigationType:n}},[l,d,h,m,g,y,n]);return ai(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:L.createElement(ui.Provider,{value:c},L.createElement(Gu.Provider,{children:e,value:_}))}function MA({children:r,location:e}){return EA(Eg(r),e)}function Eg(r,e=[]){let t=[];return L.Children.forEach(r,(n,i)=>{if(!L.isValidElement(n))return;let o=[...e,i];if(n.type===L.Fragment){t.push.apply(t,Eg(n.props.children,o));return}kt(n.type===ft,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Eg(n.props.children,o)),t.push(l)}),t}var qd="get",Kd="application/x-www-form-urlencoded";function oh(r){return r!=null&&typeof r.tagName=="string"}function LA(r){return oh(r)&&r.tagName.toLowerCase()==="button"}function VA(r){return oh(r)&&r.tagName.toLowerCase()==="form"}function FA(r){return oh(r)&&r.tagName.toLowerCase()==="input"}function UA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!UA(r)}var Cd=null;function zA(){if(Cd===null)try{new FormData(document.createElement("form"),0),Cd=!1}catch{Cd=!0}return Cd}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!jA.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):r}function WA(r,e){let t,n,i,o,l;if(VA(r)){let c=r.getAttribute("action");n=c?Ls(c,e):null,t=r.getAttribute("method")||qd,i=fm(r.getAttribute("enctype"))||Kd,o=new FormData(r)}else if(LA(r)||FA(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Ls(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||qd,i=fm(r.getAttribute("formenctype"))||fm(c.getAttribute("enctype"))||Kd,o=new FormData(c,r),!zA()){let{name:h,type:m,value:g}=r;if(m==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qd,n=null,i=Kd,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Cy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function HA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $A(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YA(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await HA(o,t);return l.links?l.links():[]}return[]}));return GA(n.flat(1).filter($A).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function I0(r,e,t,n,i,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var g;let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function qA(r,e){return KA(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function KA(r){return[...new Set(r)]}function QA(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function GA(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(QA(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}function XA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function JA(){let r=L.useContext(fl);return Cy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZA(){let r=L.useContext(sh);return Cy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Iy=L.createContext(void 0);Iy.displayName="FrameworkContext";function Sx(){let r=L.useContext(Iy);return Cy(r,"You must render this element inside a <HydratedRouter> element"),r}function e2(r,e){let t=L.useContext(Iy),[n,i]=L.useState(!1),[o,l]=L.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,y=L.useRef(null);L.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let S=N=>{N.forEach(P=>{l(P.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[r]),L.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let _=()=>{i(!0)},x=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,y,{}]:[o,y,{onFocus:au(c,_),onBlur:au(d,x),onMouseEnter:au(h,_),onMouseLeave:au(m,x),onTouchStart:au(g,_)}]:[!1,y,{}]}function au(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function t2({page:r,...e}){let{router:t}=JA(),n=L.useMemo(()=>px(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?L.createElement(r2,{page:r,matches:n,...e}):null}function n2(r){let{manifest:e,routeModules:t}=Sx(),[n,i]=L.useState([]);return L.useEffect(()=>{let o=!1;return YA(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function r2({page:r,matches:e,...t}){let n=Uo(),{manifest:i,routeModules:o}=Sx(),{loaderData:l,matches:c}=ZA(),d=L.useMemo(()=>I0(r,e,c,i,n,"data"),[r,e,c,i,n]),h=L.useMemo(()=>I0(r,e,c,i,n,"assets"),[r,e,c,i,n]),m=L.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let _=new Set,x=!1;if(e.forEach(b=>{var P;let N=i.routes[b.route.id];!N||!N.hasLoader||(!d.some(R=>R.route.id===b.route.id)&&b.route.id in l&&((P=o[b.route.id])!=null&&P.shouldRevalidate)||N.hasClientLoader?x=!0:_.add(b.route.id))}),_.size===0)return[];let S=XA(r);return x&&_.size>0&&S.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[l,n,i,d,e,r,o]),g=L.useMemo(()=>qA(h,i),[h,i]),y=n2(h);return L.createElement(L.Fragment,null,m.map(_=>L.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),g.map(_=>L.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),y.map(({key:_,link:x})=>L.createElement("link",{key:_,...x})))}function i2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.1.3")}catch{}function s2({basename:r,children:e,window:t}){let n=L.useRef();n.current==null&&(n.current=$R({window:t,v5Compat:!0}));let i=n.current,[o,l]=L.useState({action:i.action,location:i.location}),c=L.useCallback(d=>{L.startTransition(()=>l(d))},[l]);return L.useLayoutEffect(()=>i.listen(c),[i,c]),L.createElement(OA,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=L.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:g,...y},_){let{basename:x}=L.useContext(ui),S=typeof h=="string"&&Cx.test(h),b,N=!1;if(typeof h=="string"&&S&&(b=h,kx))try{let A=new URL(window.location.href),V=h.startsWith("//")?new URL(A.protocol+h):new URL(h),z=Ls(V.pathname,x);V.origin===A.origin&&z!=null?h=z+V.search+V.hash:N=!0}catch{ai(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=yA(h,{relative:i}),[R,O,U]=e2(n,y),H=u2(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(A){e&&e(A),A.defaultPrevented||H(A)}let C=L.createElement("a",{...y,...U,href:b||P,onClick:N||o?e:D,ref:i2(_,O),target:d,"data-discover":!S&&t==="render"?"true":void 0});return R&&!S?L.createElement(L.Fragment,null,C,L.createElement(t2,{page:P})):C});Fn.displayName="Link";var o2=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...h},m){let g=Ju(l,{relative:h.relative}),y=Uo(),_=L.useContext(sh),{navigator:x,basename:S}=L.useContext(ui),b=_!=null&&p2(g)&&c===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,P=y.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(P=P.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&S&&(R=Ls(R,S)||R);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let U=P===N||!i&&P.startsWith(N)&&P.charAt(O)==="/",H=R!=null&&(R===N||!i&&R.startsWith(N)&&R.charAt(N.length)==="/"),D={isActive:U,isPending:H,isTransitioning:b},C=U?e:void 0,A;typeof n=="function"?A=n(D):A=[n,U?"active":null,H?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return L.createElement(Fn,{...h,"aria-current":C,className:A,ref:m,style:V,to:l,viewTransition:c},typeof d=="function"?d(D):d)});o2.displayName="NavLink";var a2=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=qd,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...y},_)=>{let x=f2(),S=h2(c,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&Cx.test(c),P=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,U=(O==null?void 0:O.getAttribute("formmethod"))||l;x(O||R.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return L.createElement("form",{ref:_,method:b,action:S,onSubmit:n?d:P,...y,"data-discover":!N&&r==="render"?"true":void 0})});a2.displayName="Form";function l2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ix(r){let e=L.useContext(fl);return kt(e,l2(r)),e}function u2(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=di(),d=Uo(),h=Ju(r,{relative:o});return L.useCallback(m=>{if(BA(m,e)){m.preventDefault();let g=t!==void 0?t:Mu(d)===Mu(h);c(r,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,t,n,e,r,i,o,l])}var c2=0,d2=()=>`__${String(++c2)}__`;function f2(){let{router:r}=Ix("useSubmit"),{basename:e}=L.useContext(ui),t=PA();return L.useCallback(async(n,i={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=WA(n,e);if(i.navigate===!1){let m=i.fetcherKey||d2();await r.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function h2(r,{relative:e}={}){let{basename:t}=L.useContext(ui),n=L.useContext(ci);kt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Ju(r||".",{relative:e})},l=Uo();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Mi([t,o.pathname])),Mu(o)}function p2(r,e={}){let t=L.useContext(wx);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ix("useViewTransitionState"),i=Ju(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ls(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Ls(t.nextLocation.pathname,n)||t.nextLocation.pathname;return wf(i.pathname,l)!=null||wf(i.pathname,o)!=null}new TextEncoder;var Dx=KE();const m2=Ag(Dx),g2=()=>{const{username:r,setUsername:e,email:t,setEmail:n,password:i,setPassword:o,ConfirmPassword:l,setConfirmPassword:c}=fr();L.useState(null);const{role:d,setRole:h}=fr(),m=di(),[g,y]=L.useState(null),[_,x]=L.useState(null),[S,b]=L.useState(null),[N,P]=L.useState(null),[R,O]=L.useState(!0),[U,H]=L.useState(()=>{const C=localStorage.getItem("totalPatient");return C?JSON.parse(C):[]});return T("div",{className:"bg-[#f1f1f1] h-screen flex justify-center items-center",children:B("div",{className:"shadow-lg shadow-slate-300 bg-white border-[#333] w-[350px] p-5 rounded-md  text-center",children:[T("p",{className:"text-lg font-semibold",children:"SignUp"}),B("form",{onSubmit:async C=>{C.preventDefault();let A=!0;if(r===""?(y("Please fill username field"),A=!1):r.includes("@")?(y("Username cannot contain @"),A=!1):y(null),t===""?(x("Please fill Email field"),A=!1):(x(null),O(!0)),i?i.length<6?(b("Password must be at least 6 characters long"),A=!1):!/[a-z]/.test(i)||!/[A-Z]/.test(i)||!/[0-9]/.test(i)||!/[!@#$%^&*()_+]/.test(i)?(b("Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character"),A=!1):b(null):(b("Please fill password field"),A=!1),l?i!==l?(P("Password does not match"),A=!1):P(null):(P("Please fill ConfirmPassword field"),A=!1),A)O(!0);else{O(!1);return}console.log(r,t,i,d);try{const z=(await Ab(Bt,t,i)).user;if(d==="admin")await _g(pt(wt,"admin",z.uid),{username:r,email:t,role:d,password:i});else{const j={username:r,email:t,role:d,uid:z.uid};await _g(pt(wt,"patients",z.uid),{patientInfo:j}),H(M=>{const ae=[...M,j];return localStorage.setItem("totalPatient",JSON.stringify(ae)),ae})}m(d==="admin"?"/admin":"/patient"),e(""),n(""),o(""),alert("User registered successfully")}catch(V){console.log(V)}},children:[T("input",{type:"text",placeholder:"Username",value:r,onChange:C=>e(C.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
            outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("p",{hidden:R,className:"text-left text-[10px] font-medium  text-red-500",children:g}),T("input",{type:"email",placeholder:"Email",value:t,onChange:C=>n(C.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
            outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("p",{hidden:R,className:"text-left text-[10px] font-medium text-red-500",children:_}),T("input",{type:"password",placeholder:"Password",value:i,onChange:C=>o(C.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
            outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("p",{hidden:R,className:"text-left text-[10px] font-medium text-red-500",children:S}),T("input",{type:"password",placeholder:"ConfirmPassword",value:l,onChange:C=>c(C.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
          outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("p",{hidden:R,className:"text-left text-[10px] font-medium text-red-500",children:N}),B("select",{value:d,required:!0,onChange:C=>h(C.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
           outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`,children:[T("option",{value:"",className:"bg-blue-500 text-white",children:"Select Role"}),T("option",{value:"admin",children:"Admin"}),T("option",{value:"patient",className:"bg-blue-500 text-white",children:"Patient "})]}),T("br",{}),B("div",{className:"flex space-x-6 justify-center items-center mt-4",children:[T("button",{type:"submit",className:`py-[5px] px-[18px]  bg-blue-500 text-white rounded-md hover:bg-blue-600\r
              outline-none text-[14px] transition-all duration-300`,children:"Sign Up"}),T(Fn,{to:"/login",className:"text-[13px] text-blue-500 hover:text-blue-600 transition-all duration-300 underline",children:"Login"})]})]})]})})},y2=()=>{const{email:r,setEmail:e,password:t,setPassword:n}=fr(),i=di();return T("div",{className:"bg-[#f1f1f1] h-screen flex justify-center items-center",children:B("div",{className:"text-center shadow-lg shadow-slate-300 bg-white border-[#333] w-[350px] p-5 rounded-md",children:[T("h2",{className:"text-lg font-semibold",children:"Login"}),B("form",{children:[T("input",{type:"email",placeholder:"Email",value:r,onChange:l=>e(l.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
                          outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("input",{type:"password",placeholder:"Password",value:t,onChange:l=>n(l.target.value),className:`py-[8px] px-[10px] w-full bg-white border-[1px] border-[#333] rounded-md\r
                          outline-none my-2 text-[12px] text-black placeholder:text-[#212529]`}),T("br",{}),B("div",{className:"flex space-x-6 justify-center items-center mt-4",children:[T("button",{onClick:async l=>{l.preventDefault();try{const d=(await Ob(Bt,r,t)).user,h=await Ut(pt(wt,"doctors",d.uid)),m=await Ut(pt(wt,"patients",d.uid)),g=await Ut(pt(wt,"admin",d.uid));if(console.log(h.uid),console.log(g.uid),h.exists()){const y=h.data();console.log(y.doctorSignUpinfo.role),y.doctorSignUpinfo.role==="doctor"&&i("/doctor/appointment"),e(""),n("")}else if(g.exists())g.data().role==="admin"&&i("/admin"),e(""),n("");else if(m.exists()){const _=m.data().patientInfo.role;console.log("User logged in successfully:",d),console.log("User role:",_),_==="patient"&&i("/patient"),e(""),n("")}else alert("User not found")}catch{alert("User not found! pls sign up")}},className:`py-[5px] px-[18px]  bg-blue-500 text-white rounded-md hover:bg-blue-600\r
                    outline-none text-[14px] transition-all duration-300`,children:"Login"}),T(Fn,{to:"/",children:T("p",{className:"text-[13px] text-blue-500 hover:text-blue-600 transition-all duration-300 underline",children:"Sign Up"})})]})]})]})})},v2=()=>T("div",{className:"text-[14px]",children:B("ul",{className:"flex justify-between items-center p-5 bg-blue-500 text-white px-4 sm:px-16",children:[T("li",{children:T(Fn,{to:"/doctor",children:"Dashboard"})}),T("li",{children:T(Fn,{to:"/doctor/appointment",children:"Appointment"})}),T("li",{children:T(Fn,{to:"/doctor/Availability",children:"Set Availability "})}),T("li",{children:T(Fn,{to:"/doctor/PatientRecords",children:"Patient Records"})}),T("li",{children:T(Fn,{to:"/doctor/profile",children:"Profile"})}),T("li",{})]})}),_2=()=>B("div",{className:"font-poppins",children:[T(v2,{}),T(ky,{})]}),w2=()=>T("div",{className:"bg-blue-300 py-3 text-[14px] px-4 sm:px-20",children:B("ul",{className:"flex space-x-3",children:[T("li",{children:T(Fn,{to:"/patient",children:"Home"})}),T("li",{children:T(Fn,{to:"/Patient/appointment",children:"Appointment"})}),T("li",{children:T(Fn,{to:"/Patient/profile",children:"Profile"})})]})}),E2=()=>B("div",{className:" font-poppins",children:[T(w2,{}),T(ky,{})]});var Id={exports:{}},D0;function b2(){if(D0)return Id.exports;D0=1;var r=String,e=function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}};return Id.exports=e(),Id.exports.createColors=e,Id.exports}const T2={},x2=Object.freeze(Object.defineProperty({__proto__:null,default:T2},Symbol.toStringTag,{value:"Module"})),Dr=O1(x2);var hm,P0;function Dy(){if(P0)return hm;P0=1;let r=b2(),e=Dr;class t extends Error{constructor(i,o,l,c,d,h){super(i),this.name="CssSyntaxError",this.reason=i,d&&(this.file=d),c&&(this.source=c),h&&(this.plugin=h),typeof o<"u"&&typeof l<"u"&&(typeof o=="number"?(this.line=o,this.column=l):(this.line=o.line,this.column=o.column,this.endLine=l.line,this.endColumn=l.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,t)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let o=this.source;i==null&&(i=r.isColorSupported);let l=_=>_,c=_=>_,d=_=>_;if(i){let{bold:_,gray:x,red:S}=r.createColors(!0);c=b=>_(S(b)),l=b=>x(b),e&&(d=b=>e(b))}let h=o.split(/\r?\n/),m=Math.max(this.line-3,0),g=Math.min(this.line+2,h.length),y=String(g).length;return h.slice(m,g).map((_,x)=>{let S=m+1+x,b=" "+(" "+S).slice(-y)+" | ";if(S===this.line){if(_.length>160){let P=20,R=Math.max(0,this.column-P),O=Math.max(this.column+P,this.endColumn+P),U=_.slice(R,O),H=l(b.replace(/\d/g," "))+_.slice(0,Math.min(this.column-1,P-1)).replace(/[^\t]/g," ");return c(">")+l(b)+d(U)+`
 `+H+c("^")}let N=l(b.replace(/\d/g," "))+_.slice(0,this.column-1).replace(/[^\t]/g," ");return c(">")+l(b)+d(_)+`
 `+N+c("^")}return" "+l(b)+d(_)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return hm=t,t.default=t,hm}var pm,N0;function Px(){if(N0)return pm;N0=1;const r={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(n){return n[0].toUpperCase()+n.slice(1)}class t{constructor(i){this.builder=i}atrule(i,o){let l="@"+i.name,c=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?l+=i.raws.afterName:c&&(l+=" "),i.nodes)this.block(i,l+c);else{let d=(i.raws.between||"")+(o?";":"");this.builder(l+c+d,i)}}beforeAfter(i,o){let l;i.type==="decl"?l=this.raw(i,null,"beforeDecl"):i.type==="comment"?l=this.raw(i,null,"beforeComment"):o==="before"?l=this.raw(i,null,"beforeRule"):l=this.raw(i,null,"beforeClose");let c=i.parent,d=0;for(;c&&c.type!=="root";)d+=1,c=c.parent;if(l.includes(`
`)){let h=this.raw(i,null,"indent");if(h.length)for(let m=0;m<d;m++)l+=h}return l}block(i,o){let l=this.raw(i,"between","beforeOpen");this.builder(o+l+"{",i,"start");let c;i.nodes&&i.nodes.length?(this.body(i),c=this.raw(i,"after")):c=this.raw(i,"after","emptyBody"),c&&this.builder(c),this.builder("}",i,"end")}body(i){let o=i.nodes.length-1;for(;o>0&&i.nodes[o].type==="comment";)o-=1;let l=this.raw(i,"semicolon");for(let c=0;c<i.nodes.length;c++){let d=i.nodes[c],h=this.raw(d,"before");h&&this.builder(h),this.stringify(d,o!==c||l)}}comment(i){let o=this.raw(i,"left","commentLeft"),l=this.raw(i,"right","commentRight");this.builder("/*"+o+i.text+l+"*/",i)}decl(i,o){let l=this.raw(i,"between","colon"),c=i.prop+l+this.rawValue(i,"value");i.important&&(c+=i.raws.important||" !important"),o&&(c+=";"),this.builder(c,i)}document(i){this.body(i)}raw(i,o,l){let c;if(l||(l=o),o&&(c=i.raws[o],typeof c<"u"))return c;let d=i.parent;if(l==="before"&&(!d||d.type==="root"&&d.first===i||d&&d.type==="document"))return"";if(!d)return r[l];let h=i.root();if(h.rawCache||(h.rawCache={}),typeof h.rawCache[l]<"u")return h.rawCache[l];if(l==="before"||l==="after")return this.beforeAfter(i,l);{let m="raw"+e(l);this[m]?c=this[m](h,i):h.walk(g=>{if(c=g.raws[o],typeof c<"u")return!1})}return typeof c>"u"&&(c=r[l]),h.rawCache[l]=c,c}rawBeforeClose(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length>0&&typeof l.raws.after<"u")return o=l.raws.after,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawBeforeComment(i,o){let l;return i.walkComments(c=>{if(typeof c.raws.before<"u")return l=c.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeDecl"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeDecl(i,o){let l;return i.walkDecls(c=>{if(typeof c.raws.before<"u")return l=c.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(o,null,"beforeRule"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeOpen(i){let o;return i.walk(l=>{if(l.type!=="decl"&&(o=l.raws.between,typeof o<"u"))return!1}),o}rawBeforeRule(i){let o;return i.walk(l=>{if(l.nodes&&(l.parent!==i||i.first!==l)&&typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o}rawColon(i){let o;return i.walkDecls(l=>{if(typeof l.raws.between<"u")return o=l.raws.between.replace(/[^\s:]/g,""),!1}),o}rawEmptyBody(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length===0&&(o=l.raws.after,typeof o<"u"))return!1}),o}rawIndent(i){if(i.raws.indent)return i.raws.indent;let o;return i.walk(l=>{let c=l.parent;if(c&&c!==i&&c.parent&&c.parent===i&&typeof l.raws.before<"u"){let d=l.raws.before.split(`
`);return o=d[d.length-1],o=o.replace(/\S/g,""),!1}}),o}rawSemicolon(i){let o;return i.walk(l=>{if(l.nodes&&l.nodes.length&&l.last.type==="decl"&&(o=l.raws.semicolon,typeof o<"u"))return!1}),o}rawValue(i,o){let l=i[o],c=i.raws[o];return c&&c.value===l?c.raw:l}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,o){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,o)}}return pm=t,t.default=t,pm}var mm,R0;function ah(){if(R0)return mm;R0=1;let r=Px();function e(t,n){new r(n).stringify(t)}return mm=e,e.default=e,mm}var Dd={},A0;function Py(){return A0||(A0=1,Dd.isClean=Symbol("isClean"),Dd.my=Symbol("my")),Dd}var gm,O0;function lh(){if(O0)return gm;O0=1;let r=Dy(),e=Px(),t=ah(),{isClean:n,my:i}=Py();function o(d,h){let m=new d.constructor;for(let g in d){if(!Object.prototype.hasOwnProperty.call(d,g)||g==="proxyCache")continue;let y=d[g],_=typeof y;g==="parent"&&_==="object"?h&&(m[g]=h):g==="source"?m[g]=y:Array.isArray(y)?m[g]=y.map(x=>o(x,m)):(_==="object"&&y!==null&&(y=o(y)),m[g]=y)}return m}function l(d,h){if(h&&typeof h.offset<"u")return h.offset;let m=1,g=1,y=0;for(let _=0;_<d.length;_++){if(g===h.line&&m===h.column){y=_;break}d[_]===`
`?(m=1,g+=1):m+=1}return y}class c{constructor(h={}){this.raws={},this[n]=!1,this[i]=!0;for(let m in h)if(m==="nodes"){this.nodes=[];for(let g of h[m])typeof g.clone=="function"?this.append(g.clone()):this.append(g)}else this[m]=h[m]}addToError(h){if(h.postcssNode=this,h.stack&&this.source&&/\n\s{4}at /.test(h.stack)){let m=this.source;h.stack=h.stack.replace(/\n\s{4}at /,`$&${m.input.from}:${m.start.line}:${m.start.column}$&`)}return h}after(h){return this.parent.insertAfter(this,h),this}assign(h={}){for(let m in h)this[m]=h[m];return this}before(h){return this.parent.insertBefore(this,h),this}cleanRaws(h){delete this.raws.before,delete this.raws.after,h||delete this.raws.between}clone(h={}){let m=o(this);for(let g in h)m[g]=h[g];return m}cloneAfter(h={}){let m=this.clone(h);return this.parent.insertAfter(this,m),m}cloneBefore(h={}){let m=this.clone(h);return this.parent.insertBefore(this,m),m}error(h,m={}){if(this.source){let{end:g,start:y}=this.rangeBy(m);return this.source.input.error(h,{column:y.column,line:y.line},{column:g.column,line:g.line},m)}return new r(h)}getProxyProcessor(){return{get(h,m){return m==="proxyOf"?h:m==="root"?()=>h.root().toProxy():h[m]},set(h,m,g){return h[m]===g||(h[m]=g,(m==="prop"||m==="value"||m==="name"||m==="params"||m==="important"||m==="text")&&h.markDirty()),!0}}}markClean(){this[n]=!0}markDirty(){if(this[n]){this[n]=!1;let h=this;for(;h=h.parent;)h[n]=!1}}next(){if(!this.parent)return;let h=this.parent.index(this);return this.parent.nodes[h+1]}positionBy(h){let m=this.source.start;if(h.index)m=this.positionInside(h.index);else if(h.word){let g="document"in this.source.input?this.source.input.document:this.source.input.css,_=g.slice(l(g,this.source.start),l(g,this.source.end)).indexOf(h.word);_!==-1&&(m=this.positionInside(_))}return m}positionInside(h){let m=this.source.start.column,g=this.source.start.line,y="document"in this.source.input?this.source.input.document:this.source.input.css,_=l(y,this.source.start),x=_+h;for(let S=_;S<x;S++)y[S]===`
`?(m=1,g+=1):m+=1;return{column:m,line:g}}prev(){if(!this.parent)return;let h=this.parent.index(this);return this.parent.nodes[h-1]}rangeBy(h){let m={column:this.source.start.column,line:this.source.start.line},g=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:m.column+1,line:m.line};if(h.word){let y="document"in this.source.input?this.source.input.document:this.source.input.css,x=y.slice(l(y,this.source.start),l(y,this.source.end)).indexOf(h.word);x!==-1&&(m=this.positionInside(x),g=this.positionInside(x+h.word.length))}else h.start?m={column:h.start.column,line:h.start.line}:h.index&&(m=this.positionInside(h.index)),h.end?g={column:h.end.column,line:h.end.line}:typeof h.endIndex=="number"?g=this.positionInside(h.endIndex):h.index&&(g=this.positionInside(h.index+1));return(g.line<m.line||g.line===m.line&&g.column<=m.column)&&(g={column:m.column+1,line:m.line}),{end:g,start:m}}raw(h,m){return new e().raw(this,h,m)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...h){if(this.parent){let m=this,g=!1;for(let y of h)y===this?g=!0:g?(this.parent.insertAfter(m,y),m=y):this.parent.insertBefore(m,y);g||this.remove()}return this}root(){let h=this;for(;h.parent&&h.parent.type!=="document";)h=h.parent;return h}toJSON(h,m){let g={},y=m==null;m=m||new Map;let _=0;for(let x in this){if(!Object.prototype.hasOwnProperty.call(this,x)||x==="parent"||x==="proxyCache")continue;let S=this[x];if(Array.isArray(S))g[x]=S.map(b=>typeof b=="object"&&b.toJSON?b.toJSON(null,m):b);else if(typeof S=="object"&&S.toJSON)g[x]=S.toJSON(null,m);else if(x==="source"){let b=m.get(S.input);b==null&&(b=_,m.set(S.input,_),_++),g[x]={end:S.end,inputId:b,start:S.start}}else g[x]=S}return y&&(g.inputs=[...m.keys()].map(x=>x.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(h=t){h.stringify&&(h=h.stringify);let m="";return h(this,g=>{m+=g}),m}warn(h,m,g){let y={node:this};for(let _ in g)y[_]=g[_];return h.warn(m,y)}get proxyOf(){return this}}return gm=c,c.default=c,gm}var ym,M0;function uh(){if(M0)return ym;M0=1;let r=lh();class e extends r{constructor(n){super(n),this.type="comment"}}return ym=e,e.default=e,ym}var vm,L0;function ch(){if(L0)return vm;L0=1;let r=lh();class e extends r{constructor(n){n&&typeof n.value<"u"&&typeof n.value!="string"&&(n={...n,value:String(n.value)}),super(n),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return vm=e,e.default=e,vm}var _m,V0;function Bo(){if(V0)return _m;V0=1;let r=uh(),e=ch(),t=lh(),{isClean:n,my:i}=Py(),o,l,c,d;function h(y){return y.map(_=>(_.nodes&&(_.nodes=h(_.nodes)),delete _.source,_))}function m(y){if(y[n]=!1,y.proxyOf.nodes)for(let _ of y.proxyOf.nodes)m(_)}class g extends t{append(..._){for(let x of _){let S=this.normalize(x,this.last);for(let b of S)this.proxyOf.nodes.push(b)}return this.markDirty(),this}cleanRaws(_){if(super.cleanRaws(_),this.nodes)for(let x of this.nodes)x.cleanRaws(_)}each(_){if(!this.proxyOf.nodes)return;let x=this.getIterator(),S,b;for(;this.indexes[x]<this.proxyOf.nodes.length&&(S=this.indexes[x],b=_(this.proxyOf.nodes[S],S),b!==!1);)this.indexes[x]+=1;return delete this.indexes[x],b}every(_){return this.nodes.every(_)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let _=this.lastEach;return this.indexes[_]=0,_}getProxyProcessor(){return{get(_,x){return x==="proxyOf"?_:_[x]?x==="each"||typeof x=="string"&&x.startsWith("walk")?(...S)=>_[x](...S.map(b=>typeof b=="function"?(N,P)=>b(N.toProxy(),P):b)):x==="every"||x==="some"?S=>_[x]((b,...N)=>S(b.toProxy(),...N)):x==="root"?()=>_.root().toProxy():x==="nodes"?_.nodes.map(S=>S.toProxy()):x==="first"||x==="last"?_[x].toProxy():_[x]:_[x]},set(_,x,S){return _[x]===S||(_[x]=S,(x==="name"||x==="params"||x==="selector")&&_.markDirty()),!0}}}index(_){return typeof _=="number"?_:(_.proxyOf&&(_=_.proxyOf),this.proxyOf.nodes.indexOf(_))}insertAfter(_,x){let S=this.index(_),b=this.normalize(x,this.proxyOf.nodes[S]).reverse();S=this.index(_);for(let P of b)this.proxyOf.nodes.splice(S+1,0,P);let N;for(let P in this.indexes)N=this.indexes[P],S<N&&(this.indexes[P]=N+b.length);return this.markDirty(),this}insertBefore(_,x){let S=this.index(_),b=S===0?"prepend":!1,N=this.normalize(x,this.proxyOf.nodes[S],b).reverse();S=this.index(_);for(let R of N)this.proxyOf.nodes.splice(S,0,R);let P;for(let R in this.indexes)P=this.indexes[R],S<=P&&(this.indexes[R]=P+N.length);return this.markDirty(),this}normalize(_,x){if(typeof _=="string")_=h(l(_).nodes);else if(typeof _>"u")_=[];else if(Array.isArray(_)){_=_.slice(0);for(let b of _)b.parent&&b.parent.removeChild(b,"ignore")}else if(_.type==="root"&&this.type!=="document"){_=_.nodes.slice(0);for(let b of _)b.parent&&b.parent.removeChild(b,"ignore")}else if(_.type)_=[_];else if(_.prop){if(typeof _.value>"u")throw new Error("Value field is missed in node creation");typeof _.value!="string"&&(_.value=String(_.value)),_=[new e(_)]}else if(_.selector||_.selectors)_=[new d(_)];else if(_.name)_=[new o(_)];else if(_.text)_=[new r(_)];else throw new Error("Unknown node type in node creation");return _.map(b=>(b[i]||g.rebuild(b),b=b.proxyOf,b.parent&&b.parent.removeChild(b),b[n]&&m(b),b.raws||(b.raws={}),typeof b.raws.before>"u"&&x&&typeof x.raws.before<"u"&&(b.raws.before=x.raws.before.replace(/\S/g,"")),b.parent=this.proxyOf,b))}prepend(..._){_=_.reverse();for(let x of _){let S=this.normalize(x,this.first,"prepend").reverse();for(let b of S)this.proxyOf.nodes.unshift(b);for(let b in this.indexes)this.indexes[b]=this.indexes[b]+S.length}return this.markDirty(),this}push(_){return _.parent=this,this.proxyOf.nodes.push(_),this}removeAll(){for(let _ of this.proxyOf.nodes)_.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(_){_=this.index(_),this.proxyOf.nodes[_].parent=void 0,this.proxyOf.nodes.splice(_,1);let x;for(let S in this.indexes)x=this.indexes[S],x>=_&&(this.indexes[S]=x-1);return this.markDirty(),this}replaceValues(_,x,S){return S||(S=x,x={}),this.walkDecls(b=>{x.props&&!x.props.includes(b.prop)||x.fast&&!b.value.includes(x.fast)||(b.value=b.value.replace(_,S))}),this.markDirty(),this}some(_){return this.nodes.some(_)}walk(_){return this.each((x,S)=>{let b;try{b=_(x,S)}catch(N){throw x.addToError(N)}return b!==!1&&x.walk&&(b=x.walk(_)),b})}walkAtRules(_,x){return x?_ instanceof RegExp?this.walk((S,b)=>{if(S.type==="atrule"&&_.test(S.name))return x(S,b)}):this.walk((S,b)=>{if(S.type==="atrule"&&S.name===_)return x(S,b)}):(x=_,this.walk((S,b)=>{if(S.type==="atrule")return x(S,b)}))}walkComments(_){return this.walk((x,S)=>{if(x.type==="comment")return _(x,S)})}walkDecls(_,x){return x?_ instanceof RegExp?this.walk((S,b)=>{if(S.type==="decl"&&_.test(S.prop))return x(S,b)}):this.walk((S,b)=>{if(S.type==="decl"&&S.prop===_)return x(S,b)}):(x=_,this.walk((S,b)=>{if(S.type==="decl")return x(S,b)}))}walkRules(_,x){return x?_ instanceof RegExp?this.walk((S,b)=>{if(S.type==="rule"&&_.test(S.selector))return x(S,b)}):this.walk((S,b)=>{if(S.type==="rule"&&S.selector===_)return x(S,b)}):(x=_,this.walk((S,b)=>{if(S.type==="rule")return x(S,b)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return g.registerParse=y=>{l=y},g.registerRule=y=>{d=y},g.registerAtRule=y=>{o=y},g.registerRoot=y=>{c=y},_m=g,g.default=g,g.rebuild=y=>{y.type==="atrule"?Object.setPrototypeOf(y,o.prototype):y.type==="rule"?Object.setPrototypeOf(y,d.prototype):y.type==="decl"?Object.setPrototypeOf(y,e.prototype):y.type==="comment"?Object.setPrototypeOf(y,r.prototype):y.type==="root"&&Object.setPrototypeOf(y,c.prototype),y[i]=!0,y.nodes&&y.nodes.forEach(_=>{g.rebuild(_)})},_m}var wm,F0;function Ny(){if(F0)return wm;F0=1;let r=Bo();class e extends r{constructor(n){super(n),this.type="atrule"}append(...n){return this.proxyOf.nodes||(this.nodes=[]),super.append(...n)}prepend(...n){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...n)}}return wm=e,e.default=e,r.registerAtRule(e),wm}var Em,U0;function Ry(){if(U0)return Em;U0=1;let r=Bo(),e,t;class n extends r{constructor(o){super({type:"document",...o}),this.nodes||(this.nodes=[])}toResult(o={}){return new e(new t,this,o).stringify()}}return n.registerLazyResult=i=>{e=i},n.registerProcessor=i=>{t=i},Em=n,n.default=n,Em}var bm,B0;function S2(){if(B0)return bm;B0=1;let r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return bm={nanoid:(n=21)=>{let i="",o=n|0;for(;o--;)i+=r[Math.random()*64|0];return i},customAlphabet:(n,i=21)=>(o=i)=>{let l="",c=o|0;for(;c--;)l+=n[Math.random()*n.length|0];return l}},bm}var Tm,z0;function Nx(){if(z0)return Tm;z0=1;let{existsSync:r,readFileSync:e}=Dr,{dirname:t,join:n}=Dr,{SourceMapConsumer:i,SourceMapGenerator:o}=Dr;function l(d){return Buffer?Buffer.from(d,"base64").toString():window.atob(d)}class c{constructor(h,m){if(m.map===!1)return;this.loadAnnotation(h),this.inline=this.startWith(this.annotation,"data:");let g=m.map?m.map.prev:void 0,y=this.loadMap(m.from,g);!this.mapFile&&m.from&&(this.mapFile=m.from),this.mapFile&&(this.root=t(this.mapFile)),y&&(this.text=y)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(h){let m=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,y=/^data:application\/json;charset=utf-?8,/,_=/^data:application\/json,/,x=h.match(y)||h.match(_);if(x)return decodeURIComponent(h.substr(x[0].length));let S=h.match(m)||h.match(g);if(S)return l(h.substr(S[0].length));let b=h.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+b)}getAnnotationURL(h){return h.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(h){return typeof h!="object"?!1:typeof h.mappings=="string"||typeof h._mappings=="string"||Array.isArray(h.sections)}loadAnnotation(h){let m=h.match(/\/\*\s*# sourceMappingURL=/g);if(!m)return;let g=h.lastIndexOf(m.pop()),y=h.indexOf("*/",g);g>-1&&y>-1&&(this.annotation=this.getAnnotationURL(h.substring(g,y)))}loadFile(h){if(this.root=t(h),r(h))return this.mapFile=h,e(h,"utf-8").toString().trim()}loadMap(h,m){if(m===!1)return!1;if(m){if(typeof m=="string")return m;if(typeof m=="function"){let g=m(h);if(g){let y=this.loadFile(g);if(!y)throw new Error("Unable to load previous source map: "+g.toString());return y}}else{if(m instanceof i)return o.fromSourceMap(m).toString();if(m instanceof o)return m.toString();if(this.isMap(m))return JSON.stringify(m);throw new Error("Unsupported previous source map format: "+m.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return h&&(g=n(t(h),g)),this.loadFile(g)}}}startWith(h,m){return h?h.substr(0,m.length)===m:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Tm=c,c.default=c,Tm}var xm,j0;function dh(){if(j0)return xm;j0=1;let{nanoid:r}=S2(),{isAbsolute:e,resolve:t}=Dr,{SourceMapConsumer:n,SourceMapGenerator:i}=Dr,{fileURLToPath:o,pathToFileURL:l}=Dr,c=Dy(),d=Nx(),h=Dr,m=Symbol("fromOffsetCache"),g=!!(n&&i),y=!!(t&&e);class _{constructor(S,b={}){if(S===null||typeof S>"u"||typeof S=="object"&&!S.toString)throw new Error(`PostCSS received ${S} instead of CSS string`);if(this.css=S.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,b.document&&(this.document=b.document.toString()),b.from&&(!y||/^\w+:\/\//.test(b.from)||e(b.from)?this.file=b.from:this.file=t(b.from)),y&&g){let N=new d(this.css,b);if(N.text){this.map=N;let P=N.consumer().file;!this.file&&P&&(this.file=this.mapResolve(P))}}this.file||(this.id="<input css "+r(6)+">"),this.map&&(this.map.file=this.from)}error(S,b,N,P={}){let R,O,U;if(b&&typeof b=="object"){let D=b,C=N;if(typeof D.offset=="number"){let A=this.fromOffset(D.offset);b=A.line,N=A.col}else b=D.line,N=D.column;if(typeof C.offset=="number"){let A=this.fromOffset(C.offset);O=A.line,R=A.col}else O=C.line,R=C.column}else if(!N){let D=this.fromOffset(b);b=D.line,N=D.col}let H=this.origin(b,N,O,R);return H?U=new c(S,H.endLine===void 0?H.line:{column:H.column,line:H.line},H.endLine===void 0?H.column:{column:H.endColumn,line:H.endLine},H.source,H.file,P.plugin):U=new c(S,O===void 0?b:{column:N,line:b},O===void 0?N:{column:R,line:O},this.css,this.file,P.plugin),U.input={column:N,endColumn:R,endLine:O,line:b,source:this.css},this.file&&(l&&(U.input.url=l(this.file).toString()),U.input.file=this.file),U}fromOffset(S){let b,N;if(this[m])N=this[m];else{let R=this.css.split(`
`);N=new Array(R.length);let O=0;for(let U=0,H=R.length;U<H;U++)N[U]=O,O+=R[U].length+1;this[m]=N}b=N[N.length-1];let P=0;if(S>=b)P=N.length-1;else{let R=N.length-2,O;for(;P<R;)if(O=P+(R-P>>1),S<N[O])R=O-1;else if(S>=N[O+1])P=O+1;else{P=O;break}}return{col:S-N[P]+1,line:P+1}}mapResolve(S){return/^\w+:\/\//.test(S)?S:t(this.map.consumer().sourceRoot||this.map.root||".",S)}origin(S,b,N,P){if(!this.map)return!1;let R=this.map.consumer(),O=R.originalPositionFor({column:b,line:S});if(!O.source)return!1;let U;typeof N=="number"&&(U=R.originalPositionFor({column:P,line:N}));let H;e(O.source)?H=l(O.source):H=new URL(O.source,this.map.consumer().sourceRoot||l(this.map.mapFile));let D={column:O.column,endColumn:U&&U.column,endLine:U&&U.line,line:O.line,url:H.toString()};if(H.protocol==="file:")if(o)D.file=o(H);else throw new Error("file: protocol is not available in this PostCSS build");let C=R.sourceContentFor(O.source);return C&&(D.source=C),D}toJSON(){let S={};for(let b of["hasBOM","css","file","id"])this[b]!=null&&(S[b]=this[b]);return this.map&&(S.map={...this.map},S.map.consumerCache&&(S.map.consumerCache=void 0)),S}get from(){return this.file||this.id}}return xm=_,_.default=_,h&&h.registerInput&&h.registerInput(_),xm}var Sm,W0;function Zu(){if(W0)return Sm;W0=1;let r=Bo(),e,t;class n extends r{constructor(o){super(o),this.type="root",this.nodes||(this.nodes=[])}normalize(o,l,c){let d=super.normalize(o);if(l){if(c==="prepend")this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l)for(let h of d)h.raws.before=l.raws.before}return d}removeChild(o,l){let c=this.index(o);return!l&&c===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[c].raws.before),super.removeChild(o)}toResult(o={}){return new e(new t,this,o).stringify()}}return n.registerLazyResult=i=>{e=i},n.registerProcessor=i=>{t=i},Sm=n,n.default=n,r.registerRoot(n),Sm}var km,H0;function Rx(){if(H0)return km;H0=1;let r={comma(e){return r.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return r.split(e,t)},split(e,t,n){let i=[],o="",l=!1,c=0,d=!1,h="",m=!1;for(let g of e)m?m=!1:g==="\\"?m=!0:d?g===h&&(d=!1):g==='"'||g==="'"?(d=!0,h=g):g==="("?c+=1:g===")"?c>0&&(c-=1):c===0&&t.includes(g)&&(l=!0),l?(o!==""&&i.push(o.trim()),o="",l=!1):o+=g;return(n||o!=="")&&i.push(o.trim()),i}};return km=r,r.default=r,km}var Cm,$0;function Ay(){if($0)return Cm;$0=1;let r=Bo(),e=Rx();class t extends r{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return e.comma(this.selector)}set selectors(i){let o=this.selector?this.selector.match(/,\s*/):null,l=o?o[0]:","+this.raw("between","beforeOpen");this.selector=i.join(l)}}return Cm=t,t.default=t,r.registerRule(t),Cm}var Im,Y0;function k2(){if(Y0)return Im;Y0=1;let r=Ny(),e=uh(),t=ch(),n=dh(),i=Nx(),o=Zu(),l=Ay();function c(d,h){if(Array.isArray(d))return d.map(y=>c(y));let{inputs:m,...g}=d;if(m){h=[];for(let y of m){let _={...y,__proto__:n.prototype};_.map&&(_.map={..._.map,__proto__:i.prototype}),h.push(_)}}if(g.nodes&&(g.nodes=d.nodes.map(y=>c(y,h))),g.source){let{inputId:y,..._}=g.source;g.source=_,y!=null&&(g.source.input=h[y])}if(g.type==="root")return new o(g);if(g.type==="decl")return new t(g);if(g.type==="rule")return new l(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new r(g);throw new Error("Unknown node type: "+d.type)}return Im=c,c.default=c,Im}var Dm,q0;function Ax(){if(q0)return Dm;q0=1;let{dirname:r,relative:e,resolve:t,sep:n}=Dr,{SourceMapConsumer:i,SourceMapGenerator:o}=Dr,{pathToFileURL:l}=Dr,c=dh(),d=!!(i&&o),h=!!(r&&t&&e&&n);class m{constructor(y,_,x,S){this.stringify=y,this.mapOpts=x.map||{},this.root=_,this.opts=x,this.css=S,this.originalCSS=S,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let y;this.isInline()?y="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?y=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?y=this.mapOpts.annotation(this.opts.to,this.root):y=this.outputFile()+".map";let _=`
`;this.css.includes(`\r
`)&&(_=`\r
`),this.css+=_+"/*# sourceMappingURL="+y+" */"}applyPrevMaps(){for(let y of this.previous()){let _=this.toUrl(this.path(y.file)),x=y.root||r(y.file),S;this.mapOpts.sourcesContent===!1?(S=new i(y.text),S.sourcesContent&&(S.sourcesContent=null)):S=y.consumer(),this.map.applySourceMap(S,_,this.toUrl(this.path(x)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let y;for(let _=this.root.nodes.length-1;_>=0;_--)y=this.root.nodes[_],y.type==="comment"&&y.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(_)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),h&&d&&this.isMap())return this.generateMap();{let y="";return this.stringify(this.root,_=>{y+=_}),[y]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let y=this.previous()[0].consumer();y.file=this.outputFile(),this.map=o.fromSourceMap(y,{ignoreInvalidMapping:!0})}else this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new o({file:this.outputFile(),ignoreInvalidMapping:!0});let y=1,_=1,x="<no source>",S={generated:{column:0,line:0},original:{column:0,line:0},source:""},b,N;this.stringify(this.root,(P,R,O)=>{if(this.css+=P,R&&O!=="end"&&(S.generated.line=y,S.generated.column=_-1,R.source&&R.source.start?(S.source=this.sourcePath(R),S.original.line=R.source.start.line,S.original.column=R.source.start.column-1,this.map.addMapping(S)):(S.source=x,S.original.line=1,S.original.column=0,this.map.addMapping(S))),N=P.match(/\n/g),N?(y+=N.length,b=P.lastIndexOf(`
`),_=P.length-b):_+=P.length,R&&O!=="start"){let U=R.parent||{raws:{}};(!(R.type==="decl"||R.type==="atrule"&&!R.nodes)||R!==U.last||U.raws.semicolon)&&(R.source&&R.source.end?(S.source=this.sourcePath(R),S.original.line=R.source.end.line,S.original.column=R.source.end.column-1,S.generated.line=y,S.generated.column=_-2,this.map.addMapping(S)):(S.source=x,S.original.line=1,S.original.column=0,S.generated.line=y,S.generated.column=_-1,this.map.addMapping(S)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(y=>y.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let y=this.mapOpts.annotation;return typeof y<"u"&&y!==!0?!1:this.previous().length?this.previous().some(_=>_.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(y=>y.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(y){if(this.mapOpts.absolute||y.charCodeAt(0)===60||/^\w+:\/\//.test(y))return y;let _=this.memoizedPaths.get(y);if(_)return _;let x=this.opts.to?r(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(x=r(t(x,this.mapOpts.annotation)));let S=e(x,y);return this.memoizedPaths.set(y,S),S}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(y=>{if(y.source&&y.source.input.map){let _=y.source.input.map;this.previousMaps.includes(_)||this.previousMaps.push(_)}});else{let y=new c(this.originalCSS,this.opts);y.map&&this.previousMaps.push(y.map)}return this.previousMaps}setSourcesContent(){let y={};if(this.root)this.root.walk(_=>{if(_.source){let x=_.source.input.from;if(x&&!y[x]){y[x]=!0;let S=this.usesFileUrls?this.toFileUrl(x):this.toUrl(this.path(x));this.map.setSourceContent(S,_.source.input.css)}}});else if(this.css){let _=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(_,this.css)}}sourcePath(y){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(y.source.input.from):this.toUrl(this.path(y.source.input.from))}toBase64(y){return Buffer?Buffer.from(y).toString("base64"):window.btoa(unescape(encodeURIComponent(y)))}toFileUrl(y){let _=this.memoizedFileURLs.get(y);if(_)return _;if(l){let x=l(y).toString();return this.memoizedFileURLs.set(y,x),x}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(y){let _=this.memoizedURLs.get(y);if(_)return _;n==="\\"&&(y=y.replace(/\\/g,"/"));let x=encodeURI(y).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(y,x),x}}return Dm=m,Dm}var Pm,K0;function C2(){if(K0)return Pm;K0=1;const r=39,e=34,t=92,n=47,i=10,o=32,l=12,c=9,d=13,h=91,m=93,g=40,y=41,_=123,x=125,S=59,b=42,N=58,P=64,R=/[\t\n\f\r "#'()/;[\\\]{}]/g,O=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,U=/.[\r\n"'(/\\]/,H=/[\da-f]/i;return Pm=function(C,A={}){let V=C.css.valueOf(),z=A.ignoreErrors,j,M,ae,te,pe,le,Z,fe,ie,Y,ne=V.length,oe=0,Le=[],Ae=[];function Fe(){return oe}function ze(Qt){throw C.error("Unclosed "+Qt,oe)}function He(){return Ae.length===0&&oe>=ne}function Ze(Qt){if(Ae.length)return Ae.pop();if(oe>=ne)return;let Xn=Qt?Qt.ignoreUnclosed:!1;switch(j=V.charCodeAt(oe),j){case i:case o:case c:case d:case l:{te=oe;do te+=1,j=V.charCodeAt(te);while(j===o||j===i||j===c||j===d||j===l);le=["space",V.slice(oe,te)],oe=te-1;break}case h:case m:case _:case x:case N:case S:case y:{let ye=String.fromCharCode(j);le=[ye,ye,oe];break}case g:{if(Y=Le.length?Le.pop()[1]:"",ie=V.charCodeAt(oe+1),Y==="url"&&ie!==r&&ie!==e&&ie!==o&&ie!==i&&ie!==c&&ie!==l&&ie!==d){te=oe;do{if(Z=!1,te=V.indexOf(")",te+1),te===-1)if(z||Xn){te=oe;break}else ze("bracket");for(fe=te;V.charCodeAt(fe-1)===t;)fe-=1,Z=!Z}while(Z);le=["brackets",V.slice(oe,te+1),oe,te],oe=te}else te=V.indexOf(")",oe+1),M=V.slice(oe,te+1),te===-1||U.test(M)?le=["(","(",oe]:(le=["brackets",M,oe,te],oe=te);break}case r:case e:{pe=j===r?"'":'"',te=oe;do{if(Z=!1,te=V.indexOf(pe,te+1),te===-1)if(z||Xn){te=oe+1;break}else ze("string");for(fe=te;V.charCodeAt(fe-1)===t;)fe-=1,Z=!Z}while(Z);le=["string",V.slice(oe,te+1),oe,te],oe=te;break}case P:{R.lastIndex=oe+1,R.test(V),R.lastIndex===0?te=V.length-1:te=R.lastIndex-2,le=["at-word",V.slice(oe,te+1),oe,te],oe=te;break}case t:{for(te=oe,ae=!0;V.charCodeAt(te+1)===t;)te+=1,ae=!ae;if(j=V.charCodeAt(te+1),ae&&j!==n&&j!==o&&j!==i&&j!==c&&j!==d&&j!==l&&(te+=1,H.test(V.charAt(te)))){for(;H.test(V.charAt(te+1));)te+=1;V.charCodeAt(te+1)===o&&(te+=1)}le=["word",V.slice(oe,te+1),oe,te],oe=te;break}default:{j===n&&V.charCodeAt(oe+1)===b?(te=V.indexOf("*/",oe+2)+1,te===0&&(z||Xn?te=V.length:ze("comment")),le=["comment",V.slice(oe,te+1),oe,te],oe=te):(O.lastIndex=oe+1,O.test(V),O.lastIndex===0?te=V.length-1:te=O.lastIndex-2,le=["word",V.slice(oe,te+1),oe,te],Le.push(le),oe=te);break}}return oe++,le}function bt(Qt){Ae.push(Qt)}return{back:bt,endOfFile:He,nextToken:Ze,position:Fe}},Pm}var Nm,Q0;function I2(){if(Q0)return Nm;Q0=1;let r=Ny(),e=uh(),t=ch(),n=Zu(),i=Ay(),o=C2();const l={empty:!0,space:!0};function c(h){for(let m=h.length-1;m>=0;m--){let g=h[m],y=g[3]||g[2];if(y)return y}}class d{constructor(m){this.input=m,this.root=new n,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:m,start:{column:1,line:1,offset:0}}}atrule(m){let g=new r;g.name=m[1].slice(1),g.name===""&&this.unnamedAtrule(g,m),this.init(g,m[2]);let y,_,x,S=!1,b=!1,N=[],P=[];for(;!this.tokenizer.endOfFile();){if(m=this.tokenizer.nextToken(),y=m[0],y==="("||y==="["?P.push(y==="("?")":"]"):y==="{"&&P.length>0?P.push("}"):y===P[P.length-1]&&P.pop(),P.length===0)if(y===";"){g.source.end=this.getPosition(m[2]),g.source.end.offset++,this.semicolon=!0;break}else if(y==="{"){b=!0;break}else if(y==="}"){if(N.length>0){for(x=N.length-1,_=N[x];_&&_[0]==="space";)_=N[--x];_&&(g.source.end=this.getPosition(_[3]||_[2]),g.source.end.offset++)}this.end(m);break}else N.push(m);else N.push(m);if(this.tokenizer.endOfFile()){S=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(N),N.length?(g.raws.afterName=this.spacesAndCommentsFromStart(N),this.raw(g,"params",N),S&&(m=N[N.length-1],g.source.end=this.getPosition(m[3]||m[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),b&&(g.nodes=[],this.current=g)}checkMissedSemicolon(m){let g=this.colon(m);if(g===!1)return;let y=0,_;for(let x=g-1;x>=0&&(_=m[x],!(_[0]!=="space"&&(y+=1,y===2)));x--);throw this.input.error("Missed semicolon",_[0]==="word"?_[3]+1:_[2])}colon(m){let g=0,y,_,x;for(let[S,b]of m.entries()){if(_=b,x=_[0],x==="("&&(g+=1),x===")"&&(g-=1),g===0&&x===":")if(!y)this.doubleColon(_);else{if(y[0]==="word"&&y[1]==="progid")continue;return S}y=_}return!1}comment(m){let g=new e;this.init(g,m[2]),g.source.end=this.getPosition(m[3]||m[2]),g.source.end.offset++;let y=m[1].slice(2,-2);if(/^\s*$/.test(y))g.text="",g.raws.left=y,g.raws.right="";else{let _=y.match(/^(\s*)([^]*\S)(\s*)$/);g.text=_[2],g.raws.left=_[1],g.raws.right=_[3]}}createTokenizer(){this.tokenizer=o(this.input)}decl(m,g){let y=new t;this.init(y,m[0][2]);let _=m[m.length-1];for(_[0]===";"&&(this.semicolon=!0,m.pop()),y.source.end=this.getPosition(_[3]||_[2]||c(m)),y.source.end.offset++;m[0][0]!=="word";)m.length===1&&this.unknownWord(m),y.raws.before+=m.shift()[1];for(y.source.start=this.getPosition(m[0][2]),y.prop="";m.length;){let P=m[0][0];if(P===":"||P==="space"||P==="comment")break;y.prop+=m.shift()[1]}y.raws.between="";let x;for(;m.length;)if(x=m.shift(),x[0]===":"){y.raws.between+=x[1];break}else x[0]==="word"&&/\w/.test(x[1])&&this.unknownWord([x]),y.raws.between+=x[1];(y.prop[0]==="_"||y.prop[0]==="*")&&(y.raws.before+=y.prop[0],y.prop=y.prop.slice(1));let S=[],b;for(;m.length&&(b=m[0][0],!(b!=="space"&&b!=="comment"));)S.push(m.shift());this.precheckMissedSemicolon(m);for(let P=m.length-1;P>=0;P--){if(x=m[P],x[1].toLowerCase()==="!important"){y.important=!0;let R=this.stringFrom(m,P);R=this.spacesFromEnd(m)+R,R!==" !important"&&(y.raws.important=R);break}else if(x[1].toLowerCase()==="important"){let R=m.slice(0),O="";for(let U=P;U>0;U--){let H=R[U][0];if(O.trim().startsWith("!")&&H!=="space")break;O=R.pop()[1]+O}O.trim().startsWith("!")&&(y.important=!0,y.raws.important=O,m=R)}if(x[0]!=="space"&&x[0]!=="comment")break}m.some(P=>P[0]!=="space"&&P[0]!=="comment")&&(y.raws.between+=S.map(P=>P[1]).join(""),S=[]),this.raw(y,"value",S.concat(m),g),y.value.includes(":")&&!g&&this.checkMissedSemicolon(m)}doubleColon(m){throw this.input.error("Double colon",{offset:m[2]},{offset:m[2]+m[1].length})}emptyRule(m){let g=new i;this.init(g,m[2]),g.selector="",g.raws.between="",this.current=g}end(m){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(m[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(m)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(m){if(this.spaces+=m[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(m){let g=this.input.fromOffset(m);return{column:g.col,line:g.line,offset:m}}init(m,g){this.current.push(m),m.source={input:this.input,start:this.getPosition(g)},m.raws.before=this.spaces,this.spaces="",m.type!=="comment"&&(this.semicolon=!1)}other(m){let g=!1,y=null,_=!1,x=null,S=[],b=m[1].startsWith("--"),N=[],P=m;for(;P;){if(y=P[0],N.push(P),y==="("||y==="[")x||(x=P),S.push(y==="("?")":"]");else if(b&&_&&y==="{")x||(x=P),S.push("}");else if(S.length===0)if(y===";")if(_){this.decl(N,b);return}else break;else if(y==="{"){this.rule(N);return}else if(y==="}"){this.tokenizer.back(N.pop()),g=!0;break}else y===":"&&(_=!0);else y===S[S.length-1]&&(S.pop(),S.length===0&&(x=null));P=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),S.length>0&&this.unclosedBracket(x),g&&_){if(!b)for(;N.length&&(P=N[N.length-1][0],!(P!=="space"&&P!=="comment"));)this.tokenizer.back(N.pop());this.decl(N,b)}else this.unknownWord(N)}parse(){let m;for(;!this.tokenizer.endOfFile();)switch(m=this.tokenizer.nextToken(),m[0]){case"space":this.spaces+=m[1];break;case";":this.freeSemicolon(m);break;case"}":this.end(m);break;case"comment":this.comment(m);break;case"at-word":this.atrule(m);break;case"{":this.emptyRule(m);break;default:this.other(m);break}this.endFile()}precheckMissedSemicolon(){}raw(m,g,y,_){let x,S,b=y.length,N="",P=!0,R,O;for(let U=0;U<b;U+=1)x=y[U],S=x[0],S==="space"&&U===b-1&&!_?P=!1:S==="comment"?(O=y[U-1]?y[U-1][0]:"empty",R=y[U+1]?y[U+1][0]:"empty",!l[O]&&!l[R]?N.slice(-1)===","?P=!1:N+=x[1]:P=!1):N+=x[1];if(!P){let U=y.reduce((H,D)=>H+D[1],"");m.raws[g]={raw:U,value:N}}m[g]=N}rule(m){m.pop();let g=new i;this.init(g,m[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(m),this.raw(g,"selector",m),this.current=g}spacesAndCommentsFromEnd(m){let g,y="";for(;m.length&&(g=m[m.length-1][0],!(g!=="space"&&g!=="comment"));)y=m.pop()[1]+y;return y}spacesAndCommentsFromStart(m){let g,y="";for(;m.length&&(g=m[0][0],!(g!=="space"&&g!=="comment"));)y+=m.shift()[1];return y}spacesFromEnd(m){let g,y="";for(;m.length&&(g=m[m.length-1][0],g==="space");)y=m.pop()[1]+y;return y}stringFrom(m,g){let y="";for(let _=g;_<m.length;_++)y+=m[_][1];return m.splice(g,m.length-g),y}unclosedBlock(){let m=this.current.source.start;throw this.input.error("Unclosed block",m.line,m.column)}unclosedBracket(m){throw this.input.error("Unclosed bracket",{offset:m[2]},{offset:m[2]+1})}unexpectedClose(m){throw this.input.error("Unexpected }",{offset:m[2]},{offset:m[2]+1})}unknownWord(m){throw this.input.error("Unknown word",{offset:m[0][2]},{offset:m[0][2]+m[0][1].length})}unnamedAtrule(m,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return Nm=d,Nm}var Rm,G0;function Oy(){if(G0)return Rm;G0=1;let r=Bo(),e=dh(),t=I2();function n(i,o){let l=new e(i,o),c=new t(l);try{c.parse()}catch(d){throw d}return c.root}return Rm=n,n.default=n,r.registerParse(n),Rm}var Am,X0;function Ox(){if(X0)return Am;X0=1;class r{constructor(t,n={}){if(this.type="warning",this.text=t,n.node&&n.node.source){let i=n.node.rangeBy(n);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in n)this[i]=n[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Am=r,r.default=r,Am}var Om,J0;function My(){if(J0)return Om;J0=1;let r=Ox();class e{constructor(n,i,o){this.processor=n,this.messages=[],this.root=i,this.opts=o,this.css=void 0,this.map=void 0}toString(){return this.css}warn(n,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let o=new r(n,i);return this.messages.push(o),o}warnings(){return this.messages.filter(n=>n.type==="warning")}get content(){return this.css}}return Om=e,e.default=e,Om}var Mm,Z0;function Mx(){if(Z0)return Mm;Z0=1;let r=Bo(),e=Ry(),t=Ax(),n=Oy(),i=My(),o=Zu(),l=ah(),{isClean:c,my:d}=Py();const h={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},m={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},y=0;function _(R){return typeof R=="object"&&typeof R.then=="function"}function x(R){let O=!1,U=h[R.type];return R.type==="decl"?O=R.prop.toLowerCase():R.type==="atrule"&&(O=R.name.toLowerCase()),O&&R.append?[U,U+"-"+O,y,U+"Exit",U+"Exit-"+O]:O?[U,U+"-"+O,U+"Exit",U+"Exit-"+O]:R.append?[U,y,U+"Exit"]:[U,U+"Exit"]}function S(R){let O;return R.type==="document"?O=["Document",y,"DocumentExit"]:R.type==="root"?O=["Root",y,"RootExit"]:O=x(R),{eventIndex:0,events:O,iterator:0,node:R,visitorIndex:0,visitors:[]}}function b(R){return R[c]=!1,R.nodes&&R.nodes.forEach(O=>b(O)),R}let N={};class P{constructor(O,U,H){this.stringified=!1,this.processed=!1;let D;if(typeof U=="object"&&U!==null&&(U.type==="root"||U.type==="document"))D=b(U);else if(U instanceof P||U instanceof i)D=b(U.root),U.map&&(typeof H.map>"u"&&(H.map={}),H.map.inline||(H.map.inline=!1),H.map.prev=U.map);else{let C=n;H.syntax&&(C=H.syntax.parse),H.parser&&(C=H.parser),C.parse&&(C=C.parse);try{D=C(U,H)}catch(A){this.processed=!0,this.error=A}D&&!D[d]&&r.rebuild(D)}this.result=new i(O,D,H),this.helpers={...N,postcss:N,result:this.result},this.plugins=this.processor.plugins.map(C=>typeof C=="object"&&C.prepare?{...C,...C.prepare(this.result)}:C)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(O){return this.async().catch(O)}finally(O){return this.async().then(O,O)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(O,U){let H=this.result.lastPlugin;try{U&&U.addToError(O),this.error=O,O.name==="CssSyntaxError"&&!O.plugin?(O.plugin=H.postcssPlugin,O.setMessage()):H.postcssVersion}catch(D){console&&console.error&&console.error(D)}return O}prepareVisitors(){this.listeners={};let O=(U,H,D)=>{this.listeners[H]||(this.listeners[H]=[]),this.listeners[H].push([U,D])};for(let U of this.plugins)if(typeof U=="object")for(let H in U){if(!m[H]&&/^[A-Z]/.test(H))throw new Error(`Unknown event ${H} in ${U.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[H])if(typeof U[H]=="object")for(let D in U[H])D==="*"?O(U,H,U[H][D]):O(U,H+"-"+D.toLowerCase(),U[H][D]);else typeof U[H]=="function"&&O(U,H,U[H])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let O=0;O<this.plugins.length;O++){let U=this.plugins[O],H=this.runOnRoot(U);if(_(H))try{await H}catch(D){throw this.handleError(D)}}if(this.prepareVisitors(),this.hasListener){let O=this.result.root;for(;!O[c];){O[c]=!0;let U=[S(O)];for(;U.length>0;){let H=this.visitTick(U);if(_(H))try{await H}catch(D){let C=U[U.length-1].node;throw this.handleError(D,C)}}}if(this.listeners.OnceExit)for(let[U,H]of this.listeners.OnceExit){this.result.lastPlugin=U;try{if(O.type==="document"){let D=O.nodes.map(C=>H(C,this.helpers));await Promise.all(D)}else await H(O,this.helpers)}catch(D){throw this.handleError(D)}}}return this.processed=!0,this.stringify()}runOnRoot(O){this.result.lastPlugin=O;try{if(typeof O=="object"&&O.Once){if(this.result.root.type==="document"){let U=this.result.root.nodes.map(H=>O.Once(H,this.helpers));return _(U[0])?Promise.all(U):U}return O.Once(this.result.root,this.helpers)}else if(typeof O=="function")return O(this.result.root,this.result)}catch(U){throw this.handleError(U)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let O=this.result.opts,U=l;O.syntax&&(U=O.syntax.stringify),O.stringifier&&(U=O.stringifier),U.stringify&&(U=U.stringify);let D=new t(U,this.result.root,this.result.opts).generate();return this.result.css=D[0],this.result.map=D[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let O of this.plugins){let U=this.runOnRoot(O);if(_(U))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let O=this.result.root;for(;!O[c];)O[c]=!0,this.walkSync(O);if(this.listeners.OnceExit)if(O.type==="document")for(let U of O.nodes)this.visitSync(this.listeners.OnceExit,U);else this.visitSync(this.listeners.OnceExit,O)}return this.result}then(O,U){return this.async().then(O,U)}toString(){return this.css}visitSync(O,U){for(let[H,D]of O){this.result.lastPlugin=H;let C;try{C=D(U,this.helpers)}catch(A){throw this.handleError(A,U.proxyOf)}if(U.type!=="root"&&U.type!=="document"&&!U.parent)return!0;if(_(C))throw this.getAsyncError()}}visitTick(O){let U=O[O.length-1],{node:H,visitors:D}=U;if(H.type!=="root"&&H.type!=="document"&&!H.parent){O.pop();return}if(D.length>0&&U.visitorIndex<D.length){let[A,V]=D[U.visitorIndex];U.visitorIndex+=1,U.visitorIndex===D.length&&(U.visitors=[],U.visitorIndex=0),this.result.lastPlugin=A;try{return V(H.toProxy(),this.helpers)}catch(z){throw this.handleError(z,H)}}if(U.iterator!==0){let A=U.iterator,V;for(;V=H.nodes[H.indexes[A]];)if(H.indexes[A]+=1,!V[c]){V[c]=!0,O.push(S(V));return}U.iterator=0,delete H.indexes[A]}let C=U.events;for(;U.eventIndex<C.length;){let A=C[U.eventIndex];if(U.eventIndex+=1,A===y){H.nodes&&H.nodes.length&&(H[c]=!0,U.iterator=H.getIterator());return}else if(this.listeners[A]){U.visitors=this.listeners[A];return}}O.pop()}walkSync(O){O[c]=!0;let U=x(O);for(let H of U)if(H===y)O.nodes&&O.each(D=>{D[c]||this.walkSync(D)});else{let D=this.listeners[H];if(D&&this.visitSync(D,O.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return P.registerPostcss=R=>{N=R},Mm=P,P.default=P,o.registerLazyResult(P),e.registerLazyResult(P),Mm}var Lm,eE;function D2(){if(eE)return Lm;eE=1;let r=Ax(),e=Oy();const t=My();let n=ah();class i{constructor(l,c,d){c=c.toString(),this.stringified=!1,this._processor=l,this._css=c,this._opts=d,this._map=void 0;let h,m=n;this.result=new t(this._processor,h,this._opts),this.result.css=c;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let y=new r(m,h,this._opts,c);if(y.isMap()){let[_,x]=y.generate();_&&(this.result.css=_),x&&(this.result.map=x)}else y.clearAnnotation(),this.result.css=y.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(l){return this.async().catch(l)}finally(l){return this.async().then(l,l)}sync(){if(this.error)throw this.error;return this.result}then(l,c){return this.async().then(l,c)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let l,c=e;try{l=c(this._css,this._opts)}catch(d){this.error=d}if(this.error)throw this.error;return this._root=l,l}get[Symbol.toStringTag](){return"NoWorkResult"}}return Lm=i,i.default=i,Lm}var Vm,tE;function P2(){if(tE)return Vm;tE=1;let r=Ry(),e=Mx(),t=D2(),n=Zu();class i{constructor(l=[]){this.version="8.5.1",this.plugins=this.normalize(l)}normalize(l){let c=[];for(let d of l)if(d.postcss===!0?d=d():d.postcss&&(d=d.postcss),typeof d=="object"&&Array.isArray(d.plugins))c=c.concat(d.plugins);else if(typeof d=="object"&&d.postcssPlugin)c.push(d);else if(typeof d=="function")c.push(d);else if(!(typeof d=="object"&&(d.parse||d.stringify)))throw new Error(d+" is not a PostCSS plugin");return c}process(l,c={}){return!this.plugins.length&&!c.parser&&!c.stringifier&&!c.syntax?new t(this,l,c):new e(this,l,c)}use(l){return this.plugins=this.plugins.concat(this.normalize([l])),this}}return Vm=i,i.default=i,n.registerProcessor(i),r.registerProcessor(i),Vm}var Fm,nE;function N2(){if(nE)return Fm;nE=1;var r={};let e=Ny(),t=uh(),n=Bo(),i=Dy(),o=ch(),l=Ry(),c=k2(),d=dh(),h=Mx(),m=Rx(),g=lh(),y=Oy(),_=P2(),x=My(),S=Zu(),b=Ay(),N=ah(),P=Ox();function R(...O){return O.length===1&&Array.isArray(O[0])&&(O=O[0]),new _(O)}return R.plugin=function(U,H){let D=!1;function C(...V){console&&console.warn&&!D&&(D=!0,console.warn(U+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),r.LANG&&r.LANG.startsWith("cn")&&console.warn(U+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let z=H(...V);return z.postcssPlugin=U,z.postcssVersion=new _().version,z}let A;return Object.defineProperty(C,"postcss",{get(){return A||(A=C()),A}}),C.process=function(V,z,j){return R([C(j)]).process(V,z)},C},R.stringify=N,R.parse=y,R.fromJSON=c,R.list=m,R.comment=O=>new t(O),R.atRule=O=>new e(O),R.decl=O=>new o(O),R.rule=O=>new b(O),R.root=O=>new S(O),R.document=O=>new l(O),R.CssSyntaxError=i,R.Declaration=o,R.Container=n,R.Processor=_,R.Document=l,R.Comment=t,R.Warning=P,R.AtRule=e,R.Result=x,R.Input=d,R.Rule=b,R.Root=S,R.Node=g,h.registerPostcss(R),Fm=R,R.default=R,Fm}var R2=N2();const Et=Ag(R2);Et.stringify;Et.fromJSON;Et.plugin;Et.parse;Et.list;Et.document;Et.comment;Et.atRule;Et.rule;Et.decl;Et.root;Et.CssSyntaxError;Et.Declaration;Et.Container;Et.Processor;Et.Document;Et.Comment;Et.Warning;Et.AtRule;Et.Result;Et.Input;Et.Rule;Et.Root;Et.Node;const A2=()=>{var V,z,j;const r=JSON.parse(localStorage.getItem("doctor")),[e,t]=L.useState(""),[n,i]=L.useState(null),[o,l]=L.useState([]),[c,d]=L.useState(""),{patientPersonalInfo:h,setPatientPersonalInfo:m}=fr(),{patientMedicalInfo:g,setPatientMedicalInfo:y}=fr(),[_,x]=L.useState(()=>{const M=localStorage.getItem("appoinment");return M?JSON.parse(M):[]}),[S,b]=L.useState(()=>{const M=localStorage.getItem("AppoinmentMessage");return M?JSON.parse(M):[]});L.useState(()=>{const M=localStorage.getItem("doctorMessage");return M?JSON.parse(M):[]}),L.useEffect(()=>{const M=sl(Bt,ae=>{ae?N(ae.uid):(console.log("No user is signed in"),m(null))});return()=>M()},[]);const N=async M=>{try{const ae=await Ut(pt(wt,"patients",M));if(ae.exists()){const te=ae.data();m(te.personalInfo),y(te.medicalInfo)}else console.log("User not found")}catch(ae){console.error("Error fetching user info:",ae)}},P=async()=>{var te,pe;const M=r[0].id,ae=Bt.currentUser;if(console.log(M),M)try{const le=pt(wt,"doctors",M),Z=await Ut(le);if(Z.exists()){const fe=Z.data().appoinment||[],ie={date:new Date().toLocaleDateString(),day:e.toString()||"N/A",time:n||"N/A",reason:c||"Reason",doctorId:M,patientId:ae.uid,doctorName:((te=r[0])==null?void 0:te.doctorSignUpinfo.name)||"N/A",name:(h==null?void 0:h.name)||"N/A",age:(h==null?void 0:h.age)||"N/A",gender:(h==null?void 0:h.gender)||"N/A",address:(h==null?void 0:h.address)||"N/A",phone:(h==null?void 0:h.phone)||"N/A",allergies:(g==null?void 0:g.allergies)||"N/A",chronic:(g==null?void 0:g.chronicConditions)||"N/A",medication:(g==null?void 0:g.medications)||"N/A",otherInfo:(g==null?void 0:g.otherInfo)||"N/A",message:`hey you have a new appoinment by patient ${(h==null?void 0:h.name)||"N/A"} ${new Date().toLocaleDateString()}`};await Ga(le,{appoinment:[...fe,ie]}),x(Y=>{const ne=[...Y,ie];return localStorage.setItem("appoinment",JSON.stringify(ne)),ne}),b(Y=>{const ne=[...Y,`Appointment scheduled with ${r[0].doctorSignUpinfo.name} by patient ${(h==null?void 0:h.name)||"N/A"} ${new Date().toLocaleDateString()}`];return localStorage.setItem("AppoinmentMessage",JSON.stringify(ne)),ne}),alert("Medical Info submitted successfully")}else console.error("Doctor document does not exist.")}catch(le){console.error("Error updating appointments:",le)}else console.log("no data");if(ae)try{const le=pt(wt,"patients",ae.uid),Z=await Ut(le);if(Z.exists()){const fe=Z.data().appoinment||[],ie={date:new Date().toLocaleDateString(),day:e.toString()||"N/A",time:n||"N/A",reason:c||"Reason",doctorId:M,patientId:ae.uid,name:((pe=r[0])==null?void 0:pe.doctorSignUpinfo.name)||"N/A",city:r[0].doctorSignUpinfo.city,mobile:r[0].doctorSignUpinfo.phone,state:r[0].doctorSignUpinfo.state,clinicAddress:r[0].doctorSignUpinfo.address,consultationFee:r[0].doctorSignUpinfo.fee,experience:r[0].doctorSignUpinfo.experience,qualifications:r[0].doctorSignUpinfo.qualifications,specialization:r[0].doctorSignUpinfo.specialization};await Ga(le,{appoinment:[...fe,ie]}),console.log(_),alert("Medical Info submitted successfully")}else console.error("Doctor document does not exist.")}catch(le){console.error("Error updating appointments:",le)}else console.log("no data")},[R,O]=L.useState(!0),U=(V=r[0])==null?void 0:V.doctorSignUpinfo;if(!U)return T("p",{className:"text-red-500",children:"No doctor information available."});["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(M=>{var ae;return(ae=U==null?void 0:U.workingDays)==null?void 0:ae[M]}).map(M=>M.charAt(0).toUpperCase()+M.slice(1));function H(M){return M=M.toLowerCase(),U.workingDays[M]?U.workingDays[M]:"Invalid day selected!"}const D=(M,ae)=>{if(!M||!ae)return[];const te=[];let[pe,le,Z]=M.split(/[: ]/),[fe,ie,Y]=ae.split(/[: ]/);for(pe=Z==="PM"&&pe!=="12"?+pe+12:+pe,fe=Y==="PM"&&fe!=="12"?+fe+12:+fe;pe<fe||pe===fe&&le<ie;){const ne=`${(pe%12||12).toString().padStart(2,"0")}:${le.toString().padStart(2,"0")} ${pe>=12?"PM":"AM"}`;te.push(ne),le+=30,le>=60&&(le=0,pe+=1)}return te},C=M=>{e.includes(M)?t(e.filter(te=>te!==M)):t([M]),O(!R);const ae=H(M);if(ae&&ae.enabled){const te=D(ae.startTime,ae.endTime);l(te)}else l([])};L.useEffect(()=>{console.log(o)},[o]);const A=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return B("div",{className:"p-6 bg-white rounded-lg",children:[B("div",{className:"rounded-md shadow-lg border-gray-200 pb-4 mb-4 bg-[#f9f9f9]",children:[T("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Doctor Detail"}),B("div",{className:"flex justify-between px-4 items-center",children:[B("div",{children:[B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Name: "}),T("span",{children:r[0].doctorSignUpinfo.name})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Qualification: "}),T("span",{children:r[0].doctorSignUpinfo.qualifications})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Specialization: "}),T("span",{children:r[0].doctorSignUpinfo.specialization})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Experience: "}),B("span",{children:[r[0].doctorSignUpinfo.experience," years of Experience"]})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Consultation Fee: "}),B("span",{children:["",r[0].doctorSignUpinfo.fee]})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Mobile: "}),T("span",{children:r[0].doctorSignUpinfo.phone})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"Clinic Address: "}),T("span",{children:r[0].doctorSignUpinfo.address})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"City: "}),T("span",{children:r[0].doctorSignUpinfo.city})]}),B("div",{className:"mb-2",children:[T("span",{className:"font-semibold",children:"WorkingDays: "}),T("p",{className:"text-[15px]  text-gray-500 pb-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(M=>{var ae,te;return(te=(ae=r[0].doctorSignUpinfo)==null?void 0:ae.workingDays)==null?void 0:te[M].enabled}).map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(", ")}),T("span",{className:"font-semibold",children:"Timing: "}),T("p",{className:"text-[15px] text-gray-500 pb-2",children:Object.entries((z=r[0].doctorSignUpinfo)==null?void 0:z.workingDays).filter(([M,ae])=>ae.enabled).sort(([M],[ae])=>A.indexOf(M)-A.indexOf(ae)).map(([M,ae])=>B("div",{className:"mt-1",children:[B("span",{className:"text-black font-medium",children:[M.charAt(0).toUpperCase()+M.slice(1)," :-"]}),ae.startTime," - ",ae.endTime]},M))}),T("span",{className:"font-semibold",children:"OffDays: "}),T("p",{className:"text-sm text-gray-500",children:Object.entries((j=r[0].doctorSignUpinfo)==null?void 0:j.workingDays).filter(([M,ae])=>!ae.enabled).map(([M])=>T("div",{children:M.charAt(0).toUpperCase()+M.slice(1)}))})]})]}),T("div",{children:r[0].doctorSignUpinfo.profilePicturePreview?T("img",{src:r[0].doctorSignUpinfo.profilePicturePreview,alt:"Doctor",className:"w-40 h-40 rounded-full mx-auto"}):T("img",{src:"https://www.w3schools.com/howto/img_avatar.png",alt:"Doctor",className:"w-40 h-40 rounded-full mx-auto"})})]})]}),B("div",{className:"mt-6",children:[T("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Select Appointment Days"}),T("div",{className:"grid grid-cols-3 gap-4",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(M=>{var ae,te;return(te=(ae=r[0].doctorSignUpinfo)==null?void 0:ae.workingDays)==null?void 0:te[M].enabled}).map(M=>T("button",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e.includes(M)?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>C(M),children:M},M))}),B("div",{className:"mt-4",children:[T("h4",{className:"text-gray-700 font-medium",children:"Selected Days:"}),T("p",{className:"text-gray-500",children:e||"No days selected."})]})]}),B("div",{hidden:R,className:"p-6 bg-white rounded-md shadow-md max-w-[1000px] mx-auto ",children:[T("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Select a Time Slot"}),B("div",{className:"mt-6",children:[T("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Available Time Slots"}),T("div",{className:"grid  grid-cols-3 sm:grid-cols-5 gap-4",children:o.length>0?o.map(M=>B("button",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n===M?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>i(M),children:[M,console.log(M)]},M)):T("p",{children:"No time slots is available"})}),B("div",{className:"mt-4",children:[T("h4",{className:"text-gray-700 font-medium",children:"Selected Time Slot:"}),T("p",{className:"text-gray-500",children:n||"No time slot selected."})]})]})]}),T("div",{className:" bg-gray-50 flex  justify-center",children:B("div",{className:"p-6 bg-white rounded-lg shadow-md max-w-md w-full",children:[T("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"Select Appointment Reason"}),B("div",{className:"mb-6",children:[T("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Appointment"}),B("select",{id:"reason",name:"reason",onChange:M=>d(M.target.value),className:"block w-full px-4 py-3 text-sm rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[T("option",{value:"",disabled:!0,children:"-- Select a reason --"}),T("option",{value:"consultation",children:"Consultation"}),T("option",{value:"follow-up",children:"Follow-up"}),T("option",{value:"routine-checkup",children:"Routine Checkup"}),T("option",{value:"dental-cleaning",children:"Dental Cleaning"}),T("option",{value:"emergency",children:"Emergency"}),T("option",{value:"other",children:"Other"})]})]})]})}),T("button",{onClick:P,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg shadow-md transition-all",children:"Submit"})]})};function Lx(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Lx(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function _t(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Lx(r))&&(n&&(n+=" "),n+=e);return n}function O2(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}O2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ec=r=>typeof r=="number"&&!isNaN(r),Ro=r=>typeof r=="string",Hi=r=>typeof r=="function",M2=r=>Ro(r)||ec(r),bg=r=>Ro(r)||Hi(r)?r:null,L2=(r,e)=>r===!1||ec(r)&&r>0?r:e,Tg=r=>L.isValidElement(r)||Ro(r)||Hi(r)||ec(r);function V2(r,e,t=300){let{scrollHeight:n,style:i}=r;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function F2({enter:r,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:m,playToast:g}){let y=t?`${r}--${l}`:r,_=t?`${e}--${l}`:e,x=L.useRef(0);return L.useLayoutEffect(()=>{let S=h.current,b=y.split(" "),N=P=>{P.target===h.current&&(g(),S.removeEventListener("animationend",N),S.removeEventListener("animationcancel",N),x.current===0&&P.type!=="animationcancel"&&S.classList.remove(...b))};S.classList.add(...b),S.addEventListener("animationend",N),S.addEventListener("animationcancel",N)},[]),L.useEffect(()=>{let S=h.current,b=()=>{S.removeEventListener("animationend",b),n?V2(S,d,i):d()};m||(c?b():(x.current=1,S.className+=` ${_}`,S.addEventListener("animationend",b)))},[m]),X.createElement(X.Fragment,null,o)}}function rE(r,e){return{content:Vx(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function Vx(r,e,t=!1){return L.isValidElement(r)&&!Ro(r.type)?L.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Hi(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function U2({closeToast:r,theme:e,ariaLabel:t="close"}){return X.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),r(!0)},"aria-label":t},X.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},X.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function B2({delay:r,isRunning:e,closeToast:t,type:n="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:m}){let g=i||l&&c===0,y={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};l&&(y.transform=`scaleX(${c})`);let _=_t("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),x=Hi(o)?o({rtl:d,type:n,defaultClassName:_}):_t(_,o),S={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&t()}};return X.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},X.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${n}`}),X.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:y,...S}))}var z2=1,Fx=()=>`${z2++}`;function j2(r,e,t){let n=1,i=0,o=[],l=[],c=e,d=new Map,h=new Set,m=P=>(h.add(P),()=>h.delete(P)),g=()=>{l=Array.from(d.values()),h.forEach(P=>P())},y=({containerId:P,toastId:R,updateId:O})=>{let U=P?P!==r:r!==1,H=d.has(R)&&O==null;return U||H},_=(P,R)=>{d.forEach(O=>{var U;(R==null||R===O.props.toastId)&&((U=O.toggle)==null||U.call(O,P))})},x=P=>{var R,O;(O=(R=P.props)==null?void 0:R.onClose)==null||O.call(R,P.removalReason),P.isActive=!1},S=P=>{if(P==null)d.forEach(x);else{let R=d.get(P);R&&x(R)}g()},b=()=>{i-=o.length,o=[]},N=P=>{var R,O;let{toastId:U,updateId:H}=P.props,D=H==null;P.staleId&&d.delete(P.staleId),P.isActive=!0,d.set(U,P),g(),t(rE(P,D?"added":"updated")),D&&((O=(R=P.props).onOpen)==null||O.call(R))};return{id:r,props:c,observe:m,toggle:_,removeToast:S,toasts:d,clearQueue:b,buildToast:(P,R)=>{if(y(R))return;let{toastId:O,updateId:U,data:H,staleId:D,delay:C}=R,A=U==null;A&&i++;let V={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(R).filter(([j,M])=>M!=null)),toastId:O,updateId:U,data:H,isIn:!1,className:bg(R.className||c.toastClassName),progressClassName:bg(R.progressClassName||c.progressClassName),autoClose:R.isLoading?!1:L2(R.autoClose,c.autoClose),closeToast(j){d.get(O).removalReason=j,S(O)},deleteToast(){let j=d.get(O);if(j!=null){if(t(rE(j,"removed")),d.delete(O),i--,i<0&&(i=0),o.length>0){N(o.shift());return}g()}}};V.closeButton=c.closeButton,R.closeButton===!1||Tg(R.closeButton)?V.closeButton=R.closeButton:R.closeButton===!0&&(V.closeButton=Tg(c.closeButton)?c.closeButton:!0);let z={content:P,props:V,staleId:D};c.limit&&c.limit>0&&i>c.limit&&A?o.push(z):ec(C)?setTimeout(()=>{N(z)},C):N(z)},setProps(P){c=P},setToggle:(P,R)=>{let O=d.get(P);O&&(O.toggle=R)},isToastActive:P=>{var R;return(R=d.get(P))==null?void 0:R.isActive},getSnapshot:()=>l}}var Sn=new Map,Lu=[],xg=new Set,W2=r=>xg.forEach(e=>e(r)),Ux=()=>Sn.size>0;function H2(){Lu.forEach(r=>zx(r.content,r.options)),Lu=[]}var $2=(r,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(r)};function Bx(r,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(r));let n=!1;return Sn.forEach(i=>{i.isToastActive(r)&&(n=!0)}),n}function Y2(r){if(!Ux()){Lu=Lu.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||M2(r))Sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Sn.get(r.containerId);e?e.removeToast(r.id):Sn.forEach(t=>{t.removeToast(r.id)})}}var q2=(r={})=>{Sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function zx(r,e){Tg(r)&&(Ux()||Lu.push({content:r,options:e}),Sn.forEach(t=>{t.buildToast(r,e)}))}function K2(r){var e;(e=Sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function jx(r,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function Q2(r){let e=r.containerId||1;return{subscribe(t){let n=j2(e,r,W2);Sn.set(e,n);let i=n.observe(t);return H2(),()=>{i(),Sn.delete(e)}},setProps(t){var n;(n=Sn.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function G2(r){return xg.add(r),()=>{xg.delete(r)}}function X2(r){return r&&(Ro(r.toastId)||ec(r.toastId))?r.toastId:Fx()}function tc(r,e){return zx(r,e),e.toastId}function fh(r,e){return{...e,type:e&&e.type||r,toastId:X2(e)}}function hh(r){return(e,t)=>tc(e,fh(r,t))}function Oe(r,e){return tc(r,fh("default",e))}Oe.loading=(r,e)=>tc(r,fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function J2(r,{pending:e,error:t,success:n},i){let o;e&&(o=Ro(e)?Oe.loading(e,i):Oe.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,m,g)=>{if(m==null){Oe.dismiss(o);return}let y={type:h,...l,...i,data:g},_=Ro(m)?{render:m}:m;return o?Oe.update(o,{...y,..._}):Oe(_.render,{...y,..._}),g},d=Hi(r)?r():r;return d.then(h=>c("success",n,h)).catch(h=>c("error",t,h)),d}Oe.promise=J2;Oe.success=hh("success");Oe.info=hh("info");Oe.error=hh("error");Oe.warning=hh("warning");Oe.warn=Oe.warning;Oe.dark=(r,e)=>tc(r,fh("default",{theme:"dark",...e}));function Z2(r){Y2(r)}Oe.dismiss=Z2;Oe.clearWaitingQueue=q2;Oe.isActive=Bx;Oe.update=(r,e={})=>{let t=$2(r,e);if(t){let{props:n,content:i}=t,o={delay:100,...n,...e,toastId:e.toastId||r,updateId:Fx()};o.toastId!==r&&(o.staleId=r);let l=o.render||i;delete o.render,tc(l,o)}};Oe.done=r=>{Oe.update(r,{progress:1})};Oe.onChange=G2;Oe.play=r=>jx(!0,r);Oe.pause=r=>jx(!1,r);function eO(r){var e;let{subscribe:t,getSnapshot:n,setProps:i}=L.useRef(Q2(r)).current;i(r);let o=(e=L.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function l(c){if(!o)return[];let d=new Map;return r.newestOnTop&&o.reverse(),o.forEach(h=>{let{position:m}=h.props;d.has(m)||d.set(m,[]),d.get(m).push(h)}),Array.from(d,h=>c(h[0],h[1]))}return{getToastToRender:l,isToastActive:Bx,count:o==null?void 0:o.length}}function tO(r){let[e,t]=L.useState(!1),[n,i]=L.useState(!1),o=L.useRef(null),l=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:h,onClick:m,closeOnClick:g}=r;K2({id:r.toastId,containerId:r.containerId,fn:t}),L.useEffect(()=>{if(r.pauseOnFocusLoss)return y(),()=>{_()}},[r.pauseOnFocusLoss]);function y(){document.hasFocus()||N(),window.addEventListener("focus",b),window.addEventListener("blur",N)}function _(){window.removeEventListener("focus",b),window.removeEventListener("blur",N)}function x(D){if(r.draggable===!0||r.draggable===D.pointerType){P();let C=o.current;l.canCloseOnClick=!0,l.canDrag=!0,C.style.transition="none",r.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=C.offsetWidth*(r.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=C.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function S(D){let{top:C,bottom:A,left:V,right:z}=o.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&r.pauseOnHover&&D.clientX>=V&&D.clientX<=z&&D.clientY>=C&&D.clientY<=A?N():b()}function b(){t(!0)}function N(){t(!1)}function P(){l.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",U)}function R(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",U)}function O(D){let C=o.current;if(l.canDrag&&C){l.didMove=!0,e&&N(),r.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let A=r.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;C.style.transform=`translate3d(${A},0)`,C.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function U(){R();let D=o.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),r.closeToast(!0),r.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let H={onPointerDown:x,onPointerUp:S};return c&&d&&(H.onMouseEnter=N,r.stacked||(H.onMouseLeave=b)),g&&(H.onClick=D=>{m&&m(D),l.canCloseOnClick&&h(!0)}),{playToast:b,pauseToast:N,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:H}}var nO=typeof window<"u"?L.useLayoutEffect:L.useEffect,ph=({theme:r,type:e,isLoading:t,...n})=>X.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function rO(r){return X.createElement(ph,{...r},X.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function iO(r){return X.createElement(ph,{...r},X.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function sO(r){return X.createElement(ph,{...r},X.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oO(r){return X.createElement(ph,{...r},X.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aO(){return X.createElement("div",{className:"Toastify__spinner"})}var Sg={info:iO,warning:rO,success:sO,error:oO,spinner:aO},lO=r=>r in Sg;function uO({theme:r,type:e,isLoading:t,icon:n}){let i=null,o={theme:r,type:e};return n===!1||(Hi(n)?i=n({...o,isLoading:t}):L.isValidElement(n)?i=L.cloneElement(n,o):t?i=Sg.spinner():lO(e)&&(i=Sg[e](o))),i}var cO=r=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:o}=tO(r),{closeButton:l,children:c,autoClose:d,onClick:h,type:m,hideProgressBar:g,closeToast:y,transition:_,position:x,className:S,style:b,progressClassName:N,updateId:P,role:R,progress:O,rtl:U,toastId:H,deleteToast:D,isIn:C,isLoading:A,closeOnClick:V,theme:z,ariaLabel:j}=r,M=_t("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":U},{"Toastify__toast--close-on-click":V}),ae=Hi(S)?S({rtl:U,position:x,type:m,defaultClassName:M}):_t(M,S),te=uO(r),pe=!!O||!d,le={closeToast:y,type:m,theme:z},Z=null;return l===!1||(Hi(l)?Z=l(le):L.isValidElement(l)?Z=L.cloneElement(l,le):Z=U2(le)),X.createElement(_,{isIn:C,done:D,position:x,preventExitTransition:t,nodeRef:n,playToast:o},X.createElement("div",{id:H,tabIndex:0,onClick:h,"data-in":C,className:ae,...i,style:b,ref:n,...C&&{role:R,"aria-label":j}},te!=null&&X.createElement("div",{className:_t("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},te),Vx(c,r,!e),Z,!r.customProgressBar&&X.createElement(B2,{...P&&!pe?{key:`p-${P}`}:{},rtl:U,theme:z,delay:d,isRunning:e,isIn:C,closeToast:y,hide:g,type:m,className:N,controlledProgress:pe,progress:O||0})))},dO=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),fO=F2(dO("bounce",!0)),hO={position:"top-right",transition:fO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function pO(r){let e={...hO,...r},t=r.stacked,[n,i]=L.useState(!0),o=L.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=eO(e),{className:h,style:m,rtl:g,containerId:y,hotKeys:_}=e;function x(b){let N=_t("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":g});return Hi(h)?h({position:b,rtl:g,defaultClassName:N}):_t(N,bg(h))}function S(){t&&(i(!0),Oe.play())}return nO(()=>{var b;if(t){let N=o.current.querySelectorAll('[data-in="true"]'),P=12,R=(b=e.position)==null?void 0:b.includes("top"),O=0,U=0;Array.from(N).reverse().forEach((H,D)=>{let C=H;C.classList.add("Toastify__toast--stacked"),D>0&&(C.dataset.collapsed=`${n}`),C.dataset.pos||(C.dataset.pos=R?"top":"bot");let A=O*(n?.2:1)+(n?0:P*D);C.style.setProperty("--y",`${R?A:A*-1}px`),C.style.setProperty("--g",`${P}`),C.style.setProperty("--s",`${1-(n?U:0)}`),O+=C.offsetHeight,U+=.025})}},[n,d,t]),L.useEffect(()=>{function b(N){var P;let R=o.current;_(N)&&((P=R.querySelector('[tabIndex="0"]'))==null||P.focus(),i(!1),Oe.pause()),N.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(i(!0),Oe.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[_]),X.createElement("section",{ref:o,className:"Toastify",id:y,onMouseEnter:()=>{t&&(i(!1),Oe.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((b,N)=>{let P=N.length?{...m}:{...m,pointerEvents:"none"};return X.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":t,style:P,key:`c-${b}`},N.map(({content:R,props:O})=>X.createElement(cO,{...O,stacked:t,collapseAll:S,isIn:c(O.toastId,O.containerId),key:`t-${O.key}`},R)))}))}const mO=r=>{const{id:e,name:t,city:n,speciality:i,image:o,experience:l,mobile:c,handleDoctor:d}=r,{doctor:h,setDoctor:m}=fr(),[g,y]=L.useState(),[_,x]=L.useState(),S=Bt.currentUser,b=th(wt,"patients");L.useEffect(()=>{(async()=>{try{const O=await Ut(pt(b,S.uid));if(O.exists()){const U=O.data();x(U)}else console.log("User not found")}catch(O){console.error("Error fetching user info:",O)}})()},[]);const N=di();return T("div",{children:T("div",{className:"",children:T("div",{className:" shadow-md rounded-md px-3 hover:shadow-xl hover:bg-slate-300 transition-all duration-300 ease-in-out",children:B("div",{className:"flex justify-between ",children:[B("div",{className:"flex space-x-4 items-center",children:[T("div",{children:o?T("img",{src:o,alt:"",className:"h-32 w-32 rounded-full p-2"}):T("img",{src:"https://www.w3schools.com/howto/img_avatar.png",alt:"Default",className:"h-32 w-32 rounded-full p-2"})}),B("div",{className:" text-[12px] leading-5 text-black",children:[B("p",{className:"text-[15px] font-medium",children:["Name: ",t]}),B("p",{className:"",children:["City: ",n]}),B("p",{className:"",children:["Specializtion: ",i]}),B("p",{className:"",children:[l," years of experience"]}),T("p",{className:"",children:c})]})]}),T("div",{className:"py-20",children:T("button",{onClick:R=>{if(R.preventDefault(),!(_!=null&&_.personalInfo)||!(_!=null&&_.medicalInfo)){Oe.error("Please submit your personal and medical information before booking a doctor.");return}const O=e,U=h.filter(H=>H.id===O);y(U),localStorage.setItem("doctor",JSON.stringify(U)),N("/patient/DoctorDetail")},className:"bg-blue-500  text-[12px] text-white px-5 py-2 rounded-md",children:"Book"})})]})})})})},iE=()=>{const{doctor:r,setDoctor:e}=fr(),[t,n]=L.useState(""),[i,o]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState([]),[m,g]=L.useState(!0),y=localStorage.getItem("doctorInfo");JSON.parse(y);const _=async b=>{if(b)try{const N=pt(wt,"patients",b),P=await Ut(N);if(P.exists()){const R=P.data().accept||[];h(R)}else console.error("patient document does not exist.")}catch(N){console.error("Error updating appointments:",N)}else console.log("no data")};L.useEffect(()=>{(async()=>{const P=th(wt,"doctors"),R=await BR(P);let O=[];R.forEach(U=>{O.push({id:U.id,...U.data()})}),e(O)})();const N=sl(Bt,P=>{P?_(P.uid):console.log("No user is signed in")});return()=>N()},[]);const x=async()=>{const b=r.filter(N=>{if(N.doctorSignUpinfo)return N.doctorSignUpinfo.name.includes(t.toLowerCase())&&N.doctorSignUpinfo.city.toLowerCase().includes(i.toLowerCase())&&N.doctorSignUpinfo.specialization.toLowerCase().includes(l.toLowerCase())});e(b)};return B("div",{className:"px-6 py-12 bg-gray-100 min-h-screen",children:[B("section",{className:"text-center bg-gradient-to-r from-blue-500 to-blue-700 text-white py-12 rounded-md mb-10",children:[T("h1",{className:"text-4xl font-semibold mb-4",children:"Find a Doctor Nearby"}),T("p",{className:"text-lg mb-6",children:"Easily search for doctors by name, location, or specialization and book appointments."})]}),T("div",{className:"text-right text-[14px] absolute top-3 right-3",children:B("div",{className:"cursor-pointer",children:[B("p",{onClick:()=>{g(!m)},className:"px-3",children:["Notification",T("span",{className:"bg-green-400 text-[14px] font-semibold px-[5px] py-[2px] rounded-full",children:d.length})]}),T("ul",{hidden:m,className:"h-[420px] mt-3 bg-[#f1f1f1] text-[12px] shadow-xl rounded-md p-4",children:d.length>0?d.map((b,N)=>T("li",{className:"mt-2 text-left",children:B("span",{children:[" ",b.doctorName," ",b.doctorLastName," ",b.accept," your appointment"]})},N)):T("p",{children:"No notifications"})})]})}),B("div",{className:"bg-white p-6 rounded-md shadow-lg mb-8",children:[B("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5",children:[B("div",{className:"text-[13px] font-medium",children:[T("p",{className:"pb-2",children:"Doctor Name"}),T("input",{type:"text",placeholder:"Search doctor by name",onChange:b=>n(b.target.value),className:"w-full text-[12px] p-2 border border-gray-300 rounded-md"})]}),B("div",{children:[T("p",{className:"pb-2 text-[13px] font-medium",children:"Your Location"}),T("input",{type:"text",placeholder:"Search doctor by city",onChange:b=>o(b.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-[13px]"})]}),B("div",{children:[T("p",{className:"pb-2 text-[13px] font-medium",children:"Doctor Specialization"}),T("input",{type:"text",placeholder:"Search doctor by specialization",onChange:b=>c(b.target.value),className:"w-full text-[13px] p-2 border border-gray-300 rounded-md"})]})]}),T("div",{className:"mt-4",children:T("button",{onClick:x,className:"w-full p-2 font-medium bg-blue-500 text-white rounded-md shadow-lg hover:bg-blue-600 transition duration-300",children:"Search"})})]}),T("div",{className:"mt-8",children:T("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r&&r.length>0?r.map((b,N)=>T("li",{className:" shadow-lg hover:scale-105 transform transition-all duration-300",children:T(mO,{id:b.id,image:b.doctorSignUpinfo.profilePicturePreview,name:b.doctorSignUpinfo.name,city:b.doctorSignUpinfo.city,speciality:b.doctorSignUpinfo.specialization,experience:b.doctorSignUpinfo.experience,mobile:b.doctorSignUpinfo.phone,handleDoctor:x})},N)):T("p",{className:"text-center text-gray-500",children:"No doctor available"})})})]})},gO=()=>{const r=di(),[e,t]=L.useState(),[n,i]=L.useState(),[o,l]=L.useState(!1),[c,d]=L.useState(!0),[h,m]=L.useState(!0),[g,y]=L.useState({name:"",age:"",gender:"",phone:"",address:""}),[_,x]=L.useState({allergies:"",medications:"",chronicConditions:"",otherInfo:""}),S=()=>{l(!1),d(!0),m(!0)},b=()=>{l(!0),m(!0),d(!1)},N=()=>{l(!0),d(!0),m(!1)},P=async V=>{V.preventDefault();try{await Bt.signOut(),console.log("User signed out")}catch(z){console.error("Error signing out: ",z)}r("/login")},R=V=>{y({...g,[V.target.name]:V.target.value})},O=V=>{x({..._,[V.target.name]:V.target.value})},U=Bt.currentUser,H=th(wt,"patients"),D=async V=>{if(V.preventDefault(),g.name===""||g.age===""||g===""||g.phone===""||g.address===""){alert("Please fill all fields");return}else if(g.phone.length>=11){alert("Phone number must be 10 digits");return}else if(U)try{await Ga(pt(H,U.uid),{personalInfo:{name:g.name,age:g.age,gender:g.gender,phone:g.phone,address:g.address}}),alert("Personal Info submited successfully"),localStorage.setItem("user",JSON.stringify(g)),t(g)}catch(j){console.log("Error adding document: ",j)}else console.log("No user found");const z=localStorage.getItem("user");z&&(t(JSON.parse(z)),console.log(g))},C=async V=>{if(V.preventDefault(),allergies===""||medications===""||chronicConditions===""||otherInfo===""){alert("Please fill all fields");return}else if(U)try{await Ga(pt(H,U.uid),{medicalInfo:{allergies:_.allergies,medications:_.medications,chronicConditions:_.chronicConditions,otherInfo:_.otherInfo}}),alert("Medical Info submited successfully"),localStorage.setItem("medicalData",JSON.stringify(_)),i(_)}catch(j){console.log("Error adding document: ",j)}else console.log("No user found");const z=localStorage.getItem("medicalData");z&&i(JSON.parse(z))},A=async V=>{try{const z=await Ut(pt(H,V));if(z.exists()){const j=z.data();t(j.personalInfo),i(j.medicalInfo)}else console.log("User not found")}catch(z){console.error("Error fetching user info:",z)}};return L.useEffect(()=>{const V=Bt.onAuthStateChanged(z=>{z?A(z.uid):setLoading(!1)});return()=>V()},[]),T("div",{children:B("div",{className:"bg-[#f0f0f0] min-h-screen p-5",children:[T("h1",{className:"text-2xl font-semibold mb-5",children:"Patient Profile"}),B("div",{className:"flex justify-between space-x-3",children:[B("div",{className:"border-[1px] mt-4 p-4 border-gray-300 rounded-md w-[65%] sm:w-[80%] bg-white shadow-lg",children:[T("p",{className:"text-lg font-medium mb-3",children:"Overview"}),B("div",{hidden:o,className:"max-w-2xl mx-auto p-4 bg-white shadow-md rounded-lg",children:[B("div",{className:"flex items-center space-x-4",children:[T("img",{className:"w-24 h-24 rounded-full",src:"",alt:"Patient Avatar"}),T("div",{children:T("h2",{className:"text-2xl font-semibold",children:e?e.name:"N/A"})})]}),B("div",{className:"mt-6",children:[T("h3",{className:"text-xl font-semibold",children:"Personal Information"}),B("div",{className:"mt-2",children:[B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Age:"})," ",e?e.age:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Gender:"})," ",e?e.gender:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Phone:"})," ",e?e.phone:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Address:"})," ",e?e.address:"N/A"]})]})]}),B("div",{className:"mt-6",children:[T("h3",{className:"text-xl font-semibold",children:"Medical History"}),B("div",{className:"mt-2",children:[B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Allergies:"})," ",n?n.allergies:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Medications:"})," ",n?n.medications:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Chronic Conditions:"})," ",n?n.chronicConditions:"N/A"]}),B("p",{className:"text-gray-700",children:[T("span",{className:"font-semibold",children:"Other Important Info:"})," ",n?n.otherInfo:"N/A"]})]})]})]}),T("div",{hidden:c,className:"mt-3",children:B("form",{children:[B("div",{className:"grid sm:grid-cols-3 gap-5 text-[12px]",children:[B("div",{children:[T("label",{htmlFor:"name",children:"Name:"}),T("input",{type:"text",id:"name",name:"name",placeholder:"Enter your name",className:"border p-2 w-full mt-1 text-[12px] placeholder-[#212529]",value:g.name,onChange:R})]}),B("div",{children:[T("label",{htmlFor:"age",children:"Age:"}),T("input",{type:"number",id:"age",name:"age",placeholder:"Enter your age",className:"border p-2 mt-1 w-full placeholder-[#212529]",value:g.age,onChange:R})]}),B("div",{children:[T("label",{htmlFor:"gender",children:"Gender:"}),B("select",{id:"gender",name:"gender",className:"border p-2 w-full mt-1",value:g.gender,onChange:R,children:[T("option",{value:"",children:"Select gender"}),T("option",{value:"male",children:"Male"}),T("option",{value:"female",children:"Female"}),T("option",{value:"other",children:"Other"})]})]}),B("div",{children:[T("label",{htmlFor:"phone",children:"Phone:"}),T("input",{type:"text",id:"phone",name:"phone",placeholder:"Enter your phone number",className:"border p-2 w-full mt-1 placeholder-[#212529]",value:g.phone,onChange:R})]}),B("div",{children:[T("label",{htmlFor:"address",children:"Address:"}),T("input",{type:"text",id:"address",name:"address",placeholder:"Enter your address",className:"border p-2 w-full mt-1 placeholder-[#212529]",value:g.address,onChange:R})]})]}),T("div",{children:T("button",{onClick:D,type:"submit",className:"bg-blue-500 text-white p-2 mt-3 px-8 text-[11px] rounded",children:"Submit"})})]})}),B("div",{className:"mt-6",hidden:h,children:[T("h3",{className:"text-xl font-semibold",children:"Record Medical Info"}),B("div",{className:"mt-2",children:[T("label",{htmlFor:"allergies",className:"block text-gray-700 font-semibold",children:"Allergies:"}),T("input",{type:"text",id:"allergies",name:"allergies",placeholder:"Enter your allergies",className:"border p-2 w-full mt-1 placeholder-[#212529]",value:_.allergies,onChange:O})]}),B("div",{className:"mt-2",children:[T("label",{htmlFor:"medications",className:"block text-gray-700 font-semibold",children:"Medications:"}),T("input",{type:"text",id:"medications",name:"medications",placeholder:"Enter your medications",className:"border p-2 w-full mt-1 placeholder-[#212529]",value:_.medications,onChange:O})]}),B("div",{className:"mt-2",children:[T("label",{htmlFor:"chronicConditions",className:"block text-gray-700 font-semibold",children:"Chronic Conditions:"}),T("input",{type:"text",id:"chronicConditions",name:"chronicConditions",placeholder:"Enter your chronic conditions",className:"border p-2 w-full mt-1 placeholder-[#212529]",value:_.chronicConditions,onChange:O})]}),B("div",{className:"mt-2",children:[T("label",{htmlFor:"otherInfo",className:"block text-gray-700 font-semibold",children:"Other Important Info:"}),T("textarea",{id:"otherInfo",name:"otherInfo",placeholder:"Enter other important information",className:"border p-2 w-full mt-1 placeholder-[#212529] h-24",value:_.otherInfo,onChange:O})]}),T("div",{children:T("button",{onClick:C,className:"bg-blue-500 text-white p-2 mt-3 px-8 text-[11px] rounded",children:"Submit"})})]})]}),B("div",{className:"border-[1px] p-4 mt-4 rounded-md border-gray-300 w-[35%] sm:w-[20%] bg-white shadow-lg",children:[T("button",{onClick:S,className:"w-full bg-blue-500 text-white p-1 mt-2 rounded hover:bg-blue-600 transition duration-300",children:"Profile"}),T("br",{}),T("button",{onClick:b,className:"w-full bg-blue-500 text-white p-1 mt-2 rounded hover:bg-blue-600 transition duration-300",children:"Personal Info"}),T("br",{}),T("button",{onClick:N,className:"w-full bg-blue-500 text-white p-1 mt-2 rounded hover:bg-blue-600 transition duration-300",children:"Medical History"}),T("br",{}),T("button",{onClick:P,className:"w-full inline-block text-center bg-red-500 text-white p-1 mt-2 rounded hover:bg-red-600 transition duration-300",children:"Logout"})]})]})]})})},yO=()=>{const[r,e]=L.useState([]),t=th(wt,"patients"),n=async i=>{try{const o=await Ut(pt(t,i));if(o.exists()){const l=o.data();e(l.appoinment)}else console.log("User not found")}catch(o){console.log("broo",o)}};return L.useEffect(()=>{const i=Bt.onAuthStateChanged(o=>{o?n(o.uid):setLoading(!1)});return()=>i()},[]),B("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 min-h-screen",children:[T("p",{className:"text-center text-3xl font-semibold py-6 text-gray-800",children:"My Appointments"}),T("div",{className:"px-10",children:T("ul",{className:"space-y-6",children:(r==null?void 0:r.length)>0?r.map((i,o)=>B("li",{className:"bg-white p-6 rounded-lg shadow-xl border border-gray-200 hover:shadow-2xl transition-all duration-300 transform ",children:[B("div",{className:"flex justify-between items-center mb-4",children:[B("div",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[B("span",{className:"mr-2 text-blue-600",children:[T("i",{className:"fas fa-user-md"})," "]}),i.name," ",i.lastName]}),B("div",{className:"text-sm text-gray-500 flex items-center",children:[T("i",{className:"fas fa-calendar-alt mr-2"})," ",i.day,", ",i.time]})]}),B("p",{className:"text-sm text-gray-700 mb-2",children:[T("strong",{children:"Specialization:"})," ",i.specialization]}),B("p",{className:"text-sm text-gray-700 mb-2",children:[T("strong",{children:"Qualifications:"})," ",i.qualifications]}),B("p",{className:"text-sm text-gray-700 mb-2",children:[T("strong",{children:"Experience:"})," ",i.experience," years"]}),B("p",{className:"text-sm text-gray-700 mb-2",children:[T("strong",{children:"Consultation Fee:"})," ",i.consultationFee]}),B("p",{className:"text-sm text-gray-700 mb-4",children:[T("strong",{children:"Clinic Address:"})," ",i.clinicAddress,", ",i.city,", ",i.state]}),T("div",{className:"mt-4 text-right",children:T("button",{onClick:()=>handleDeleteAppointment(o),className:"bg-red-500 text-white font-medium py-2 px-6 rounded-lg shadow-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300 transition duration-200",children:"Cancel Appointment"})})]},o)):T("div",{className:"text-center text-gray-500",children:"No appointment available"})})})]})},sE=()=>{const r=di(),e=()=>{r("/doctor/appointment")},t=()=>{r("/doctor/PatientRecords")},[n,i]=L.useState([]);L.useEffect(()=>{const m=sl(Bt,g=>{g?o(g.uid):console.log("No user is signed in")});return()=>m()},[]);const o=async m=>{var g;if(m)try{const y=pt(wt,"doctors",m),_=await Ut(y);if(_.exists()){const x=_.data();i((g=x.appoinment)==null?void 0:g.map(S=>S.message))}else console.log("no data")}catch(y){console.log(y)}},[l,c]=L.useState(!0),d=()=>{c(!l)},h=m=>{console.log("del",m);const g=n.filter((y,_)=>(console.log(_),_!==m));i(g),localStorage.setItem("doctorMessage",JSON.stringify(g))};return T("div",{children:T("div",{className:"min-h-screen bg-gray-100 p-4",children:B("div",{className:"max-w-7xl mx-auto",children:[T("h1",{className:"text-3xl font-bold mb-4",children:"Doctor Dashboard"}),T("div",{className:" text-right text-[14px] absolute top-[80px] right-4",children:B("div",{className:"cursor-pointer",children:[B("p",{onClick:d,className:"px-3 text-lg",children:["Notification",T("span",{className:"bg-green-400 text-[14px] font-semibold px-[5px] pr-[6px] py-[-2px] rounded-full",children:(n==null?void 0:n.length)||"0"})]}),T("ul",{hidden:l,className:"h-[420px] w-[270px] mt-3 bg-[#f1f1f1] text-[13px] shadow-xl rounded-md p-4",children:(n==null?void 0:n.length)>0?n.map((m,g)=>(console.log(m),T("li",{className:"mt-2 text-left",children:B("span",{children:["  ",m," ",T("span",{onClick:()=>h(g),children:""})]})},g))):T("p",{})})]})}),B("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[T("button",{onClick:e,className:"text-left",children:B("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T("h2",{className:"text-xl font-semibold mb-2",children:"Appointments"}),T("p",{className:"text-gray-700",children:"Manage your appointments"})]})}),T("button",{onClick:t,className:"text-left",children:B("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T("h2",{className:"text-xl font-semibold mb-2",children:"Patients"}),T("p",{className:"text-gray-700",children:"View patient information"})]})}),B("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T("h2",{className:"text-xl font-semibold mb-2",children:"Messages"}),T("p",{className:"text-gray-700",children:"Check your messages"})]})]})]})})})},vO=()=>{const{userPersonalInfo:r,setUserPersonalInfo:e}=fr();L.useEffect(()=>{const n=sl(Bt,i=>{i?t(i.uid):(console.log("No user is signed in"),e(null))});return()=>n()},[]);const t=async n=>{try{const i=await Ut(pt(wt,"doctors",n));if(i.exists()){const o=i.data();console.log(o),e(o.doctorSignUpinfo)}else console.log("User not found")}catch(i){console.error("Error fetching user info:",i)}};return T("div",{className:" md:w-[100%] p-5",children:B("div",{className:"card md:flex items-center md:space-x-8 bg-white p-6 rounded-lg shadow-lg ",children:[T("div",{className:"w-40 md:w-36 h-40  md:h-36 overflow-hidden rounded-full  border-2 border-blue-500",children:T("img",{src:r.profilePicturePreview||"https://via.placeholder.com/150",alt:"Profile",className:"w-44 md:w-36 h-40  md:h-36"})}),B("div",{className:"text-[16px] sm:mt-8",children:[T("p",{className:"text-gray-600",children:"Hello, I am"}),B("h2",{className:"text-xl font-bold text-gray-800",children:["Mr. ",r.name||"N/A"]}),T("p",{className:"text-blue-500 font-medium text-sm capitalize",children:r.role||"N/A"}),B("p",{className:"text-gray-600 mt-2",children:[T("span",{children:r.qualifications||"N/A"}),","," ",T("span",{children:r.specialization||"N/A"})]}),B("p",{className:"text-gray-600",children:[r.experience||"N/A"," Years Experience Overall"]}),T("p",{className:"text-gray-600",children:"466 Reviews"}),B("div",{className:"mt-3 space-y-1",children:[B("p",{className:"flex items-center text-gray-600",children:[T("span",{className:"material-icons text-blue-500 mr-2",children:"email"}),r.email||"N/A"]}),B("p",{className:"flex items-center text-gray-600",children:[T("span",{className:"material-icons text-blue-500 mr-2",children:"phone"}),r.phone||"N/A"]})]}),B("div",{className:"mt-3 space-y-1",children:[B("p",{className:"text-sm text-gray-500",children:["Working Days:"," ",["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(n=>{var i;return(i=r==null?void 0:r.workingDays)==null?void 0:i[n]}).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(", ")]}),B("p",{className:"text-sm text-gray-500",children:["Start Time: ",r==null?void 0:r.workStartTime," AM"]}),B("p",{className:"text-sm text-gray-500",children:["End Time: ",r==null?void 0:r.workEndTime," PM"]}),B("p",{className:"text-sm text-gray-500",children:["Off Day: ",new Date(r==null?void 0:r.timeOff).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),B("p",{className:"flex items-center text-gray-600",children:[T("span",{className:"material-icons text-blue-500 mr-2",children:"attach_money"}),"Fee: ",r.fee||"N/A"]})]}),T("div",{className:"mt-4",children:T("span",{className:`px-3 py-1 rounded-full text-white text-xs ${r.status==="active"?"bg-green-500":"bg-gray-500"}`,children:r.status||"N/A"})})]})]})})},_O=()=>{const r=di();L.useState([]),L.useState({firstName:"",lastName:"",age:"",gender:"",uniqueId:"",mobileNumber:"",country:"",state:"",city:"",postalCode:""}),L.useState({specialization:"",experience:"",qualifications:"",clinicAddress:"",consultationFee:"",About:""});const[e,t]=L.useState(!0),[n,i]=L.useState(!0),[o,l]=L.useState(!1);return B("div",{className:"bg-[#f0f0f0] min-h-screen p-5",children:[T("h1",{className:"text-2xl font-semibold mb-5",children:"Doctor Profile"}),B("div",{className:"flex justify-between space-x-3",children:[B("div",{className:"border-[1px] mt-4 p-4 border-gray-300 rounded-md w-[65%] sm:w-[80%] bg-white shadow-lg",children:[T("p",{className:"text-lg font-medium mb-3",children:"Overview"}),T("div",{children:B("div",{className:" w-[130%] sm:flex sm:space-x-4 sm:items-start mt-4 text-[14px]",children:[T("div",{className:"border rounded-md p-6 mt-4 shadow-lg bg-white sm:w-[55%] hover:scale-105 transition-transform duration-300",children:T(vO,{})}),B("div",{className:"md:flex   md:space-x-10",children:[B("div",{className:"text-center border rounded-md p-6 mt-4 bg-gradient-to-r from-blue-200 via-blue-100 to-white shadow-lg sm:w-auto hover:shadow-2xl transition duration-300",children:[T("p",{className:"text-3xl font-bold text-blue-600",children:"499"}),T("p",{className:"text-lg text-gray-700",children:"Patients"})]}),B("div",{className:"text-center border rounded-md p-6 mt-4 bg-gradient-to-r from-green-200 via-green-100 to-white shadow-lg sm:w-auto hover:shadow-2xl transition duration-300",children:[T("p",{className:"text-3xl font-bold text-green-600",children:"499"}),T("p",{className:"text-lg text-gray-700",children:"Reviews"})]})]})]})})]}),B("div",{className:"border-[1px] p-4 mt-4 rounded-md border-gray-300 w-[35%] sm:w-[20%] bg-white shadow-lg",children:[T("button",{onClick:h=>{t(!0),i(!0),l(!o)},className:"w-full bg-blue-500 text-white p-1 mt-2 rounded hover:bg-blue-600 transition duration-300",children:"Profile"}),T("br",{}),T("button",{onClick:async h=>{h.preventDefault();try{await Bt.signOut(),console.log("User signed out")}catch(m){console.error("Error signing out: ",m)}r("/login")},className:"w-full inline-block text-center bg-red-500 text-white p-1 mt-2 rounded hover:bg-red-600 transition duration-300",children:"Logout"})]})]})]})},wO=()=>{const[r,e]=L.useState([]),{accept:t,setAccept:n}=fr();L.useState([]);const[i,o]=L.useState(()=>{const P=localStorage.getItem("hiddenState");return P?JSON.parse(P):{}}),[l,c]=L.useState(()=>{const P=localStorage.getItem("hiddenRejectState");return P?JSON.parse(P):{}}),[d,h]=L.useState(""),[m,g]=L.useState(""),[y,_]=L.useState("");L.useEffect(()=>{const P=sl(Bt,R=>{R?x(R.uid):console.log("No user is signed in")});return()=>P()},[]);const x=async P=>{if(P)try{const R=pt(wt,"doctors",P),O=await Ut(R);if(O.exists()){const U=O.data();e(U.appoinment)}else console.log("no data")}catch(R){console.log(R)}},S=async(P,R)=>{n([...t,P]),localStorage.setItem("patientRecord",JSON.stringify([...t,P]));const O=P.patientId;if(O)try{const H=pt(wt,"patients",O),D=await Ut(H);if(console.log(D),console.log(new Date),D.exists()){const A=D.data().accept||[],V={accept:"Accepted",doctorName:P.doctorName,patientId:O};await Ga(H,{accept:[...A,V]}),alert("accepted successfully")}else console.error("patient document does not exist.")}catch(H){console.error("Error updating appointments:",H)}else console.log("no data");const U={...i,[R]:!i[R]};o(U),localStorage.setItem("hiddenState",JSON.stringify(U))},b=async P=>{console.log();const R=P.patientId;if(R)try{const U=pt(wt,"patients",R),H=await Ut(U);if(H.exists()){const D=H.data().accept||[],C={accept:"Rejected",doctorName:P.doctorName,doctorLastName:P.doctorLastName,patientId:R};await Ga(U,{accept:[...D,C]}),alert("rejected successfully")}else console.error("patient document does not exist.")}catch(U){console.error("Error updating appointments:",U)}else console.log("no data");const O={...l,[P.patientId]:!l[P.patientId]};c(O),localStorage.setItem("hiddenRejectState",JSON.stringify(O))},N=r==null?void 0:r.filter(P=>P.name.toLowerCase().includes(d.toLowerCase())&&P.reason.toLowerCase().includes(m.toLowerCase())&&P.day.toLowerCase().includes(y.toLowerCase()));return B("div",{className:"bg-gray-50",children:[T("h1",{className:"text-2xl text-center py-5 font-semibold text-[#6b6b6b]",children:"Appoinment"}),B("div",{className:"flex flex-wrap gap-3 justify-center space-x-4 text-center py-5",children:[T("input",{type:"text",placeholder:"Search patient by name",value:d,onChange:P=>h(P.target.value),className:"text-center md:px-10  p-2 border rounded-lg shadow-md"}),T("input",{type:"text",placeholder:"Search patient by Reason",value:m,onChange:P=>g(P.target.value),className:"text-center md:px-10  p-2 border rounded-lg shadow-md"}),T("input",{type:"text",placeholder:"Search patient by days",value:y,onChange:P=>_(P.target.value),className:"text-center md:px-10  p-2 border rounded-lg shadow-md"})]}),B("div",{className:"p-4 max-w-[80%] mx-auto bg-white rounded-xl shadow-md space-y-4",children:[T("div",{className:"text-center",children:T("h2",{className:"text-xl font-semibold",children:"Patient Requests"})}),T("ul",{children:N?N.map((P,R)=>T("li",{children:B("div",{className:"space-y-2 bg-gray-100",children:[B("div",{className:"p-4  rounded-lg flex justify-between items-center",children:[B("div",{children:[T("p",{className:"text-lg font-medium",children:P.name}),B("p",{className:"text-sm text-gray-600",children:["Day: ",P.day]}),B("p",{className:"text-sm text-gray-600",children:["Time: ",P.time]}),B("p",{className:"text-sm text-gray-600",children:["Reason: ",P.reason]})]}),B("div",{className:"space-x-2",children:[T("button",{onClick:()=>S(P,R),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-700",children:"Accept"}),T("button",{onClick:()=>b(P),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-700",children:"Reject"})]})]}),i[R]!==void 0&&i[R]&&T("p",{className:"text-[12px] text-green-500 text-right p-3",children:"Accept "}),l[P.patientId]!==void 0&&l[P.patientId]&&T("p",{className:"text-[12px] text-red-500 text-right p-3",children:"Reject "})]})},R)):T("p",{children:"NO appoinment "})})]})]})},EO=()=>T("div",{children:B("div",{className:"p-6 max-w-sm mx-auto bg-white rounded-xl shadow-md space-y-4",children:[T("h2",{className:"text-xl font-bold",children:"Set Availability"}),B("form",{className:"space-y-4",children:[B("div",{children:[T("label",{className:"block text-sm font-medium text-gray-700",children:"Days"}),T("div",{className:"mt-1 space-y-2",children:B("div",{className:"flex items-center",children:[T("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),T("label",{className:"ml-2 block text-sm text-gray-900",children:"monday"})]})})]}),B("div",{children:[T("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),T("input",{type:"time",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),B("div",{children:[T("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),T("input",{type:"time",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),T("div",{children:T("button",{onClick:e=>{e.preventDefault(),Oe("sorry this feature is not available right now ")},className:"w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Save"})})]})]})}),bO=()=>{const[r,e]=L.useState([]),{accept:t,setAccept:n}=fr();console.log(t.length),L.useEffect(()=>{const c=sl(Bt,d=>{d?i(d.uid):console.log("No user is signed in")});return()=>c()},[]);const i=async c=>{if(c)try{const d=pt(wt,"doctors",c),h=await Ut(d);if(h.exists()){const m=h.data();e(m.appoinment)}else console.log("no data")}catch(d){console.log(d)}},o=localStorage.getItem("patientRecord"),l=o?JSON.parse(o):[];return B("div",{children:[T("h1",{className:"text-3xl font-bold text-gray-800 py-5 text-center",children:"Patient Record"}),T("ul",{className:"space-y-4 px-10",children:l.length>0?l.map((c,d)=>T("li",{className:"bg-white shadow-md rounded-lg p-4 border border-gray-200",children:B("div",{className:"flex flex-col space-y-2",children:[T("h3",{className:"text-xl font-semibold text-gray-800",children:c.name}),B("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-5",children:[B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Age:"}),T("p",{className:"text-sm text-gray-800",children:c.age})]}),B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Gender:"}),T("p",{className:"text-sm text-gray-800",children:c.gender})]}),B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Phone:"}),T("p",{className:"text-sm text-gray-800",children:c.phone})]}),B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Address:"}),T("p",{className:"text-sm text-gray-800",children:c.address})]}),B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Allergies:"}),T("p",{className:"text-sm text-gray-800",children:c.allergies})]}),B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Chronic Conditions:"}),T("p",{className:"text-sm text-gray-800",children:c.chronic})]}),B("div",{className:"mb-4",children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Current Medication:"}),T("p",{className:"text-sm text-gray-800",children:c.medication})]}),c.otherInfo&&B("div",{children:[T("p",{className:"text-sm font-medium text-gray-600",children:"Additional Information:"}),T("p",{className:"text-sm text-gray-800",children:c.otherInfo})]})]})]})},d)):T("p",{children:"No Patient Detail "})})]})},TO=L.createContext(),xO=({children:r})=>{const[e,t]=L.useState([]);return T(TO.Provider,{value:{Appoinment:e,setAppoinment:t},children:r})},SO=()=>T("div",{className:"text-[14px]",children:B("ul",{className:"flex justify-between items-center p-5 bg-blue-500 text-white px-4 sm:px-16",children:[T("li",{children:T(Fn,{to:"/admin",children:"Home"})}),T("li",{children:T(Fn,{to:"/admin/Doctor",children:"Add Doctor"})})]})}),kO=()=>T("div",{children:B("div",{className:"font-poppins",children:[T(SO,{}),T(ky,{})]})});function _e(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function it(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function Nr(r,e){const t=_e(r);return isNaN(e)?it(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Ar(r,e){const t=_e(r);if(isNaN(e))return it(r,NaN);if(!e)return t;const n=t.getDate(),i=it(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function Ly(r,e){const t=+_e(r);return it(r,t+e)}const Wx=6048e5,CO=864e5,mh=6e4,gh=36e5,IO=1e3;function DO(r,e){return Ly(r,e*gh)}let PO={};function zo(){return PO}function $i(r,e){var c,d,h,m;const t=zo(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=_e(r),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Xa(r){return $i(r,{weekStartsOn:1})}function Hx(r){const e=_e(r),t=e.getFullYear(),n=it(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const i=Xa(n),o=it(r,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const l=Xa(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Ao(r){const e=_e(r);return e.setHours(0,0,0,0),e}function Ef(r){const e=_e(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ja(r,e){const t=Ao(r),n=Ao(e),i=+t-Ef(t),o=+n-Ef(n);return Math.round((i-o)/CO)}function NO(r){const e=Hx(r),t=it(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Xa(t)}function kg(r,e){return Ly(r,e*mh)}function Vy(r,e){const t=e*3;return Ar(r,t)}function RO(r,e){return Ly(r,e*1e3)}function bf(r,e){const t=e*7;return Nr(r,t)}function Li(r,e){return Ar(r,e*12)}function oE(r){let e;return r.forEach(function(t){const n=_e(t);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function aE(r){let e;return r.forEach(t=>{const n=_e(t);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function AO(r,e){const t=Ao(r),n=Ao(e);return+t==+n}function Vi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Tf(r){if(!Vi(r)&&typeof r!="number")return!1;const e=_e(r);return!isNaN(Number(e))}function xf(r,e){const t=_e(r),n=_e(e),i=t.getFullYear()-n.getFullYear(),o=t.getMonth()-n.getMonth();return i*12+o}function xo(r){const e=_e(r);return Math.trunc(e.getMonth()/3)+1}function Sf(r,e){const t=_e(r),n=_e(e),i=t.getFullYear()-n.getFullYear(),o=xo(t)-xo(n);return i*4+o}function kf(r,e){const t=_e(r),n=_e(e);return t.getFullYear()-n.getFullYear()}function OO(r,e){const t=_e(r),n=_e(e),i=lE(t,n),o=Math.abs(Ja(t,n));t.setDate(t.getDate()-i*o);const l=+(lE(t,n)===-i),c=i*(o-l);return c===0?0:c}function lE(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function $x(r){const e=_e(r);return e.setHours(23,59,59,999),e}function Yx(r){const e=_e(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Cg(r){const e=_e(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function qx(r){const e=_e(r);return e.setDate(1),e.setHours(0,0,0,0),e}function Kx(r){const e=_e(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function yh(r){const e=_e(r),t=it(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function MO(r,e){var c,d;const t=zo(),n=t.weekStartsOn??((d=(c=t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=_e(r),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const LO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VO=(r,e,t)=>{let n;const i=LO[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Um(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const FO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zO={date:Um({formats:FO,defaultWidth:"full"}),time:Um({formats:UO,defaultWidth:"full"}),dateTime:Um({formats:BO,defaultWidth:"full"})},jO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WO=(r,e,t,n)=>jO[r];function lu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;i=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const HO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$O={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GO=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},XO={ordinalNumber:GO,era:lu({values:HO,defaultWidth:"wide"}),quarter:lu({values:$O,defaultWidth:"wide",argumentCallback:r=>r-1}),month:lu({values:YO,defaultWidth:"wide"}),day:lu({values:qO,defaultWidth:"wide"}),dayPeriod:lu({values:KO,defaultWidth:"wide",formattingValues:QO,defaultFormattingWidth:"wide"})};function uu(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(c)?ZO(c,g=>g.test(l)):JO(c,g=>g.test(l));let h;h=r.valueCallback?r.valueCallback(d):d,h=t.valueCallback?t.valueCallback(h):h;const m=e.slice(l.length);return{value:h,rest:m}}}function JO(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function ZO(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function eM(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const tM=/^(\d+)(th|st|nd|rd)?/i,nM=/\d+/i,rM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iM={any:[/^b/i,/^(a|c)/i]},sM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oM={any:[/1/i,/2/i,/3/i,/4/i]},aM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hM={ordinalNumber:eM({matchPattern:tM,parsePattern:nM,valueCallback:r=>parseInt(r,10)}),era:uu({matchPatterns:rM,defaultMatchWidth:"wide",parsePatterns:iM,defaultParseWidth:"any"}),quarter:uu({matchPatterns:sM,defaultMatchWidth:"wide",parsePatterns:oM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:uu({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:lM,defaultParseWidth:"any"}),day:uu({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:dM,defaultMatchWidth:"any",parsePatterns:fM,defaultParseWidth:"any"})},Qx={code:"en-US",formatDistance:VO,formatLong:zO,formatRelative:WO,localize:XO,match:hM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pM(r){const e=_e(r);return Ja(e,yh(e))+1}function Fy(r){const e=_e(r),t=+Xa(e)-+NO(e);return Math.round(t/Wx)+1}function Uy(r,e){var m,g,y,_;const t=_e(r),n=t.getFullYear(),i=zo(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(y=i.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=it(r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=$i(l,e),d=it(r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=$i(d,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function mM(r,e){var c,d,h,m;const t=zo(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(h=t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Uy(r,e),o=it(r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),$i(o,e)}function Gx(r,e){const t=_e(r),n=+$i(t,e)-+mM(t,e);return Math.round(n/Wx)+1}function rt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const _s={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return rt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):rt(t+1,2)},d(r,e){return rt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return rt(r.getHours()%12||12,e.length)},H(r,e){return rt(r.getHours(),e.length)},m(r,e){return rt(r.getMinutes(),e.length)},s(r,e){return rt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return rt(i,e.length)}},Da={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uE={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return _s.y(r,e)},Y:function(r,e,t,n){const i=Uy(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return rt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):rt(o,e.length)},R:function(r,e){const t=Hx(r);return rt(t,e.length)},u:function(r,e){const t=r.getFullYear();return rt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return rt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return rt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return _s.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return rt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Gx(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):rt(i,e.length)},I:function(r,e,t){const n=Fy(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):rt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):_s.d(r,e)},D:function(r,e,t){const n=pM(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):rt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return rt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return rt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return rt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Da.noon:n===0?i=Da.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Da.evening:n>=12?i=Da.afternoon:n>=4?i=Da.morning:i=Da.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return _s.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):_s.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):rt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):rt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):_s.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):_s.s(r,e)},S:function(r,e){return _s.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return dE(n);case"XXXX":case"XX":return wo(n);case"XXXXX":case"XXX":default:return wo(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return dE(n);case"xxxx":case"xx":return wo(n);case"xxxxx":case"xxx":default:return wo(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cE(n,":");case"OOOO":default:return"GMT"+wo(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cE(n,":");case"zzzz":default:return"GMT"+wo(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return rt(n,e.length)},T:function(r,e,t){const n=r.getTime();return rt(n,e.length)}};function cE(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+rt(o,2)}function dE(r,e){return r%60===0?(r>0?"-":"+")+rt(Math.abs(r)/60,2):wo(r,e)}function wo(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=rt(Math.trunc(n/60),2),o=rt(n%60,2);return t+i+e+o}const fE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Xx=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gM=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return fE(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",fE(n,e)).replace("{{time}}",Xx(i,e))},Cf={p:Xx,P:gM},yM=/^D+$/,vM=/^Y+$/,_M=["D","DD","YY","YYYY"];function Jx(r){return yM.test(r)}function Zx(r){return vM.test(r)}function Ig(r,e,t){const n=wM(r,e,t);if(console.warn(n),_M.includes(r))throw new RangeError(n)}function wM(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TM=/^'([^]*?)'?$/,xM=/''/g,SM=/[a-zA-Z]/;function hE(r,e,t){var m,g,y,_,x,S,b,N;const n=zo(),i=(t==null?void 0:t.locale)??n.locale??Qx,o=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(y=n.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((S=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,c=_e(r);if(!Tf(c))throw new RangeError("Invalid time value");let d=e.match(bM).map(P=>{const R=P[0];if(R==="p"||R==="P"){const O=Cf[R];return O(P,i.formatLong)}return P}).join("").match(EM).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const R=P[0];if(R==="'")return{isToken:!1,value:kM(P)};if(uE[R])return{isToken:!0,value:P};if(R.match(SM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(P=>{if(!P.isToken)return P.value;const R=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Zx(R)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Jx(R))&&Ig(R,e,String(r));const O=uE[R[0]];return O(c,R,i.localize,h)}).join("")}function kM(r){const e=r.match(TM);return e?e[1].replace(xM,"'"):r}function pE(r){return _e(r).getDate()}function CM(r){return _e(r).getDay()}function IM(r){const e=_e(r),t=e.getFullYear(),n=e.getMonth(),i=it(r,0);return i.setFullYear(t,n+1,0),i.setHours(0,0,0,0),i.getDate()}function DM(){return Object.assign({},zo())}function ti(r){return _e(r).getHours()}function PM(r){let t=_e(r).getDay();return t===0&&(t=7),t}function ni(r){return _e(r).getMinutes()}function kn(r){return _e(r).getMonth()}function Fi(r){return _e(r).getSeconds()}function Dg(r){return _e(r).getTime()}function Be(r){return _e(r).getFullYear()}function Vs(r,e){const t=_e(r),n=_e(e);return t.getTime()>n.getTime()}function Oo(r,e){const t=_e(r),n=_e(e);return+t<+n}function NM(r,e){const t=_e(r),n=_e(e);return+t==+n}function RM(r,e){const t=e instanceof Date?it(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}const AM=10;class eS{constructor(){we(this,"subPriority",0)}validate(e,t){return!0}}class OM extends eS{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class MM extends eS{constructor(){super(...arguments);we(this,"priority",AM);we(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:it(t,RM(t,Date))}}class et{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new OM(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class LM extends et{constructor(){super(...arguments);we(this,"priority",140);we(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mt(r,e){return r&&{value:e(r.value),rest:r.rest}}function St(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Kr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*gh+o*mh+l*IO),rest:e.slice(t[0].length)}}function tS(r){return St(Ot.anyDigitsSigned,r)}function Pt(r,e){switch(r){case 1:return St(Ot.singleDigit,e);case 2:return St(Ot.twoDigits,e);case 3:return St(Ot.threeDigits,e);case 4:return St(Ot.fourDigits,e);default:return St(new RegExp("^\\d{1,"+r+"}"),e)}}function If(r,e){switch(r){case 1:return St(Ot.singleDigitSigned,e);case 2:return St(Ot.twoDigitsSigned,e);case 3:return St(Ot.threeDigitsSigned,e);case 4:return St(Ot.fourDigitsSigned,e);default:return St(new RegExp("^-?\\d{1,"+r+"}"),e)}}function By(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function nS(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,c=r>=o%100;i=r+l-(c?100:0)}return t?i:1-i}function rS(r){return r%400===0||r%4===0&&r%100!==0}class VM extends et{constructor(){super(...arguments);we(this,"priority",130);we(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return Mt(Pt(4,t),o);case"yo":return Mt(i.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Pt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const c=nS(i.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class FM extends et{constructor(){super(...arguments);we(this,"priority",130);we(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Mt(Pt(4,t),o);case"Yo":return Mt(i.ordinalNumber(t,{unit:"year"}),o);default:return Mt(Pt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=Uy(t,o);if(i.isTwoDigitYear){const d=nS(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),$i(t,o)}const c=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),$i(t,o)}}class UM extends et{constructor(){super(...arguments);we(this,"priority",130);we(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return If(n==="R"?4:n.length,t)}set(t,n,i){const o=it(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),Xa(o)}}class BM extends et{constructor(){super(...arguments);we(this,"priority",130);we(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return If(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class zM extends et{constructor(){super(...arguments);we(this,"priority",120);we(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return Pt(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class jM extends et{constructor(){super(...arguments);we(this,"priority",120);we(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return Pt(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class WM extends et{constructor(){super(...arguments);we(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);we(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return Mt(St(Ot.month,t),o);case"MM":return Mt(Pt(2,t),o);case"Mo":return Mt(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class HM extends et{constructor(){super(...arguments);we(this,"priority",110);we(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return Mt(St(Ot.month,t),o);case"LL":return Mt(Pt(2,t),o);case"Lo":return Mt(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function $M(r,e,t){const n=_e(r),i=Gx(n,t)-e;return n.setDate(n.getDate()-i*7),n}class YM extends et{constructor(){super(...arguments);we(this,"priority",100);we(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return St(Ot.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Pt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return $i($M(t,i,o),o)}}function qM(r,e){const t=_e(r),n=Fy(t)-e;return t.setDate(t.getDate()-n*7),t}class KM extends et{constructor(){super(...arguments);we(this,"priority",100);we(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return St(Ot.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Pt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return Xa(qM(t,i))}}const QM=[31,28,31,30,31,30,31,31,30,31,30,31],GM=[31,29,31,30,31,30,31,31,30,31,30,31];class XM extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"subPriority",1);we(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return St(Ot.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Pt(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=rS(i),l=t.getMonth();return o?n>=1&&n<=GM[l]:n>=1&&n<=QM[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class JM extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"subpriority",1);we(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return St(Ot.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Pt(n.length,t)}}validate(t,n){const i=t.getFullYear();return rS(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function zy(r,e,t){var g,y,_,x;const n=zo(),i=(t==null?void 0:t.weekStartsOn)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((x=(_=n.locale)==null?void 0:_.options)==null?void 0:x.weekStartsOn)??0,o=_e(r),l=o.getDay(),d=(e%7+7)%7,h=7-i,m=e<0||e>6?e-(l+h)%7:(d+h)%7-(l+h)%7;return Nr(o,m)}class ZM extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=zy(t,i,o),t.setHours(0,0,0,0),t}}class eL extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return Mt(Pt(n.length,t),l);case"eo":return Mt(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=zy(t,i,o),t.setHours(0,0,0,0),t}}class tL extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=c=>{const d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return Mt(Pt(n.length,t),l);case"co":return Mt(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=zy(t,i,o),t.setHours(0,0,0,0),t}}function nL(r,e){const t=_e(r),n=PM(t),i=e-n;return Nr(t,i)}class rL extends et{constructor(){super(...arguments);we(this,"priority",90);we(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return Pt(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Mt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Mt(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Mt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Mt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=nL(t,i),t.setHours(0,0,0,0),t}}class iL extends et{constructor(){super(...arguments);we(this,"priority",80);we(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(By(i),0,0,0),t}}class sL extends et{constructor(){super(...arguments);we(this,"priority",80);we(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(By(i),0,0,0),t}}class oL extends et{constructor(){super(...arguments);we(this,"priority",80);we(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(By(i),0,0,0),t}}class aL extends et{constructor(){super(...arguments);we(this,"priority",70);we(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return St(Ot.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Pt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class lL extends et{constructor(){super(...arguments);we(this,"priority",70);we(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return St(Ot.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Pt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class uL extends et{constructor(){super(...arguments);we(this,"priority",70);we(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return St(Ot.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Pt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class cL extends et{constructor(){super(...arguments);we(this,"priority",70);we(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return St(Ot.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Pt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class dL extends et{constructor(){super(...arguments);we(this,"priority",60);we(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return St(Ot.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Pt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class fL extends et{constructor(){super(...arguments);we(this,"priority",50);we(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return St(Ot.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Pt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class hL extends et{constructor(){super(...arguments);we(this,"priority",30);we(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Mt(Pt(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class pL extends et{constructor(){super(...arguments);we(this,"priority",10);we(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Kr(qr.basicOptionalMinutes,t);case"XX":return Kr(qr.basic,t);case"XXXX":return Kr(qr.basicOptionalSeconds,t);case"XXXXX":return Kr(qr.extendedOptionalSeconds,t);case"XXX":default:return Kr(qr.extended,t)}}set(t,n,i){return n.timestampIsSet?t:it(t,t.getTime()-Ef(t)-i)}}class mL extends et{constructor(){super(...arguments);we(this,"priority",10);we(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Kr(qr.basicOptionalMinutes,t);case"xx":return Kr(qr.basic,t);case"xxxx":return Kr(qr.basicOptionalSeconds,t);case"xxxxx":return Kr(qr.extendedOptionalSeconds,t);case"xxx":default:return Kr(qr.extended,t)}}set(t,n,i){return n.timestampIsSet?t:it(t,t.getTime()-Ef(t)-i)}}class gL extends et{constructor(){super(...arguments);we(this,"priority",40);we(this,"incompatibleTokens","*")}parse(t){return tS(t)}set(t,n,i){return[it(t,i*1e3),{timestampIsSet:!0}]}}class yL extends et{constructor(){super(...arguments);we(this,"priority",20);we(this,"incompatibleTokens","*")}parse(t){return tS(t)}set(t,n,i){return[it(t,i),{timestampIsSet:!0}]}}const vL={G:new LM,y:new VM,Y:new FM,R:new UM,u:new BM,Q:new zM,q:new jM,M:new WM,L:new HM,w:new YM,I:new KM,d:new XM,D:new JM,E:new ZM,e:new eL,c:new tL,i:new rL,a:new iL,b:new sL,B:new oL,h:new aL,H:new lL,K:new uL,k:new cL,m:new dL,s:new fL,S:new hL,X:new pL,x:new mL,t:new gL,T:new yL},_L=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EL=/^'([^]*?)'?$/,bL=/''/g,TL=/\S/,xL=/[a-zA-Z]/;function Bm(r,e,t,n){var S,b,N,P,R,O,U,H;const i=DM(),o=(n==null?void 0:n.locale)??i.locale??Qx,l=(n==null?void 0:n.firstWeekContainsDate)??((b=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((P=(N=i.locale)==null?void 0:N.options)==null?void 0:P.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((O=(R=n==null?void 0:n.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??i.weekStartsOn??((H=(U=i.locale)==null?void 0:U.options)==null?void 0:H.weekStartsOn)??0;if(e==="")return r===""?_e(t):it(t,NaN);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},h=[new MM],m=e.match(wL).map(D=>{const C=D[0];if(C in Cf){const A=Cf[C];return A(D,o.formatLong)}return D}).join("").match(_L),g=[];for(let D of m){!(n!=null&&n.useAdditionalWeekYearTokens)&&Zx(D)&&Ig(D,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Jx(D)&&Ig(D,e,r);const C=D[0],A=vL[C];if(A){const{incompatibleTokens:V}=A;if(Array.isArray(V)){const j=g.find(M=>V.includes(M.token)||M.token===C);if(j)throw new RangeError(`The format string mustn't contain \`${j.fullToken}\` and \`${D}\` at the same time`)}else if(A.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);g.push({token:C,fullToken:D});const z=A.run(r,D,o.match,d);if(!z)return it(t,NaN);h.push(z.setter),r=z.rest}else{if(C.match(xL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(D==="''"?D="'":C==="'"&&(D=SL(D)),r.indexOf(D)===0)r=r.slice(D.length);else return it(t,NaN)}}if(r.length>0&&TL.test(r))return it(t,NaN);const y=h.map(D=>D.priority).sort((D,C)=>C-D).filter((D,C,A)=>A.indexOf(D)===C).map(D=>h.filter(C=>C.priority===D).sort((C,A)=>A.subPriority-C.subPriority)).map(D=>D[0]);let _=_e(t);if(isNaN(_.getTime()))return it(t,NaN);const x={};for(const D of y){if(!D.validate(_,d))return it(t,NaN);const C=D.set(_,x,d);Array.isArray(C)?(_=C[0],Object.assign(x,C[1])):_=C}return it(t,_)}function SL(r){return r.match(EL)[1].replace(bL,"'")}function kL(r,e){const t=_e(r),n=_e(e);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function CL(r,e){const t=Cg(r),n=Cg(e);return+t==+n}function IL(r,e){const t=_e(r),n=_e(e);return t.getFullYear()===n.getFullYear()}function Vu(r,e){const t=+_e(r),[n,i]=[+_e(e.start),+_e(e.end)].sort((o,l)=>o-l);return t>=n&&t<=i}function DL(r,e){return Nr(r,-1)}function PL(r,e){const n=OL(r);let i;if(n.date){const d=ML(n.date,2);i=LL(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let l=0,c;if(n.time&&(l=VL(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(c=FL(n.timezone),isNaN(c))return new Date(NaN)}else{const d=new Date(o+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(o+l+c)}const Pd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},NL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function OL(r){const e={},t=r.split(Pd.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Pd.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Pd.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Pd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function ML(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function LL(r,e){if(e===null)return new Date(NaN);const t=r.match(NL);if(!t)return new Date(NaN);const n=!!t[4],i=cu(t[1]),o=cu(t[2])-1,l=cu(t[3]),c=cu(t[4]),d=cu(t[5])-1;if(n)return WL(e,c,d)?UL(e,c,d):new Date(NaN);{const h=new Date(0);return!zL(e,o,l)||!jL(e,i)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(i,l)),h)}}function cu(r){return r?parseInt(r):1}function VL(r){const e=r.match(RL);if(!e)return NaN;const t=zm(e[1]),n=zm(e[2]),i=zm(e[3]);return HL(t,n,i)?t*gh+n*mh+i*1e3:NaN}function zm(r){return r&&parseFloat(r.replace(",","."))||0}function FL(r){if(r==="Z")return 0;const e=r.match(AL);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return $L(n,i)?t*(n*gh+i*mh):NaN}function UL(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const BL=[31,null,31,30,31,30,31,31,30,31,30,31];function iS(r){return r%400===0||r%4===0&&r%100!==0}function zL(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(BL[e]||(iS(r)?29:28))}function jL(r,e){return e>=1&&e<=(iS(r)?366:365)}function WL(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function HL(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function $L(r,e){return e>=0&&e<=59}function Kn(r,e){const t=_e(r),n=t.getFullYear(),i=t.getDate(),o=it(r,0);o.setFullYear(n,e,15),o.setHours(0,0,0,0);const l=IM(o);return t.setMonth(e,Math.min(i,l)),t}function YL(r,e){let t=_e(r);return isNaN(+t)?it(r,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Kn(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Qd(r,e){const t=_e(r);return t.setHours(e),t}function Gd(r,e){const t=_e(r);return t.setMinutes(e),t}function Oa(r,e){const t=_e(r),n=Math.trunc(t.getMonth()/3)+1,i=e-n;return Kn(t,t.getMonth()+i*3)}function Xd(r,e){const t=_e(r);return t.setSeconds(e),t}function $r(r,e){const t=_e(r);return isNaN(+t)?it(r,NaN):(t.setFullYear(e),t)}function So(r,e){return Ar(r,-e)}function sS(r,e){return Vy(r,-1)}function mE(r,e){return bf(r,-1)}function Za(r,e){return Li(r,-e)}function vh(){return typeof window<"u"}function hl(r){return oS(r)?(r.nodeName||"").toLowerCase():"#document"}function Gn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function fi(r){var e;return(e=(oS(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function oS(r){return vh()?r instanceof Node||r instanceof Gn(r).Node:!1}function Cn(r){return vh()?r instanceof Element||r instanceof Gn(r).Element:!1}function li(r){return vh()?r instanceof HTMLElement||r instanceof Gn(r).HTMLElement:!1}function gE(r){return!vh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Gn(r).ShadowRoot}function nc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=hr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function qL(r){return["table","td","th"].includes(hl(r))}function _h(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function jy(r){const e=Wy(),t=Cn(r)?hr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function KL(r){let e=Fs(r);for(;li(e)&&!el(e);){if(jy(e))return e;if(_h(e))return null;e=Fs(e)}return null}function Wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function el(r){return["html","body","#document"].includes(hl(r))}function hr(r){return Gn(r).getComputedStyle(r)}function wh(r){return Cn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Fs(r){if(hl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||gE(r)&&r.host||fi(r);return gE(e)?e.host:e}function aS(r){const e=Fs(r);return el(e)?r.ownerDocument?r.ownerDocument.body:r.body:li(e)&&nc(e)?e:aS(e)}function Fu(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=aS(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=Gn(i);if(o){const c=Pg(l);return e.concat(l,l.visualViewport||[],nc(i)?i:[],c&&t?Fu(c):[])}return e.concat(i,Fu(i,[],t))}function Pg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const tl=Math.min,ko=Math.max,Df=Math.round,Nd=Math.floor,ri=r=>({x:r,y:r}),QL={left:"right",right:"left",bottom:"top",top:"bottom"},GL={start:"end",end:"start"};function XL(r,e,t){return ko(r,tl(e,t))}function Eh(r,e){return typeof r=="function"?r(e):r}function nl(r){return r.split("-")[0]}function rc(r){return r.split("-")[1]}function JL(r){return r==="x"?"y":"x"}function Hy(r){return r==="y"?"height":"width"}function Uu(r){return["top","bottom"].includes(nl(r))?"y":"x"}function $y(r){return JL(Uu(r))}function ZL(r,e,t){t===void 0&&(t=!1);const n=rc(r),i=$y(r),o=Hy(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Pf(l)),[l,Pf(l)]}function e4(r){const e=Pf(r);return[Ng(r),e,Ng(e)]}function Ng(r){return r.replace(/start|end/g,e=>GL[e])}function t4(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function n4(r,e,t,n){const i=rc(r);let o=t4(nl(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Ng)))),o}function Pf(r){return r.replace(/left|right|bottom|top/g,e=>QL[e])}function r4(r){return{top:0,right:0,bottom:0,left:0,...r}}function lS(r){return typeof r!="number"?r4(r):{top:r,right:r,bottom:r,left:r}}function Nf(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function yE(r,e,t){let{reference:n,floating:i}=r;const o=Uu(e),l=$y(e),c=Hy(l),d=nl(e),h=o==="y",m=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y=n[c]/2-i[c]/2;let _;switch(d){case"top":_={x:m,y:n.y-i.height};break;case"bottom":_={x:m,y:n.y+n.height};break;case"right":_={x:n.x+n.width,y:g};break;case"left":_={x:n.x-i.width,y:g};break;default:_={x:n.x,y:n.y}}switch(rc(e)){case"start":_[l]-=y*(t&&h?-1:1);break;case"end":_[l]+=y*(t&&h?-1:1);break}return _}const i4=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y:g}=yE(h,n,d),y=n,_={},x=0;for(let S=0;S<c.length;S++){const{name:b,fn:N}=c[S],{x:P,y:R,data:O,reset:U}=await N({x:m,y:g,initialPlacement:n,placement:y,strategy:i,middlewareData:_,rects:h,platform:l,elements:{reference:r,floating:e}});m=P??m,g=R??g,_={..._,[b]:{..._[b],...O}},U&&x<=50&&(x++,typeof U=="object"&&(U.placement&&(y=U.placement),U.rects&&(h=U.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):U.rects),{x:m,y:g}=yE(h,y,d)),S=-1)}return{x:m,y:g,placement:y,strategy:i,middlewareData:_}};async function s4(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:c,strategy:d}=r,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:_=0}=Eh(e,r),x=lS(_),b=c[y?g==="floating"?"reference":"floating":g],N=Nf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(b)))==null||t?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),P=g==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),O=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},U=Nf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:R,strategy:d}):P);return{top:(N.top-U.top+x.top)/O.y,bottom:(U.bottom-N.bottom+x.bottom)/O.y,left:(N.left-U.left+x.left)/O.x,right:(U.right-N.right+x.right)/O.x}}const o4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=Eh(r,e)||{};if(h==null)return{};const g=lS(m),y={x:t,y:n},_=$y(i),x=Hy(_),S=await l.getDimensions(h),b=_==="y",N=b?"top":"left",P=b?"bottom":"right",R=b?"clientHeight":"clientWidth",O=o.reference[x]+o.reference[_]-y[_]-o.floating[x],U=y[_]-o.reference[_],H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=H?H[R]:0;(!D||!await(l.isElement==null?void 0:l.isElement(H)))&&(D=c.floating[R]||o.floating[x]);const C=O/2-U/2,A=D/2-S[x]/2-1,V=tl(g[N],A),z=tl(g[P],A),j=V,M=D-S[x]-z,ae=D/2-S[x]/2+C,te=XL(j,ae,M),pe=!d.arrow&&rc(i)!=null&&ae!==te&&o.reference[x]/2-(ae<j?V:z)-S[x]/2<0,le=pe?ae<j?ae-j:ae-M:0;return{[_]:y[_]+le,data:{[_]:te,centerOffset:ae-te-le,...pe&&{alignmentOffset:le}},reset:pe}}}),a4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...b}=Eh(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=nl(i),P=Uu(c),R=nl(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(h.floating)),U=y||(R||!S?[Pf(c)]:e4(c)),H=x!=="none";!y&&H&&U.push(...n4(c,S,x,O));const D=[c,...U],C=await s4(e,b),A=[];let V=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&A.push(C[N]),g){const ae=ZL(i,l,O);A.push(C[ae[0]],C[ae[1]])}if(V=[...V,{placement:i,overflows:A}],!A.every(ae=>ae<=0)){var z,j;const ae=(((z=o.flip)==null?void 0:z.index)||0)+1,te=D[ae];if(te)return{data:{index:ae,overflows:V},reset:{placement:te}};let pe=(j=V.filter(le=>le.overflows[0]<=0).sort((le,Z)=>le.overflows[1]-Z.overflows[1])[0])==null?void 0:j.placement;if(!pe)switch(_){case"bestFit":{var M;const le=(M=V.filter(Z=>{if(H){const fe=Uu(Z.placement);return fe===P||fe==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(fe=>fe>0).reduce((fe,ie)=>fe+ie,0)]).sort((Z,fe)=>Z[1]-fe[1])[0])==null?void 0:M[0];le&&(pe=le);break}case"initialPlacement":pe=c;break}if(i!==pe)return{reset:{placement:pe}}}return{}}}};async function l4(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=nl(t),c=rc(t),d=Uu(t)==="y",h=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,g=Eh(e,r);let{mainAxis:y,crossAxis:_,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof x=="number"&&(_=c==="end"?x*-1:x),d?{x:_*m,y:y*h}:{x:y*h,y:_*m}}const u4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await l4(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function uS(r){const e=hr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=li(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,c=Df(t)!==o||Df(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function Yy(r){return Cn(r)?r:r.contextElement}function Ba(r){const e=Yy(r);if(!li(e))return ri(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=uS(e);let l=(o?Df(t.width):t.width)/n,c=(o?Df(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const c4=ri(0);function cS(r){const e=Gn(r);return!Wy()||!e.visualViewport?c4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function d4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gn(r)?!1:e}function Mo(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=Yy(r);let l=ri(1);e&&(n?Cn(n)&&(l=Ba(n)):l=Ba(r));const c=d4(o,t,n)?cS(o):ri(0);let d=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(o){const y=Gn(o),_=n&&Cn(n)?Gn(n):n;let x=y,S=Pg(x);for(;S&&n&&_!==x;){const b=Ba(S),N=S.getBoundingClientRect(),P=hr(S),R=N.left+(S.clientLeft+parseFloat(P.paddingLeft))*b.x,O=N.top+(S.clientTop+parseFloat(P.paddingTop))*b.y;d*=b.x,h*=b.y,m*=b.x,g*=b.y,d+=R,h+=O,x=Gn(S),S=Pg(x)}}return Nf({width:m,height:g,x:d,y:h})}function qy(r,e){const t=wh(r).scrollLeft;return e?e.left+t:Mo(fi(r)).left+t}function dS(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:qy(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function f4(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=fi(n),c=e?_h(e.floating):!1;if(n===l||c&&o)return t;let d={scrollLeft:0,scrollTop:0},h=ri(1);const m=ri(0),g=li(n);if((g||!g&&!o)&&((hl(n)!=="body"||nc(l))&&(d=wh(n)),li(n))){const _=Mo(n);h=Ba(n),m.x=_.x+n.clientLeft,m.y=_.y+n.clientTop}const y=l&&!g&&!o?dS(l,d,!0):ri(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-d.scrollLeft*h.x+m.x+y.x,y:t.y*h.y-d.scrollTop*h.y+m.y+y.y}}function h4(r){return Array.from(r.getClientRects())}function p4(r){const e=fi(r),t=wh(r),n=r.ownerDocument.body,i=ko(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=ko(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+qy(r);const c=-t.scrollTop;return hr(n).direction==="rtl"&&(l+=ko(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:c}}function m4(r,e){const t=Gn(r),n=fi(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const h=Wy();(!h||h&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function g4(r,e){const t=Mo(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=li(r)?Ba(r):ri(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,d=i*o.x,h=n*o.y;return{width:l,height:c,x:d,y:h}}function vE(r,e,t){let n;if(e==="viewport")n=m4(r,t);else if(e==="document")n=p4(fi(r));else if(Cn(e))n=g4(e,t);else{const i=cS(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nf(n)}function fS(r,e){const t=Fs(r);return t===e||!Cn(t)||el(t)?!1:hr(t).position==="fixed"||fS(t,e)}function y4(r,e){const t=e.get(r);if(t)return t;let n=Fu(r,[],!1).filter(c=>Cn(c)&&hl(c)!=="body"),i=null;const o=hr(r).position==="fixed";let l=o?Fs(r):r;for(;Cn(l)&&!el(l);){const c=hr(l),d=jy(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nc(l)&&!d&&fS(r,l))?n=n.filter(m=>m!==l):i=c,l=Fs(l)}return e.set(r,n),n}function v4(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?_h(e)?[]:y4(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((h,m)=>{const g=vE(e,m,i);return h.top=ko(g.top,h.top),h.right=tl(g.right,h.right),h.bottom=tl(g.bottom,h.bottom),h.left=ko(g.left,h.left),h},vE(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _4(r){const{width:e,height:t}=uS(r);return{width:e,height:t}}function w4(r,e,t){const n=li(e),i=fi(e),o=t==="fixed",l=Mo(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=ri(0);if(n||!n&&!o)if((hl(e)!=="body"||nc(i))&&(c=wh(e)),n){const y=Mo(e,!0,o,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else i&&(d.x=qy(i));const h=i&&!n&&!o?dS(i,c):ri(0),m=l.left+c.scrollLeft-d.x-h.x,g=l.top+c.scrollTop-d.y-h.y;return{x:m,y:g,width:l.width,height:l.height}}function jm(r){return hr(r).position==="static"}function _E(r,e){if(!li(r)||hr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return fi(r)===t&&(t=t.ownerDocument.body),t}function hS(r,e){const t=Gn(r);if(_h(r))return t;if(!li(r)){let i=Fs(r);for(;i&&!el(i);){if(Cn(i)&&!jm(i))return i;i=Fs(i)}return t}let n=_E(r,e);for(;n&&qL(n)&&jm(n);)n=_E(n,e);return n&&el(n)&&jm(n)&&!jy(n)?t:n||KL(r)||t}const E4=async function(r){const e=this.getOffsetParent||hS,t=this.getDimensions,n=await t(r.floating);return{reference:w4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function b4(r){return hr(r).direction==="rtl"}const T4={convertOffsetParentRelativeRectToViewportRelativeRect:f4,getDocumentElement:fi,getClippingRect:v4,getOffsetParent:hS,getElementRects:E4,getClientRects:h4,getDimensions:_4,getScale:Ba,isElement:Cn,isRTL:b4};function pS(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function x4(r,e){let t=null,n;const i=fi(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=r.getBoundingClientRect(),{left:m,top:g,width:y,height:_}=h;if(c||e(),!y||!_)return;const x=Nd(g),S=Nd(i.clientWidth-(m+y)),b=Nd(i.clientHeight-(g+_)),N=Nd(m),R={rootMargin:-x+"px "+-S+"px "+-b+"px "+-N+"px",threshold:ko(0,tl(1,d))||1};let O=!0;function U(H){const D=H[0].intersectionRatio;if(D!==d){if(!O)return l();D?l(!1,D):n=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!pS(h,r.getBoundingClientRect())&&l(),O=!1}try{t=new IntersectionObserver(U,{...R,root:i.ownerDocument})}catch{t=new IntersectionObserver(U,R)}t.observe(r)}return l(!0),o}function S4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=Yy(r),m=i||o?[...h?Fu(h):[],...Fu(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const g=h&&c?x4(h,t):null;let y=-1,_=null;l&&(_=new ResizeObserver(N=>{let[P]=N;P&&P.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(e)})),t()}),h&&!d&&_.observe(h),_.observe(e));let x,S=d?Mo(r):null;d&&b();function b(){const N=Mo(r);S&&!pS(S,N)&&t(),S=N,x=requestAnimationFrame(b)}return t(),()=>{var N;m.forEach(P=>{i&&P.removeEventListener("scroll",t),o&&P.removeEventListener("resize",t)}),g==null||g(),(N=_)==null||N.disconnect(),_=null,d&&cancelAnimationFrame(x)}}const k4=u4,C4=a4,wE=o4,I4=(r,e,t)=>{const n=new Map,i={platform:T4,...t},o={...i.platform,_c:n};return i4(r,e,{...i,platform:o})};var Jd=typeof document<"u"?L.useLayoutEffect:L.useEffect;function Rf(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Rf(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!Rf(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function mS(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function EE(r,e){const t=mS(r);return Math.round(e*t)/t}function Wm(r){const e=L.useRef(r);return Jd(()=>{e.current=r}),e}function D4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=r,[m,g]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=L.useState(n);Rf(y,n)||_(n);const[x,S]=L.useState(null),[b,N]=L.useState(null),P=L.useCallback(Z=>{Z!==H.current&&(H.current=Z,S(Z))},[]),R=L.useCallback(Z=>{Z!==D.current&&(D.current=Z,N(Z))},[]),O=o||x,U=l||b,H=L.useRef(null),D=L.useRef(null),C=L.useRef(m),A=d!=null,V=Wm(d),z=Wm(i),j=Wm(h),M=L.useCallback(()=>{if(!H.current||!D.current)return;const Z={placement:e,strategy:t,middleware:y};z.current&&(Z.platform=z.current),I4(H.current,D.current,Z).then(fe=>{const ie={...fe,isPositioned:j.current!==!1};ae.current&&!Rf(C.current,ie)&&(C.current=ie,Dx.flushSync(()=>{g(ie)}))})},[y,e,t,z,j]);Jd(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(Z=>({...Z,isPositioned:!1})))},[h]);const ae=L.useRef(!1);Jd(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Jd(()=>{if(O&&(H.current=O),U&&(D.current=U),O&&U){if(V.current)return V.current(O,U,M);M()}},[O,U,M,V,A]);const te=L.useMemo(()=>({reference:H,floating:D,setReference:P,setFloating:R}),[P,R]),pe=L.useMemo(()=>({reference:O,floating:U}),[O,U]),le=L.useMemo(()=>{const Z={position:t,left:0,top:0};if(!pe.floating)return Z;const fe=EE(pe.floating,m.x),ie=EE(pe.floating,m.y);return c?{...Z,transform:"translate("+fe+"px, "+ie+"px)",...mS(pe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:ie}},[t,c,pe.floating,m.x,m.y]);return L.useMemo(()=>({...m,update:M,refs:te,elements:pe,floatingStyles:le}),[m,M,te,pe,le])}const P4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?wE({element:n.current,padding:i}).fn(t):{}:n?wE({element:n,padding:i}).fn(t):{}}}},N4=(r,e)=>({...k4(r),options:[r,e]}),R4=(r,e)=>({...C4(r),options:[r,e]}),A4=(r,e)=>({...P4(r),options:[r,e]}),gS={...L1},O4=gS.useInsertionEffect,M4=O4||(r=>r());function L4(r){const e=L.useRef(()=>{});return M4(()=>{e.current=r}),L.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Af=typeof document<"u"?L.useLayoutEffect:L.useEffect;let bE=!1,V4=0;const TE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+V4++;function F4(){const[r,e]=L.useState(()=>bE?TE():void 0);return Af(()=>{r==null&&e(TE())},[]),L.useEffect(()=>{bE=!0},[]),r}const U4=gS.useId,yS=U4||F4,B4=L.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:c=14,height:d=7,tipRadius:h=0,strokeWidth:m=0,staticOffset:g,stroke:y,d:_,style:{transform:x,...S}={},...b}=e,N=yS(),[P,R]=L.useState(!1);if(Af(()=>{if(!i)return;hr(i).direction==="rtl"&&R(!0)},[i]),!i)return null;const[O,U]=n.split("-"),H=O==="top"||O==="bottom";let D=g;(H&&l!=null&&l.x||!H&&l!=null&&l.y)&&(D=null);const C=m*2,A=C/2,V=c/2*(h/-8+1),z=d/2*h/4,j=!!_,M=D&&U==="end"?"bottom":"top";let ae=D&&U==="end"?"right":"left";D&&P&&(ae=U==="end"?"left":"right");const te=(o==null?void 0:o.x)!=null?D||o.x:"",pe=(o==null?void 0:o.y)!=null?D||o.y:"",le=_||"M0,0"+(" H"+c)+(" L"+(c-V)+","+(d-z))+(" Q"+c/2+","+d+" "+V+","+(d-z))+" Z",Z={top:j?"rotate(180deg)":"",left:j?"rotate(90deg)":"rotate(-90deg)",bottom:j?"":"rotate(180deg)",right:j?"rotate(-90deg)":"rotate(90deg)"}[O];return B("svg",{...b,"aria-hidden":!0,ref:t,width:j?c:c+C,height:c,viewBox:"0 0 "+c+" "+(d>c?d:c),style:{position:"absolute",pointerEvents:"none",[ae]:te,[M]:pe,[O]:H||j?"100%":"calc(100% - "+C/2+"px)",transform:[Z,x].filter(fe=>!!fe).join(" "),...S},children:[C>0&&T("path",{clipPath:"url(#"+N+")",fill:"none",stroke:y,strokeWidth:C+(_?0:1),d:le}),T("path",{stroke:C&&!_?b.fill:"none",d:le}),T("clipPath",{id:N,children:T("rect",{x:-A,y:A*(j?-1:1),width:c+C,height:c})})]})});function z4(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){var n;r.set(e,((n=r.get(e))==null?void 0:n.filter(i=>i!==t))||[])}}}const j4=L.createContext(null),W4=L.createContext(null),H4=()=>{var r;return((r=L.useContext(j4))==null?void 0:r.id)||null},$4=()=>L.useContext(W4);function Y4(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=yS(),o=L.useRef({}),[l]=L.useState(()=>z4()),c=H4()!=null,[d,h]=L.useState(n.reference),m=L4((_,x,S)=>{o.current.openEvent=_?x:void 0,l.emit("openchange",{open:_,event:x,reason:S,nested:c}),t==null||t(_,x,S)}),g=L.useMemo(()=>({setPositionReference:h}),[]),y=L.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return L.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:y,events:l,floatingId:i,refs:g}),[e,m,y,l,i,g])}function q4(r){r===void 0&&(r={});const{nodeId:e}=r,t=Y4({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=L.useState(null),[c,d]=L.useState(null),m=(i==null?void 0:i.domReference)||o,g=L.useRef(null),y=$4();Af(()=>{m&&(g.current=m)},[m]);const _=D4({...r,elements:{...i,...c&&{reference:c}}}),x=L.useCallback(R=>{const O=Cn(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;d(O),_.refs.setReference(O)},[_.refs]),S=L.useCallback(R=>{(Cn(R)||R===null)&&(g.current=R,l(R)),(Cn(_.refs.reference.current)||_.refs.reference.current===null||R!==null&&!Cn(R))&&_.refs.setReference(R)},[_.refs]),b=L.useMemo(()=>({..._.refs,setReference:S,setPositionReference:x,domReference:g}),[_.refs,S,x]),N=L.useMemo(()=>({..._.elements,domReference:m}),[_.elements,m]),P=L.useMemo(()=>({..._,...n,refs:b,elements:N,nodeId:e}),[_,b,N,e,n]);return Af(()=>{n.dataRef.current.floatingContext=P;const R=y==null?void 0:y.nodesRef.current.find(O=>O.id===e);R&&(R.context=P)}),L.useMemo(()=>({..._,context:P,refs:b,elements:N}),[_,b,N,P])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Rg=function(e,t){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Rg(e,t)};function nn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Xe.apply(this,arguments)};function Gr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var K4=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,c=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return X.createElement("div",{className:o,role:"dialog","aria-label":c,"aria-modal":"true"},l)},Q4=function(r,e){var t=L.useRef(null),n=L.useRef(r);n.current=r;var i=L.useCallback(function(o){var l;t.current&&!t.current.contains(o.target)&&(e&&o.target instanceof HTMLElement&&o.target.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return L.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},bh=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,c=Q4(t,l);return X.createElement("div",{className:n,style:o,ref:function(d){c.current=d,i&&(i.current=d)}},e)},ge;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ge||(ge={}));function vS(){var r=typeof window<"u"?window:globalThis;return r}var ic=12,G4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function st(r){if(r==null)return new Date;var e=typeof r=="string"?PL(r):_e(r);return Di(e)?e:new Date}function Hm(r,e,t,n,i){var o,l=null,c=Co(t)||Co(Su()),d=!0;if(Array.isArray(e))return e.forEach(function(m){var g=Bm(r,m,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=Di(g,i)&&r===ht(g,m,t)),Di(g,i)&&d&&(l=g)}),l;if(l=Bm(r,e,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=Di(l)&&r===ht(l,e,t);else if(!Di(l)){var h=((o=e.match(G4))!==null&&o!==void 0?o:[]).map(function(m){var g=m[0];if(g==="p"||g==="P"){var y=Cf[g];return c?y(m,c.formatLong):g}return m}).join("");r.length>0&&(l=Bm(r,h.slice(0,r.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Di(l)||(l=new Date(r))}return Di(l)&&d?l:null}function Di(r,e){return Tf(r)&&!Oo(r,e??new Date("1/1/1800"))}function ht(r,e,t){if(t==="en")return hE(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Co(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&Su()&&Co(Su())&&(n=Co(Su())),hE(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cr(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&ht(r,i,n)||""}function X4(r,e,t){if(!r)return"";var n=cr(r,t),i=e?cr(e,t):"";return"".concat(n," - ").concat(i)}function J4(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?cr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=cr(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function $m(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,c=l===void 0?0:l;return Qd(Gd(Xd(r,c),o),n)}function Z4(r){return Fy(r)}function eV(r,e){return ht(r,"ddd",e)}function Zd(r){return Ao(r)}function Ps(r,e,t){var n=Co(e||Su());return $i(r,{locale:n,weekStartsOn:t})}function Ui(r){return qx(r)}function vu(r){return yh(r)}function xE(r){return Cg(r)}function SE(){return Ao(st())}function kE(r){return $x(r)}function tV(r){return MO(r)}function nV(r){return Yx(r)}function Yr(r,e){return r&&e?IL(r,e):!r&&!e}function xn(r,e){return r&&e?kL(r,e):!r&&!e}function Of(r,e){return r&&e?CL(r,e):!r&&!e}function Qe(r,e){return r&&e?AO(r,e):!r&&!e}function bo(r,e){return r&&e?NM(r,e):!r&&!e}function _u(r,e,t){var n,i=Ao(e),o=$x(t);try{n=Vu(r,{start:i,end:o})}catch{n=!1}return n}function Su(){var r=vS();return r.__localeId__}function Co(r){if(typeof r=="string"){var e=vS();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function rV(r,e,t){return e(ht(r,"EEEE",t))}function iV(r,e){return ht(r,"EEEEEE",e)}function sV(r,e){return ht(r,"EEE",e)}function Ky(r,e){return ht(Kn(st(),r),"LLLL",e)}function _S(r,e){return ht(Kn(st(),r),"LLL",e)}function oV(r,e){return ht(Oa(st(),r),"QQQ",e)}function dr(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,c=t.includeDates,d=t.includeDateIntervals,h=t.filterDate;return sc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Qe(r,m):Qe(r,m.date)})||l&&l.some(function(m){var g=m.start,y=m.end;return Vu(r,{start:g,end:y})})||c&&!c.some(function(m){return Qe(r,m)})||d&&!d.some(function(m){var g=m.start,y=m.end;return Vu(r,{start:g,end:y})})||h&&!h(st(r))||!1}function Qy(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,c=o.end;return Vu(r,{start:l,end:c})}):n&&n.some(function(o){var l;return o instanceof Date?Qe(r,o):Qe(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function wS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return sc(r,{minDate:n?qx(n):void 0,maxDate:i?Yx(i):void 0})||(o==null?void 0:o.some(function(d){return xn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return xn(r,d)})||c&&!c(st(r))||!1}function Rd(r,e,t,n){var i=Be(r),o=kn(r),l=Be(e),c=kn(e),d=Be(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function aV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return sc(r,{minDate:n,maxDate:i})||o&&o.some(function(c){return xn(c instanceof Date?c:c.date,r)})||l&&!l.some(function(c){return xn(c,r)})||!1}function Ad(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate;return sc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return Of(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Of(r,d)})||c&&!c(st(r))||!1}function Od(r,e,t){if(!e||!t||!Tf(e)||!Tf(t))return!1;var n=Be(e),i=Be(t);return n<=r&&i>=r}function ef(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,c=t.filterDate,d=new Date(r,0,1);return sc(d,{minDate:n?yh(n):void 0,maxDate:i?Kx(i):void 0})||(o==null?void 0:o.some(function(h){return Yr(d,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Yr(d,h)})||c&&!c(st(d))||!1}function Md(r,e,t,n){var i=Be(r),o=xo(r),l=Be(e),c=xo(e),d=Be(n);return i===l&&i===d?o<=t&&t<=c:i<l?d===i&&o<=t||d===l&&c>=t||d<l&&d>i:!1}function sc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&Ja(r,i)<0||o&&Ja(r,o)>0)!==null&&t!==void 0?t:!1}function CE(r,e){return e.some(function(t){return ti(t)===ti(r)&&ni(t)===ni(r)&&Fi(t)===Fi(r)})}function IE(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&CE(r,n)||i&&!CE(r,i)||o&&!o(r)||!1}function DE(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=st();i=Qd(i,ti(r)),i=Gd(i,ni(r)),i=Xd(i,Fi(r));var o=st();o=Qd(o,ti(t)),o=Gd(o,ni(t)),o=Xd(o,Fi(t));var l=st();l=Qd(l,ti(n)),l=Gd(l,ni(n)),l=Xd(l,Fi(n));var c;try{c=!Vu(i,{start:o,end:l})}catch{c=!1}return c}function PE(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=So(r,1);return n&&xf(n,o)>0||i&&i.every(function(l){return xf(l,o)>0})||!1}function NE(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ar(r,1);return n&&xf(o,n)>0||i&&i.every(function(l){return xf(o,l)>0})||!1}function lV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=yh(r),l=sS(o);return n&&Sf(n,l)>0||i&&i.every(function(c){return Sf(c,l)>0})||!1}function uV(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Kx(r),l=Vy(o,1);return n&&Sf(l,n)>0||i&&i.every(function(c){return Sf(l,c)>0})||!1}function RE(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Za(r,1);return n&&kf(n,o)>0||i&&i.every(function(l){return kf(l,o)>0})||!1}function cV(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?ic:i,l=vu(Za(r,o)),c=Ss(l,o).endPeriod,d=n&&Be(n);return d&&d>c||!1}function AE(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Li(r,1);return n&&kf(o,n)>0||i&&i.every(function(l){return kf(o,l)>0})||!1}function dV(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?ic:i,l=Li(r,o),c=Ss(l,o).startPeriod,d=n&&Be(n);return d&&d<c||!1}function ES(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Ja(i,e)>=0});return aE(n)}else return t?aE(t):e}function bS(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Ja(i,e)<=0});return oE(n)}else return t?oE(t):e}function OE(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(Vi(l)){var c=ht(l,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(e)||(d.push(e),n.set(c,d))}else if(typeof l=="object"){var h=Object.keys(l),m=(t=h[0])!==null&&t!==void 0?t:"",g=l[m];if(typeof m=="string"&&Array.isArray(g))for(var y=0,_=g.length;y<_;y++){var x=g[y];if(x){var c=ht(x,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(m)||(d.push(m),n.set(c,d))}}}}return n}function fV(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function hV(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(Vi(i)){var l=ht(i,"MM.dd.yyyy"),c=t.get(l)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&fV(c.holidayNames,[o]))){c.className=e;var d=c.holidayNames;c.holidayNames=d?Gr(Gr([],d,!0),[o],!1):[o],t.set(l,c)}}}),t}function pV(r,e,t,n,i){for(var o=i.length,l=[],c=0;c<o;c++){var d=r,h=i[c];h&&(d=DO(d,ti(h)),d=kg(d,ni(h)),d=RO(d,Fi(h)));var m=kg(r,(t+1)*n);Vs(d,e)&&Oo(d,m)&&h!=null&&l.push(h)}return l}function ME(r){return r<10?"0".concat(r):"".concat(r)}function Ss(r,e){e===void 0&&(e=ic);var t=Math.ceil(Be(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function mV(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function LE(r){var e=r.getSeconds(),t=r.getMilliseconds();return _e(r.getTime()-e*1e3-t)}function gV(r,e){return LE(r).getTime()===LE(e).getTime()}function VE(r){if(!Vi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function FE(r,e){if(!Vi(r)||!Vi(e))throw new Error("Invalid date received");var t=VE(r),n=VE(e);return Oo(t,n)}function TS(r){return r.key===ge.Space}var yV=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=X.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),h=d?c:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),g=m[0],y=m[1];h.setHours(Number(g)),h.setMinutes(Number(y))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,h)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,c=o.timeString,d=o.customTimeInput;return d?L.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):X.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var h;(h=n.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:i,onChange:function(h){n.onTimeChange(h.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return X.createElement("div",{className:"react-datepicker__input-time-container"},X.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),X.createElement("div",{className:"react-datepicker-time__input-container"},X.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(L.Component),vV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return Qy(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Ps(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Ps(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=ht(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var c=ht(o,"MM.dd.yyyy");return l.has(c)?[(n=l.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:_u(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.selectsDisabledDaysInRange,m=i.startDate,g=i.endDate,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||c||d)||!y||!h&&t.isDisabled()?!1:l&&g&&(Oo(y,g)||bo(y,g))?_u(o,y,g):c&&m&&(Vs(y,m)||bo(y,m))||d&&m&&!g&&(Vs(y,m)||bo(y,m))?_u(o,m,y):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,c=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(o,d):Qe(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||d?Qe(o,h):Qe(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Qe(l,i)},t.isWeekend=function(){var n=CM(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===kn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(kn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(st())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return _t("react-datepicker__day",i,"react-datepicker__day--"+eV(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,h=t.isDisabled()||t.isExcluded()?d:l;return"".concat(h," ").concat(ht(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,c=n.excludeDates,d=ht(i,"MM.dd.yyyy"),h=[];return l.has(d)&&h.push.apply(h,l.get(d).holidayNames),t.isExcluded()&&h.push(c==null?void 0:c.filter(function(m){return m instanceof Date?Qe(m,i):Qe(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),h.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(pE(t.props.day),t.props.day):pE(t.props.day)},t.render=function(){return X.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&X.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(L.Component),_V=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,c=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!i,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return X.createElement("div",{ref:this.weekNumberEl,className:_t(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(L.Component),wV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,c,d,h=new Date(n),m=0;m<7;m++){var g=new Date(n);g.setDate(g.getDate()+m);var y=!t.isDisabled(g);if(y){h=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,i,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(c=t.props).setOpen)===null||d===void 0||d.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):Z4(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=Nr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=Nr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(X.createElement(_V,Xe({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(c){var d=Nr(n,c);return X.createElement(vV,Xe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Ps(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return X.createElement("div",{className:_t(t)},this.renderDays())},e}(L.Component),du,EV=6,za={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ym=(du={},du[za.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},du[za.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},du[za.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},du),Ld=1;function UE(r,e){return r?za.FOUR_COLUMNS:e?za.TWO_COLUMNS:za.THREE_COLUMNS}var bV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Gr([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Gr([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(n){return dr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return Qy(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:xn(Kn(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Of(Oa(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:xn(Kn(o,n),c)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate;return!l||!c?!1:Of(Oa(o,n),c)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,m=o.startDate,g=o.endDate,y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||h)||!y?!1:c&&g?Rd(y,g,n,l):d&&m||h&&m&&!g?Rd(m,y,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.startDate,d=o.selectsStart,h=Kn(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?xn(h,m):xn(h,c)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,c=o.endDate,d=o.selectsEnd,h=o.selectsRange,m=Kn(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||h?xn(m,g):xn(m,c)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,c=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,m=o.startDate,g=o.endDate,y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(c||d||h)||!y?!1:c&&g?Md(y,g,n,l):d&&m||h&&m&&!g?Md(m,y,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=Nr(n,6);return xn(n,i)||xn(o,i)},t.isCurrentMonth=function(n,i){return Be(n)===Be(st())&&i===kn(st())},t.isCurrentQuarter=function(n,i){return Be(n)===Be(st())&&i===xo(st())},t.isSelectedMonth=function(n,i,o){return kn(o)===i&&Be(n)===Be(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return xo(n)===i&&Be(n)===Be(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,c=Ps(Ui(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(x){return t.props.showWeekPicker?Ps(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(x){return t.props.showWeekPicker?Ps(x,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?h(t.props.selected):void 0,g=t.props.preSelection?d(t.props.preSelection):void 0;n.push(X.createElement(wV,Xe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:c,month:kn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,c=bf(c,1);var y=i&&o>=EV,_=!i&&!t.isWeekInMonth(c);if(y||_)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,c=o.labelDate;l||t.handleDayClick(Ui(c),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(Ui(l))},t.handleMonthNavigation=function(n,i){var o,l,c,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,c=t.props,d=c.selected,h=c.preSelection,m=c.setPreSelection,g=c.minDate,y=c.maxDate,_=c.showFourColumnMonthYearPicker,x=c.showTwoColumnMonthYearPicker;if(h){var S=UE(_,x),b=t.getVerticalOffset(S),N=(l=Ym[S])===null||l===void 0?void 0:l.grid,P=function(D,C,A){var V,z,j=C,M=A;switch(D){case ge.ArrowRight:j=Ar(C,Ld),M=A===11?0:A+Ld;break;case ge.ArrowLeft:j=So(C,Ld),M=A===0?11:A-Ld;break;case ge.ArrowUp:j=So(C,b),M=!((V=N==null?void 0:N[0])===null||V===void 0)&&V.includes(A)?A+12-b:A-b;break;case ge.ArrowDown:j=Ar(C,b),M=!((z=N==null?void 0:N[N.length-1])===null||z===void 0)&&z.includes(A)?A-12+b:A+b;break}return{newCalculatedDate:j,newCalculatedMonth:M}},R=function(D,C,A){for(var V=40,z=D,j=!1,M=0,ae=P(z,C,A),te=ae.newCalculatedDate,pe=ae.newCalculatedMonth;!j;){if(M>=V){te=C,pe=A;break}if(g&&te<g){z=ge.ArrowRight;var le=P(z,te,pe);te=le.newCalculatedDate,pe=le.newCalculatedMonth}if(y&&te>y){z=ge.ArrowLeft;var le=P(z,te,pe);te=le.newCalculatedDate,pe=le.newCalculatedMonth}if(aV(te,t.props)){var le=P(z,te,pe);te=le.newCalculatedDate,pe=le.newCalculatedMonth}else j=!0;M++}return{newCalculatedDate:te,newCalculatedMonth:pe}};if(i===ge.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var O=R(i,h,o),U=O.newCalculatedDate,H=O.newCalculatedMonth;switch(i){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation(H,U);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=Ym[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,c=o.handleOnMonthKeyDown,d=n.key;d!==ge.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),c&&c(n)},t.onQuarterClick=function(n,i){var o=Oa(t.props.day,i);Ad(o,t.props)||t.handleDayClick(xE(o),n)},t.onQuarterMouseEnter=function(n){var i=Oa(t.props.day,n);Ad(i,t.props)||t.handleDayMouseEnter(xE(i))},t.handleQuarterNavigation=function(n,i){var o,l,c,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case ge.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Vy(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,sS(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,c=o.minDate,d=o.maxDate,h=o.excludeDates,m=o.includeDates,g=Kn(l,n);return{isDisabled:(i=(c||d||h||m)&&wS(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.preSelection,h=i.monthClassName,m=h?h(Kn(o,n)):void 0,g=t.getSelection();return _t("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(o,n,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&c?Rd(l,c,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=kn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=xo(t.props.preSelection),o=Ad(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,c=i.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,h=i.day,m=i.locale,g=Kn(h,n),y=t.isDisabled(g)||t.isExcluded(g)?d:l;return"".concat(y," ").concat(ht(g,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,c=i.endDate,d=i.selected,h=i.minDate,m=i.maxDate,g=i.excludeDates,y=i.includeDates,_=i.filterDate,x=i.preSelection,S=i.disabledKeyboardNavigation,b=(h||m||g||y||_)&&Ad(Oa(o,n),t.props);return _t("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&x&&t.isSelectedQuarter(o,n,x)&&!b,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&c?Md(l,c,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,c=i.locale,d=i.day,h=_S(n,c),m=Ky(n,c);return l?l(n,h,m,d):o?m:h},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,c=o.locale,d=oV(n,c);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,c=i.day,d=i.selected,h=(n=Ym[UE(l,o)])===null||n===void 0?void 0:n.grid;return h==null?void 0:h.map(function(m,g){return X.createElement("div",{className:"react-datepicker__month-wrapper",key:g},m.map(function(y,_){return X.createElement("div",{ref:t.MONTH_REFS[y],key:_,onClick:function(x){t.onMonthClick(x,y)},onKeyDown:function(x){TS(x)&&(x.preventDefault(),x.key=ge.Enter),t.onMonthKeyDown(x,y)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(y)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(y)}:void 0,tabIndex:Number(t.getTabIndex(y)),className:t.getMonthClassNames(y),"aria-disabled":t.isMonthDisabled(y),role:"option","aria-label":t.getAriaLabel(y),"aria-current":t.isCurrentMonth(c,y)?"date":void 0,"aria-selected":d?t.isSelectedMonth(c,y,d):void 0},t.getMonthContent(y))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return X.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(c,d){return X.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(h){t.onQuarterClick(h,c)},onKeyDown:function(h){t.onQuarterKeyDown(h,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":o?t.isSelectedQuarter(i,c,o):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(i,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,h=n.showWeekPicker;return _t("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,c=l===void 0?"Month ":l,d=c?c.trim()+" ":"";return X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(ht(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(L.Component),TV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return X.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?X.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return X.createElement(bh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),xV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return X.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return X.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return X.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return X.createElement(TV,Xe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return _S(o,t.props.locale)}:function(o){return Ky(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return X.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(L.Component);function SV(r,e){for(var t=[],n=Ui(r),i=Ui(e);!Vs(n,i);)t.push(st(n)),n=Ar(n,1);return t}var kV=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=Dg(i),l=Yr(n.props.date,i)&&xn(n.props.date,i);return X.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?X.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ht(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:SV(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=_t({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return X.createElement(bh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),CV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Ui(t.props.minDate),i=Ui(t.props.maxDate),o=[];!Vs(n,i);){var l=Dg(n);o.push(X.createElement("option",{key:l,value:l},ht(n,t.props.dateFormat,t.props.locale))),n=Ar(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:Dg(Ui(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=ht(t.props.date,t.props.dateFormat,t.props.locale);return X.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return X.createElement(kV,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=st(n);Yr(t.props.date,i)&&xn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(L.Component),IV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&DE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&IE(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&gV(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&DE(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&IE(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ti(n)*3600+ni(n)*60+Fi(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===ge.Space&&(n.preventDefault(),n.key=ge.Enter),(n.key===ge.ArrowUp||n.key===ge.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ge.ArrowDown||n.key===ge.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ge.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||st(),d=Zd(c),h=t.props.injectTimes&&t.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),m=60*mV(c),g=m/l,y=0;y<g;y++){var _=kg(d,y*l);if(i.push(_),h){var x=pV(d,_,y,l,h);i=i.concat(x)}}var S=i.reduce(function(b,N){return N.getTime()<=c.getTime()?N:b},i[0]);return i.map(function(b){return X.createElement("li",{key:b.valueOf(),onClick:t.handleClick.bind(t,b),className:t.liClasses(b),ref:function(N){b===S&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,b)},tabIndex:b===S?0:-1,role:"option","aria-selected":t.isSelectedTime(b)?"true":void 0,"aria-disabled":t.isDisabledTime(b)?"true":void 0},ht(b,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?X.createElement(X.Fragment,null):X.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},X.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return X.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),X.createElement("div",{className:"react-datepicker__time"},X.createElement("div",{className:"react-datepicker__time-box"},X.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(L.Component),BE=3,DV=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Gr([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(i){return dr(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Qy(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,c;(c=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,c,d,h,m=n.props,g=m.date,y=m.yearItemNumber;if(!(g===void 0||y===void 0)){var _=Ss(g,y).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,o),i-_<0?n.updateFocusOnPaginate(y-(_-i)):i-_>=y?n.updateFocusOnPaginate(Math.abs(y-(i-_))):(h=(d=n.YEAR_REFS[i-_])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus())}},n.isSameDay=function(i,o){return Qe(i,o)},n.isCurrentYear=function(i){return i===Be(st())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Yr($r(st(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Yr($r(st(),i),n.props.endDate)},n.isInRange=function(i){return Od(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,h=o.startDate,m=o.endDate;return!(l||c||d)||!n.selectingDate()?!1:l&&m?Od(i,n.selectingDate(),m):c&&h||d&&h&&!m?Od(i,h,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.startDate,d=l.selectsStart,h=$r(st(),i);return d?Yr(h,(o=n.selectingDate())!==null&&o!==void 0?o:null):Yr(h,c??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,c=l.endDate,d=l.selectsEnd,h=l.selectsRange,m=$r(st(),i);return d||h?Yr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Yr(m,c??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,c=o.maxDate,d=o.excludeDates,h=o.includeDates,m=o.filterDate,g=vu($r(n.props.date,i)),y=(l||c||d||h||m)&&ef(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(g,vu(n.props.selected))&&Qe(g,vu(n.props.preSelection))&&!y}},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(vu($r(l,o)),i)},n.onYearKeyDown=function(i,o){var l,c,d=i.key,h=n.props,m=h.date,g=h.yearItemNumber,y=h.handleOnKeyDown;if(d!==ge.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case ge.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(c=(l=n.props).setPreSelection)===null||c===void 0||c.call(l,n.props.selected);break;case ge.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Li(n.props.preSelection,1));break;case ge.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Za(n.props.preSelection,1));break;case ge.ArrowUp:{if(m===void 0||g===void 0||n.props.preSelection==null)break;var _=Ss(m,g).startPeriod,x=BE,S=o-x;if(S<_){var b=g%x;o>=_&&o<_+b?x=b:x+=b,S=o-x}n.handleYearNavigation(S,Za(n.props.preSelection,x));break}case ge.ArrowDown:{if(m===void 0||g===void 0||n.props.preSelection==null)break;var N=Ss(m,g).endPeriod,x=BE,S=o+x;if(S>N){var b=g%x;o<=N&&o>N-b?x=b:x+=b,S=o+x}n.handleYearNavigation(S,Li(n.props.preSelection,x));break}}y&&y(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,c=o.minDate,d=o.maxDate,h=o.selected,m=o.excludeDates,g=o.includeDates,y=o.filterDate,_=o.yearClassName;return _t("react-datepicker__year-text","react-datepicker__year-".concat(i),l?_==null?void 0:_($r(l,i)):void 0,{"react-datepicker__year-text--selected":h?i===Be(h):void 0,"react-datepicker__year-text--disabled":(c||d||m||g||y)&&ef(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Be(n.props.preSelection),l=ef(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var h=Ss(o,l),m=h.startPeriod,g=h.endPeriod,y=function(S){n.push(X.createElement("div",{ref:_.YEAR_REFS[S-m],onClick:function(b){t.onYearClick(b,S)},onKeyDown:function(b){TS(b)&&(b.preventDefault(),b.key=ge.Enter),t.onYearKeyDown(b,S)},tabIndex:Number(_.getYearTabIndex(S)),className:_.getYearClassNames(S),onMouseEnter:_.props.usePointerEvent?void 0:function(b){return c(b,S)},onPointerEnter:_.props.usePointerEvent?function(b){return c(b,S)}:void 0,onMouseLeave:_.props.usePointerEvent?void 0:function(b){return d(b,S)},onPointerLeave:_.props.usePointerEvent?function(b){return d(b,S)}:void 0,key:S,"aria-current":_.isCurrentYear(S)?"date":void 0},_.getYearContent(S)))},_=this,x=m;x<=g;x++)y(x);return X.createElement("div",{className:"react-datepicker__year"},X.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(L.Component);function PV(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,c=!0;t&&(c=Be(t)<=l),n&&c&&(c=Be(n)>=l),c&&i.push(l)}return i}var NV=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(g){return X.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:n.onChange.bind(n,g),"aria-selected":c===g?"true":void 0},c===g?X.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),h=n.props.minDate?Be(n.props.minDate):null,m=n.props.maxDate?Be(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(g){return g===m}))&&d.unshift(X.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!n.state.yearsList.find(function(g){return g===h}))&&d.push(X.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(h){return h+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:PV(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=_t({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return X.createElement(bh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(L.Component),RV=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Be(t.props.minDate):1900,i=t.props.maxDate?Be(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(X.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return X.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},X.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return X.createElement(NV,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(L.Component),AV=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],OV=function(r){var e=(r.className||"").split(/\s+/);return AV.some(function(t){return e.indexOf(t)>=0})},MV=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;OV(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,c=i.openToDate,d=ES(n.props),h=bS(n.props),m=st(),g=c||l||o;return g||(d&&Oo(m,d)?d:h&&Vs(m,h)?h:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ar(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:So(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:$r(st(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,c,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(c=n.props).setOpen)===null||d===void 0||d.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!dr(i,n.props))return i;for(var o=Ui(i),l=nV(i),c=OO(l,o),d=null,h=0;h<=c;h++){var m=Nr(o,h);if(!dr(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,c,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:$r(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:Kn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:$r(Kn(l,kn(i)),Be(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Ps(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(X.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(c){var d=Nr(o,c),h=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return X.createElement("div",{key:c,"aria-label":ht(d,"EEEE",n.props.locale),className:_t("react-datepicker__day-name",m)},h)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?rV(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?sV(i,o):iV(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Za(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,h=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=So(n.state.date,h),g;switch(!0){case n.props.showMonthYearPicker:g=RE(n.state.date,n.props);break;case n.props.showYearPicker:g=cV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:g=lV(n.state.date,n.props);break;default:g=PE(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&g||n.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],_=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(x=n.decreaseYear),g&&n.props.showDisabledMonthNavigation&&(_.push("react-datepicker__navigation--previous--disabled"),x=void 0);var S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,N=b.previousMonthButtonLabel,P=N===void 0?e.defaultProps.previousMonthButtonLabel:N,R=b.previousYearButtonLabel,O=R===void 0?e.defaultProps.previousYearButtonLabel:R,U=n.props,H=U.previousMonthAriaLabel,D=H===void 0?typeof P=="string"?P:"Previous Month":H,C=U.previousYearAriaLabel,A=C===void 0?typeof O=="string"?O:"Previous Year":C;return X.createElement("button",{type:"button",className:_.join(" "),onClick:x,onKeyDown:n.props.handleOnKeyDown,"aria-label":S?A:D},X.createElement("span",{className:y.join(" ")},S?O:P))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:Li(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=AE(n.state.date,n.props);break;case n.props.showYearPicker:o=dV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=uV(n.state.date,n.props);break;default:o=NE(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,g=m.nextMonthButtonLabel,y=g===void 0?e.defaultProps.nextMonthButtonLabel:g,_=m.nextYearButtonLabel,x=_===void 0?e.defaultProps.nextYearButtonLabel:_,S=n.props,b=S.nextMonthAriaLabel,N=b===void 0?typeof y=="string"?y:"Next Month":b,P=S.nextYearAriaLabel,R=P===void 0?typeof x=="string"?x:"Next Year":P;return X.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":h?R:N},X.createElement("span",{className:c.join(" ")},h?x:y))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),X.createElement("h2",{className:o.join(" ")},ht(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return X.createElement(RV,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Be(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return X.createElement(xV,Xe({},e.defaultProps,n.props,{month:kn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return X.createElement(CV,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(SE(),i),n.props.setPreSelection&&n.props.setPreSelection(SE())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return X.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return X.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),X.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),X.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,c=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var h=PE(n.state.date,n.props),m=NE(n.state.date,n.props),g=RE(n.state.date,n.props),y=AE(n.state.date,n.props),_=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return X.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Xe(Xe({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:m,prevYearButtonDisabled:g,nextYearButtonDisabled:y})),_&&X.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,c=l.showYearPicker,d=l.yearItemNumber,h=d===void 0?e.defaultProps.yearItemNumber:d,m=Ss(o,h),g=m.startPeriod,y=m.endPeriod;return X.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(y):Be(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,c=l===void 0?0:l,d={monthDate:o,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],c=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Li(n.state.date,d):So(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,g=0;g<c;++g){var y=g-m+d,_=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Li(h,y):Ar(h,y),x="month-".concat(g),S=g<c-1,b=g>0;l.push(X.createElement("div",{key:x,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:_,i:g}),X.createElement(bV,Xe({},e.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:_,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:g,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:b}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return X.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),X.createElement(DV,Xe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return X.createElement(IV,Xe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&Di(i)&&!!n.props.selected,l=o?"".concat(ME(i.getHours()),":").concat(ME(i.getMinutes())):"";if(n.props.showTimeInput)return X.createElement(yV,Xe({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=Ss(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,c=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Be(n.state.date):d="".concat(Ky(kn(n.state.date),n.props.locale)," ").concat(Be(n.state.date)),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return X.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ic}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!xn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||K4;return X.createElement(bh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},X.createElement(t,{className:_t("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(L.Component),LV=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";return typeof e=="string"?X.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i}):X.isValidElement(e)?X.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(o," ").concat(n),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof i=="function"&&i(l)}}):X.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},X.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},xS=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return m2.createPortal(this.props.children,this.el)},e}(L.Component),VV="[tabindex], a, button, input, select, textarea",FV=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},SS=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(VV),1,-1).filter(FV)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=L.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?X.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},X.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,X.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(L.Component);function UV(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=L.useRef(null),l=q4(Xe({open:!i,whileElementsMounted:S4,placement:t.popperPlacement,middleware:Gr([R4({padding:15}),N4(10),A4({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Xe(Xe({},t),{hidePopper:i,popperProps:Xe(Xe({},l),{arrowRef:o})});return X.createElement(r,Xe({},c))};return e}var BV=function(r){nn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,c=t.popperComponent,d=t.targetComponent,h=t.enableTabLoop,m=t.popperOnKeyDown,g=t.portalId,y=t.portalHost,_=t.popperProps,x=t.showArrow,S=void 0;if(!l){var b=_t("react-datepicker-popper",n);S=X.createElement(SS,{enableTabLoop:h},X.createElement("div",{ref:_.refs.setFloating,style:_.floatingStyles,className:b,"data-placement":_.placement,onKeyDown:m},c,x&&X.createElement(B4,{ref:_.arrowRef,context:_.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=L.createElement(this.props.popperContainer,{},S)),g&&!l&&(S=X.createElement(xS,{portalId:g,portalHost:y},S));var N=_t("react-datepicker-wrapper",i);return X.createElement(X.Fragment,null,X.createElement("div",{ref:_.refs.setReference,className:N},d),S)},e}(L.Component),zV=UV(BV),zE="react-datepicker-ignore-onclickoutside";function jV(r,e){return r&&e?kn(r)!==kn(e)||Be(r)!==Be(e):r!==e}var qm="Date input not valid.",jE=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:st()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var c=new Date(l.date);return Di(c)?Gr(Gr([],o,!0),[Xe(Xe({},l),{date:c})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=ES(n.props),c=bS(n.props),d=l&&Oo(o,Zd(l))?l:c&&Vs(o,kE(c))?c:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:OE(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Km},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Vi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=l[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,l),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){n.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:WV});var h=n.props,m=h.dateFormat,g=m===void 0?e.defaultProps.dateFormat:m,y=h.strictParsing,_=y===void 0?e.defaultProps.strictParsing:y,x=h.selectsRange,S=h.startDate,b=h.endDate,N=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(x){var P=N.split("-",2).map(function(V){return V.trim()}),R=P[0],O=P[1],U=Hm(R??"",g,n.props.locale,_),H=Hm(O??"",g,n.props.locale,_),D=(S==null?void 0:S.getTime())!==(U==null?void 0:U.getTime()),C=(b==null?void 0:b.getTime())!==(H==null?void 0:H.getTime());if(!D&&!C||U&&dr(U,n.props)||H&&dr(H,n.props))return;(o=(i=n.props).onChange)===null||o===void 0||o.call(i,[U,H],d)}else{var A=Hm(N,g,n.props.locale,_,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&A&&!Qe(A,n.props.selected)&&(A=YL(n.props.selected,{hours:ti(A),minutes:ni(A),seconds:Fi(A)})),(A||!N)&&n.setSelected(A,d,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,h=c.endDate;d&&!h&&(n.props.swapRange||!FE(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,c){var d,h,m=i;if(n.props.showYearPicker){if(m!==null&&ef(Be(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&wS(m,n.props))return}else if(m!==null&&dr(m,n.props))return;var g=n.props,y=g.onChange,_=g.selectsRange,x=g.startDate,S=g.endDate,b=g.selectsMultiple,N=g.selectedDates,P=g.minTime,R=g.swapRange;if(!bo(n.props.selected,m)||n.props.allowSameDay||_||b)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=$m(m,{hour:ti(n.props.selected),minute:ni(n.props.selected),second:Fi(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&P&&(m=$m(m,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),_){var O=!x&&!S,U=x&&!S,H=x&&S;O?y==null||y([m,null],o):U&&(m===null?y==null||y([null,null],o):FE(m,x)?R?y==null||y([m,x],o):y==null||y([m,null],o):y==null||y([x,m],o)),H&&(y==null||y([m,null],o))}else if(b){if(m!==null)if(!(N!=null&&N.length))y==null||y([m],o);else{var D=N.some(function(A){return Qe(A,m)});if(D){var C=N.filter(function(A){return!Qe(A,m)});y==null||y(C,o)}else y==null||y(Gr(Gr([],N,!0),[m],!1),o)}}else y==null||y(m,o);l||((h=(d=n.props).onSelect)===null||h===void 0||h.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=Vi(n.props.minDate),l=Vi(n.props.maxDate),c=!0;if(i){var d=Zd(i);if(o&&l)c=_u(i,n.props.minDate,n.props.maxDate);else if(o){var h=Zd(n.props.minDate);c=Vs(i,h)||bo(d,h)}else if(l){var m=kE(n.props.maxDate);c=Oo(i,m)||bo(d,m)}}c&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:$m(c,{hour:ti(i),minute:ni(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,c,d,h,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var g=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(g===ge.ArrowDown||g===ge.ArrowUp||g===ge.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(g===ge.ArrowDown||g===ge.ArrowUp){i.preventDefault();var y=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',_=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(y);_ instanceof HTMLElement&&_.focus({preventScroll:!0});return}var x=st(n.state.preSelection);g===ge.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Km?(n.handleSelect(x,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(x)):n.setOpen(!1)):g===ge.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):g===ge.Tab&&n.setOpen(!1),n.inputOk()||(m=(h=n.props).onInputError)===null||m===void 0||m.call(h,{code:1,msg:qm})}},n.onPortalKeyDown=function(i){var o=i.key;o===ge.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,c,d,h,m,g=n.props,y=g.minDate,_=g.maxDate,x=g.disabledKeyboardNavigation,S=g.showWeekPicker,b=g.shouldCloseOnSelect,N=g.locale,P=g.calendarStartDay,R=g.adjustDateOnChange,O=g.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!x){var U=i.key,H=i.shiftKey,D=st(n.state.preSelection),C=function(te,pe){var le=pe;switch(te){case ge.ArrowRight:le=S?bf(pe,1):Nr(pe,1);break;case ge.ArrowLeft:le=S?mE(pe):DL(pe);break;case ge.ArrowUp:le=mE(pe);break;case ge.ArrowDown:le=bf(pe,1);break;case ge.PageUp:le=H?Za(pe,1):So(pe,1);break;case ge.PageDown:le=H?Li(pe,1):Ar(pe,1);break;case ge.Home:le=Ps(pe,N,P);break;case ge.End:le=tV(pe);break}return le},A=function(te,pe){for(var le=40,Z=te,fe=!1,ie=0,Y=C(te,pe);!fe;){if(ie>=le){Y=pe;break}y&&Y<y&&(Z=ge.ArrowRight,Y=dr(y,n.props)?C(Z,Y):y),_&&Y>_&&(Z=ge.ArrowLeft,Y=dr(_,n.props)?C(Z,Y):_),dr(Y,n.props)?((Z===ge.PageUp||Z===ge.Home)&&(Z=ge.ArrowRight),(Z===ge.PageDown||Z===ge.End)&&(Z=ge.ArrowLeft),Y=C(Z,Y)):fe=!0,ie++}return Y};if(U===ge.Enter){i.preventDefault(),n.handleSelect(D,i),!b&&n.setPreSelection(D);return}else if(U===ge.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:qm});return}var V=null;switch(U){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:V=A(U,D);break}if(!V){(m=(h=n.props).onInputError)===null||m===void 0||m.call(h,{code:1,msg:qm});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Km}),R&&n.setSelected(V),n.setPreSelection(V),O){var z=kn(D),j=kn(V),M=Be(D),ae=Be(V);z!==j||M!==ae?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===ge.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,c=o.onChange;l?c==null||c([null,null],i):c==null||c(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:X.createElement(MV,Xe({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:hV(n.modifyHolidays()),outsideClickIgnoreClass:zE,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,c=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,h=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(cr(n.props.startDate,{dateFormat:h,locale:c}),". ").concat(n.props.endDate?"End date: "+cr(n.props.endDate,{dateFormat:h,locale:c}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(cr(n.props.selected,{dateFormat:l,locale:c})):n.props.showYearPicker?m="Selected year: ".concat(cr(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?m="Selected month: ".concat(cr(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(cr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):m="Selected date: ".concat(cr(n.props.selected,{dateFormat:h,locale:c})),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,c=_t(n.props.className,(i={},i[zE]=n.state.open,i)),d=n.props.customInput||X.createElement("input",{type:"text"}),h=n.props.customInputRef||"ref",m=n.props,g=m.dateFormat,y=g===void 0?e.defaultProps.dateFormat:g,_=m.locale,x=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?X4(n.props.startDate,n.props.endDate,{dateFormat:y,locale:_}):n.props.selectsMultiple?J4((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:y,locale:_}):cr(n.props.selected,{dateFormat:y,locale:_});return L.cloneElement(d,(o={},o[h]=function(S){n.input=S},o.value=x,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=_t(d.props.className,c),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,c=i.selected,d=i.startDate,h=i.endDate,m=i.clearButtonTitle,g=i.clearButtonClassName,y=g===void 0?"":g,_=i.ariaLabelClose,x=_===void 0?"Close":_,S=i.selectedDates;return o&&(c!=null||d!=null||h!=null||S!=null&&S.length)?X.createElement("button",{type:"button",className:_t("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":x,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ic,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,c;t.inline&&jV(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:OE(this.props.highlightDates)}),!n.focused&&!bo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((c=(l=this.props).onCalendarClose)===null||c===void 0||c.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),X.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&X.createElement(LV,Xe({icon:i,className:_t(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?X.createElement(SS,{enableTabLoop:this.props.enableTabLoop},X.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=X.createElement(xS,Xe({portalId:this.props.portalId},this.props),n)),X.createElement("div",null,this.renderInputContainer(),n)}return X.createElement(zV,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(L.Component),WV="input",Km="navigate";const HV=()=>{const[r,e]=L.useState(""),{email:t,setEmail:n}=fr(),{password:i,setPassword:o}=fr(),[l,c]=L.useState(""),[d,h]=L.useState(""),[m,g]=L.useState(""),[y,_]=L.useState(""),[x,S]=L.useState("");L.useState("");const[b,N]=L.useState(""),[P,R]=L.useState(""),[O,U]=L.useState(""),[H,D]=L.useState(""),[C,A]=L.useState(""),[V,z]=L.useState(""),[j,M]=L.useState(""),[ae,te]=L.useState(""),[pe,le]=L.useState(""),[Z,fe]=L.useState(""),[ie,Y]=L.useState({monday:{enabled:!1,startTime:"",endTime:""},tuesday:{enabled:!1,startTime:"",endTime:""},wednesday:{enabled:!1,startTime:"",endTime:""},thursday:{enabled:!1,startTime:"",endTime:""},friday:{enabled:!1,startTime:"",endTime:""},saturday:{enabled:!1,startTime:"",endTime:""},sunday:{enabled:!1,startTime:"",endTime:""}}),[ne,oe]=L.useState(()=>{const ye=localStorage.getItem("doctorInfo");return ye?JSON.parse(ye):[]}),[Le,Ae]=L.useState(null),[Fe,ze]=L.useState(null);L.useState("");const He=ye=>{Y(ot=>({...ot,[ye]:{...ot[ye],enabled:!ot[ye].enabled}}))},Ze=()=>{const ye=[];let ot=10,mt=20;for(let It=ot;It<=mt;It++){const Jn=`${It<=12?It:It-12}:00 ${It<12?"AM":"PM"}`;ye.push(Jn)}return ye},bt=(ye,ot,mt)=>{Y(It=>({...It,[ye]:{...It[ye],[ot]:mt}}))},Qt=async ye=>{if(ye.preventDefault(),!r.trim())return Oe.error("Name is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!t.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return Oe.error("A valid email is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!i.trim()||i.length<8||!/[A-Z]/.test(i)||!/[0-9]/.test(i)||!/[!@#$%^&*]/.test(i))return Oe.error("Password must be at least 8 characters long and include at least one uppercase letter, one number, and one special character.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!l.trim())return Oe.error("Specialization is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!d.trim()||!/^\d{10}$/.test(d))return Oe.error("A valid 10-digit phone number is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!m.trim())return Oe.error("Gender is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!y.trim()||isNaN(y)||y<0)return Oe.error("Experience must be a positive number.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!x.trim())return Oe.error("Qualifications are required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!P.trim())return Oe.error("Date of birth is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!O.trim()||isNaN(O)||O<0)return Oe.error("Fee must be a positive number.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!H.trim())return Oe.error("Address is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!C.trim())return Oe.error("City is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!V.trim())return Oe.error("State is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(!j.trim())return Oe.error("Country is required.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});if(Object.values(ie).every(mt=>mt===!1))return Oe.error("At least one working day must be selected.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});const ot=Bt.currentUser;if(console.log(ot.uid),console.log(ot.email),ot)try{const mt=pt(wt,"admin",ot.uid),It=await Ut(mt);if(It.exists()&&It.data().role==="admin"){console.log("Authenticated as admin");const Jn=ot.email,Gt=It.data().password,Zn=(await Ab(Bt,t,i)).user.uid;console.log();const Bn={name:r,email:t,password:i,specialization:l,phone:d,role:"doctor",uid:Zn,profilePicturePreview:Fe||"",gender:m,dob:P,experience:y,qualifications:x,workingDays:ie,workStartTime:ae,workEndTime:pe,timeOff:Z,fee:O,status:b,address:H,city:C,state:V,country:j};console.log("Doctor SignUp Info:",Bn);const Hs=pt(wt,"doctors",Zn);await _g(Hs,{doctorSignUpinfo:Bn}),oe(qi=>{const hi=[...qi,Bn];return localStorage.setItem("doctorInfo",JSON.stringify(hi)),hi}),Oe.success('"Doctor added successfully!"',{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),await Ob(Bt,Jn,Gt),console.log("Admin re-authenticated!"),e(""),n(""),c(""),h(""),o("")}else console.log("You are not authorized to perform this action")}catch(mt){console.error("Error adding doctor:",mt.message),alert("Error adding doctor: "+mt.message)}else console.log("User not found")},Xn=ye=>{const ot=ye.target.files[0];Ae(ot);const mt=new FileReader;mt.onloadend=()=>{ze(mt.result)},ot&&mt.readAsDataURL(ot)};return console.log(ie),B("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-4",children:[T("header",{className:"w-full bg-blue-600 text-white py-4 text-center",children:T("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})}),B("main",{className:"w-full max-w-3xl bg-white rounded-lg shadow-lg mt-6 p-6",children:[T("h2",{className:"text-xl font-semibold mb-4",children:"Add Doctor"}),B("form",{className:"space-y-4",onSubmit:Qt,autoComplete:"off",children:[B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"name",children:"Doctor Name"}),T("input",{type:"text",id:"name",name:"name",value:r,onChange:ye=>e(ye.target.value),placeholder:"Enter doctor's name",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"email",children:"Email"}),T("input",{type:"email",id:"email",value:t,onChange:ye=>n(ye.target.value),name:"email",placeholder:"Enter doctor's email",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"phone",children:"Phone Number"}),T("input",{type:"number",id:"phone",value:d,onChange:ye=>h(ye.target.value),name:"phone",placeholder:"Enter doctor's phone number",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"password",children:"Password"}),T("input",{type:"password",id:"password",value:i,onChange:ye=>o(ye.target.value),name:"password",placeholder:"Enter password for doctor",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"profilePicture",children:"Profile Picture"}),T("input",{type:"file",id:"profilePicture",name:"profilePicture",onChange:Xn,className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"gender",children:"Gender"}),B("select",{id:"gender",name:"gender",value:m,onChange:ye=>g(ye.target.value),className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T("option",{value:"",children:"Select Gender"}),T("option",{value:"male",children:"Male"}),T("option",{value:"female",children:"Female"}),T("option",{value:"other",children:"Other"})]})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"dob",children:"Date of Birth"}),T("input",{type:"date",id:"dob",name:"dob",value:P,onChange:ye=>R(ye.target.value),className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"specialization",children:"Specialization"}),B("select",{id:"specialization",name:"specialization",value:l,onChange:ye=>c(ye.target.value),className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T("option",{value:"",children:"Select Specialization"}),T("option",{value:"cardiology",children:"Cardiology"}),T("option",{value:"dermatology",children:"Dermatology"}),T("option",{value:"neurology",children:"Neurology"}),T("option",{value:"orthopedics",children:"Orthopedics"}),T("option",{value:"pediatrics",children:"Pediatrics"}),T("option",{value:"general",children:"General Medicine"}),T("option",{value:"other",children:"Other"})]})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"experience",children:"Years of Experience"}),T("input",{type:"number",id:"experience",name:"experience",value:y,onChange:ye=>_(ye.target.value),placeholder:"Enter years of experience",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"qualifications",children:"Qualifications"}),T("input",{type:"text",id:"qualifications",name:"qualifications",value:x,onChange:ye=>S(ye.target.value),placeholder:"Enter degrees or certifications",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{className:"space-y-6",children:[B("div",{className:"bg-white p-5 rounded-lg shadow-lg border border-gray-200",children:[T("label",{className:"font-semibold text-xl text-gray-700",children:"Set Doctor's Working Days:"}),T("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(ye=>{var ot,mt,It,Jn;return B("div",{className:"flex flex-col space-y-2",children:[B("div",{className:"flex items-center space-x-2",children:[T("input",{type:"checkbox",checked:((ot=ie[ye])==null?void 0:ot.enabled)||!1,onChange:()=>He(ye),className:"h-4 w-4 text-blue-500 focus:ring-2 focus:ring-blue-500"}),T("label",{className:"text-lg text-gray-700 capitalize",children:ye})]}),((mt=ie[ye])==null?void 0:mt.enabled)&&B("div",{className:"flex flex-col space-y-2",children:[T("label",{className:"text-sm text-gray-600",children:"Select Time Range:"}),B("div",{className:"flex space-x-2",children:[T("select",{value:((It=ie[ye])==null?void 0:It.startTime)||"",onChange:Gt=>bt(ye,"startTime",Gt.target.value),className:"border border-gray-300 rounded-lg p-2 text-gray-700 focus:ring-2 focus:ring-blue-500",children:Ze().map(Gt=>T("option",{value:Gt,children:Gt},Gt))}),T("span",{className:"text-gray-500",children:"to"}),T("select",{value:((Jn=ie[ye])==null?void 0:Jn.endTime)||"",onChange:Gt=>bt(ye,"endTime",Gt.target.value),className:"border border-gray-300 rounded-lg p-2 text-gray-700 focus:ring-2 focus:ring-blue-500",children:Ze().map(Gt=>T("option",{value:Gt,children:Gt},Gt))})]})]})]},ye)})})]}),B("div",{className:"bg-white p-5 rounded-lg shadow-lg border border-gray-200",children:[T("label",{className:"font-semibold text-xl text-gray-700",children:"Set Doctor's Working Hours:"}),B("div",{className:"flex space-x-6 mt-4",children:[B("div",{className:"flex flex-col w-1/2",children:[T("label",{className:"text-lg text-gray-700",children:"Start Time:"}),T("input",{type:"time",value:ae,onChange:ye=>te(ye.target.value),className:"mt-2 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),B("div",{className:"flex flex-col w-1/2",children:[T("label",{className:"text-lg text-gray-700",children:"End Time:"}),T("input",{type:"time",value:pe,onChange:ye=>le(ye.target.value),className:"mt-2 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]})]})]})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"fee",children:"Consultation Fee"}),T("input",{type:"number",id:"fee",name:"fee",value:O,onChange:ye=>U(ye.target.value),placeholder:"Enter consultation fee",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"status",children:"Status"}),B("select",{id:"status",name:"status",value:b,onChange:ye=>N(ye.target.value),className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T("option",{value:"",children:"Status"}),T("option",{value:"active",children:"Active"}),T("option",{value:"inactive",children:"Inactive"})]})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"address",children:"Address"}),T("textarea",{id:"address",name:"address",value:H,onChange:ye=>D(ye.target.value),placeholder:"Enter full address",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"city",children:"City"}),T("input",{type:"text",id:"city",name:"city",value:C,onChange:ye=>A(ye.target.value),placeholder:"Enter city",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"state",children:"State"}),T("input",{type:"text",id:"state",name:"state",value:V,onChange:ye=>z(ye.target.value),placeholder:"Enter state",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),B("div",{children:[T("label",{className:"block text-gray-700 font-medium",htmlFor:"country",children:"Country"}),T("input",{type:"text",id:"country",name:"country",value:j,onChange:ye=>M(ye.target.value),placeholder:"Enter country",className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),T("div",{className:"text-right",children:T("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Add Doctor"})})]})]})]})};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...c},d)=>L.createElement("svg",{ref:d,...YV,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:kS("lucide",i),...c},[...l.map(([h,m])=>L.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=(r,e)=>{const t=L.forwardRef(({className:n,...i},o)=>L.createElement(qV,{ref:o,iconNode:e,className:kS(`lucide-${$V(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],QV=pl("Bell",KV);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WE=pl("Calendar",GV);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JV=pl("LayoutDashboard",XV);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e3=pl("Settings",ZV);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],n3=pl("User",t3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],i3=pl("Users",r3),HE=()=>{const r=di(),[e,t]=L.useState(),n=localStorage.getItem("doctorInfo"),i=JSON.parse(n),o=localStorage.getItem("totalPatient"),l=JSON.parse(o),c=localStorage.getItem("appoinment"),d=JSON.parse(c),[h,m]=L.useState(!0),[g,y]=L.useState(()=>{const b=localStorage.getItem("AppoinmentMessage");return b?JSON.parse(b):[]});L.useEffect(()=>{(async()=>{const N=Bt.currentUser;if(N){const P=pt(wt,"admin",N.uid),R=await Ut(P);try{if(R.exists()){const O=R.data();t(O.username)}else console.log("error")}catch(O){console.error(O)}}else console.log("no admin found")})()});const _=()=>{m(!h)},x=b=>{const N=g.filter((P,R)=>R!==b);y(N),localStorage.setItem("AppoinmentMessage",JSON.stringify(N))},S=async b=>{b.preventDefault();try{await Bt.signOut(),console.log("User signed out")}catch(N){console.error("Error signing out: ",N)}r("/login")};return B("div",{className:"min-h-screen bg-background",children:[T("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:B("div",{className:"flex h-16 items-center justify-between px-6",children:[T("div",{className:"flex items-center gap-6",children:T("h1",{className:"text-xl font-bold font-heading",children:"Admin Dashboard"})}),B("div",{className:"flex items-center space-x-4",children:[T("span",{children:e}),T("div",{className:"relative",children:B("div",{className:"cursor-pointer",children:[B("p",{onClick:_,className:"px-3 flex items-center space-x-2",children:[T(QV,{className:"h-5 w-5 ml-9 text-blue-600"}),T("span",{className:" bg-green-400 text-[14px] font-semibold  px-[5px] pr-[6px] py-[-2px] rounded-full",children:(g==null?void 0:g.length)||"0"})]}),T("ul",{hidden:h,className:"absolute top-[75px] right-[0]  w-[250px] mt-3 bg-[#f1f1f1] text-black text-[13px] shadow-xl rounded-md p-7",children:(g==null?void 0:g.length)>0?g.map((b,N)=>T("li",{className:"mt-2 text-left",children:B("span",{children:[" ",b," ",T("span",{onClick:()=>x(N),children:""})]})},N)):T("p",{children:"No messages yet..."})})]})}),T("button",{onClick:S,children:"Logout"})]})]})}),B("div",{className:"flex",children:[T("aside",{className:"w-64 bg-white shadow-md",children:B("nav",{className:"p-4 space-y-2",children:[B("a",{href:"#",className:"block text-blue-600 font-semibold p-2 rounded hover:bg-gray-200",children:[T(JV,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),B("a",{href:"admin/DoctorMangement",className:"block text-gray-600 p-2 rounded hover:bg-gray-200",children:[T(n3,{className:"mr-2 h-4 w-4"}),"Doctor Management"]}),B("a",{href:"admin/patientMangement",className:"block text-gray-600 p-2 rounded hover:bg-gray-200",children:[T(i3,{className:"mr-2 h-4 w-4"}),"Patient Management"]}),B("a",{href:"admin/appoinment",className:"block text-gray-600 p-2 rounded hover:bg-gray-200",children:[T(WE,{className:"mr-2 h-4 w-4"}),"Appointments"]}),B("a",{href:"#",className:"block text-gray-600 p-2 rounded hover:bg-gray-200",children:[T(e3,{className:"mr-2 h-4 w-4"}),"Settings"]})]})}),B("main",{className:"flex-1 p-6",children:[T("h2",{className:"text-2xl font-bold font-heading mb-6",children:"Dashboard Overview"}),B("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[B("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T("div",{className:"pb-2 text-sm font-medium text-muted-foreground",children:"Total Doctors"}),T("div",{className:"text-3xl font-bold text-primary",children:(i==null?void 0:i.length)||"0"})]}),B("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T("div",{className:"pb-2 text-sm font-medium text-muted-foreground",children:"Total Patients"}),T("div",{className:"text-3xl font-bold text-green-500",children:(l==null?void 0:l.length)||"0"})]}),B("div",{className:"bg-white shadow-lg rounded-lg p-4",children:[T("div",{className:"pb-2 text-sm font-medium text-muted-foreground",children:"Appointments Today"}),T("div",{className:"text-3xl font-bold text-blue-500",children:(d==null?void 0:d.length)||"0"})]})]}),B("div",{className:"bg-white shadow-lg rounded-lg p-4 mt-8",children:[T("div",{className:"pb-2 text-lg font-semibold",children:"Recent Activities"}),T("div",{className:"space-y-4",children:(g==null?void 0:g.length)>0?g.map((b,N)=>B("div",{className:"flex items-center gap-4 p-4 rounded-lg border",children:[T("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:T(WE,{className:"h-4 w-4 text-primary"})}),T("p",{className:"text-sm text-muted-foreground",children:b})]},N)):T("p",{children:"No message yet..."})})]})]})]})]})},s3=()=>{const[r,e]=L.useState(()=>{const l=localStorage.getItem("doctorInfo");return l?JSON.parse(l):[]}),[t,n]=L.useState(""),i=r.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())||l.specialization.toLowerCase().includes(t.toLowerCase())),o=async(l,c)=>{console.log(c);try{const d=pt(wt,"doctors",l);(await Ut(d)).exists()&&await zR(d)}catch(d){console.log(d)}e(d=>{const h=d.filter((m,g)=>g!==c);return localStorage.setItem("doctorInfo",JSON.stringify(h)),h})};return T("div",{className:"bg-gray-100 min-h-screen flex justify-center",children:B("div",{className:"w-full max-w-4xl bg-white shadow-lg rounded-lg p-6",children:[T("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Doctors List"}),T("div",{className:"mb-4",children:T("input",{type:"text",placeholder:"Search for a doctor...",className:"w-full px-4 py-2 rounded-md border border-gray-300 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:l=>n(l.target.value)})}),T("ul",{className:"space-y-4",children:i.length>0?i.map((l,c)=>B("li",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[B("div",{className:"flex items-start space-x-4 sm:items-center",children:[T("img",{src:l.profilePicturePreview||"/default-profile.png",alt:`${l.name}'s profile`,className:"w-16 h-16 rounded-full border border-gray-300"}),B("div",{children:[T("p",{className:"text-xl font-bold text-gray-800",children:l.name}),B("p",{className:"text-sm text-gray-500",children:["Specialization: ",l.specialization]}),B("p",{className:"text-sm text-gray-500",children:["Qualifications: ",l.qualifications]}),B("p",{className:"text-sm text-gray-500",children:["Experience: ",l.experience," years"]}),B("p",{className:"text-sm text-gray-500",children:["Fee: ",l.fee]}),T("span",{className:"font-semibold",children:"workingDays: "}),T("p",{className:"text-sm text-gray-500",children:Object.entries(l.workingDays).filter(([d,h])=>h.enabled).map(([d])=>d.charAt(0).toUpperCase()+d.slice(1)).join(", ")}),T("span",{className:"font-semibold",children:"Timing: "}),T("p",{className:"text-sm text-gray-500",children:Object.entries(l.workingDays).filter(([d,h])=>h.enabled).map(([d,h])=>B("div",{children:[B("span",{className:"text-black font-medium",children:[d.charAt(0).toUpperCase()+d.slice(1),"  :-"]})," ",h.startTime," - ",h.endTime]},d))}),T("span",{className:"font-semibold",children:"OffDays: "}),T("p",{className:"text-sm text-gray-500",children:Object.entries(l.workingDays).filter(([d,h])=>!h.enabled).map(([d])=>d.charAt(0).toUpperCase()+d.slice(1)).join(", ")}),B("p",{className:`text-sm font-medium ${l.status==="active"?"text-green-500":"text-red-500"}`,children:["Status: ",l.status]})]})]}),B("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[T("a",{href:`mailto:${l.email}`,className:"bg-blue-500 text-white text-sm px-4 py-2 rounded-md hover:bg-blue-600 transition-colors duration-300",children:"Email"}),T("a",{href:`tel:${l.phone}`,className:"bg-green-500 text-white text-sm px-4 py-2 rounded-md hover:bg-green-600 transition-colors duration-300",children:"Call"}),T("button",{className:"bg-yellow-500 text-white text-sm px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors duration-300",onClick:()=>handleEdit(l.uid),children:"Edit"}),T("button",{className:"bg-red-500 text-white text-sm px-4 py-2 rounded-md hover:bg-red-600 transition-colors duration-300",onClick:()=>o(l.uid,c),children:"Delete"})]})]},c)):T("p",{className:"text-center text-gray-600",children:"No doctor found"})})]})})},o3=()=>{const r=di(),[e,t]=L.useState(),n=localStorage.getItem("totalPatient"),i=JSON.parse(n),o=(l,c)=>{console.log(typeof l.uid),t(()=>{localStorage.setItem("PatientId",JSON.stringify(l.uid))}),r("/admin/detail")};return B("div",{className:"container mx-auto p-6 bg-gray-50 rounded-lg shadow-lg",children:[T("h1",{className:"text-4xl font-bold text-center text-gray-800 mb-6",children:"Total Patients"}),T("div",{className:"overflow-x-auto",children:T("ul",{className:"space-y-4",children:(i==null?void 0:i.length)>0?i.map((l,c)=>B("li",{className:"flex justify-between items-center p-4 bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 ease-in-out",children:[B("div",{className:"flex flex-col",children:[T("span",{className:"text-xl font-semibold text-gray-700",children:l.username}),T("span",{className:"text-sm text-gray-500",children:l.email})]}),T("button",{onClick:()=>o(l),className:"text-blue-500 hover:text-blue-700 font-medium",children:"View Details"})]},c)):T("p",{className:"text-center text-lg text-gray-500",children:"No patients available"})})})]})},a3=()=>{const[r,e]=L.useState(),[t,n]=L.useState();L.useState({});const i=localStorage.getItem("totalPatient");JSON.parse(i);const o=localStorage.getItem("PatientId"),l=JSON.parse(o);return L.useEffect(()=>{(async()=>{const d=pt(wt,"patients",l),h=await Ut(d);if(o)try{if(h.exists()){const m=h.data();e(m.personalInfo),n(m.medicalInfo)}else console.log("no data")}catch(m){console.error(m)}})()},[]),B("div",{className:"container mx-auto p-6 bg-gray-50 rounded-lg shadow-lg",children:[T("h1",{className:"text-4xl font-semibold text-center text-gray-800 mb-6",children:"Patient Details"}),B("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[B("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Personal Information"}),B("ul",{className:"space-y-2",children:[B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Name:"}),T("span",{className:"text-gray-800",children:(r==null?void 0:r.name)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Age:"}),T("span",{className:"text-gray-800",children:(r==null?void 0:r.age)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Gender:"}),T("span",{className:"text-gray-800",children:(r==null?void 0:r.gender)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Phone:"}),T("span",{className:"text-gray-800",children:(r==null?void 0:r.phone)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Address:"}),T("span",{className:"text-gray-800",children:(r==null?void 0:r.address)||"N/A"})]})]})]}),B("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Medical Information"}),B("ul",{className:"space-y-2",children:[B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Allergies:"}),T("span",{className:"text-gray-800",children:(t==null?void 0:t.allergies)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Chronic Conditions:"}),T("span",{className:"text-gray-800",children:(t==null?void 0:t.chronicConditions)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Medications:"}),T("span",{className:"text-gray-800",children:(t==null?void 0:t.medications)||"N/A"})]}),B("li",{className:"flex justify-between",children:[T("span",{className:"text-gray-600 font-medium",children:"Other Info:"}),T("span",{className:"text-gray-800",children:(t==null?void 0:t.otherInfo)||"N/A"})]})]})]})]})]})},l3=()=>{const r=di(),[e,t]=L.useState(()=>{const b=localStorage.getItem("appoinment");return b?JSON.parse(b):[]}),[n,i]=L.useState(null),[o,l]=L.useState(null),[c,d]=L.useState(""),[h,m]=L.useState(""),[g,y]=L.useState(""),_=new Date().toLocaleDateString(),x=e.filter(b=>{const N=new Date(b.date),P=b.time,R=b.doctorName,O=new Date(_),U=!g||R.toLowerCase()===g.toLowerCase(),H=(!n||N>=new Date(n))&&(!o||N<=new Date(o)),D=(!c||P>=c)&&(!h||P<=h),C=!n&&!o?N.toDateString()===O.toDateString():!0;return U&&H&&D&&C}),S=b=>{localStorage.setItem("appoinmentDetail",JSON.stringify(b)),r("/admin/appoinmentDetail")};return B("div",{className:"bg-gradient-to-r from-blue-50 to-gray-50 min-h-screen p-6",children:[T("h1",{className:"text-4xl font-extrabold text-center text-blue-700 mb-12",children:"Appointments"}),B("div",{className:"container mx-auto mb-10 p-6 flex flex-wrap items-center justify-center gap-6 bg-white shadow-lg rounded-xl",children:[B("div",{className:"flex flex-col w-full md:w-1/3",children:[T("label",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Search Doctor"}),T("input",{value:g,onChange:b=>y(b.target.value),type:"text",placeholder:"Search Doctor",className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),B("div",{className:"flex flex-col w-full md:w-1/3",children:[T("label",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Date Range"}),B("div",{className:"flex gap-4",children:[T(jE,{selected:n,onChange:b=>i(b),selectsStart:!0,startDate:n,endDate:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholderText:"Start Date"}),T(jE,{selected:o,onChange:b=>l(b),selectsEnd:!0,startDate:n,endDate:o,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholderText:"End Date"})]})]}),B("div",{className:"flex flex-col w-full md:w-1/3",children:[T("label",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Time Range"}),B("div",{className:"flex gap-4",children:[B("div",{className:"flex-1",children:[T("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Start Time"}),T("input",{type:"time",value:c,onChange:b=>d(b.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),B("div",{className:"flex-1",children:[T("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"End Time"}),T("input",{type:"time",value:h,onChange:b=>m(b.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]})]}),T("div",{className:"container mx-auto p-4",children:T("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4",children:x.length>0?x.map((b,N)=>B("li",{className:"bg-gradient-to-r from-blue-100 to-blue-300 flex flex-col justify-between items-center shadow-xl rounded-2xl p-6 border border-gray-200 hover:scale-105 transform transition-all duration-300 ease-in-out",children:[B("div",{className:"w-full",children:[B("p",{className:"text-blue-600 font-semibold text-lg mb-4",children:["New appointment"," ",T("br",{}),B("span",{className:"font-medium text-[#111111e4] text-lg",children:["DoctorName: ",b.doctorName]}),T("br",{}),B("span",{className:"font-medium text-[#111111e4] text-lg",children:["PatientName: ",b.name]})]}),B("div",{className:"mb-4 flex flex-wrap gap-8",children:[B("p",{className:"text-gray-600 text-base",children:[T("span",{className:"font-semibold",children:"Date:"})," ",b.date]}),B("p",{className:"text-gray-600 text-base",children:[T("span",{className:"font-semibold",children:"Time:"})," ",b.time]}),B("p",{className:"text-gray-600 text-base",children:[T("span",{className:"font-semibold",children:"Day:"})," ",b.day]})]})]}),T("div",{className:"w-full flex justify-center mt-4",children:T("button",{onClick:()=>S(b),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 ease-in-out transform hover:scale-105",children:"View Details"})})]},N)):T("p",{className:"text-center text-gray-500 text-xl",children:"No appointments found."})})})]})};var CS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$E=X.createContext&&X.createContext(CS),u3=["attr","size","title"];function c3(r,e){if(r==null)return{};var t=d3(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function d3(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Mf(){return Mf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mf.apply(this,arguments)}function YE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Lf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(t),!0).forEach(function(n){f3(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YE(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function f3(r,e,t){return e=h3(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function h3(r){var e=p3(r,"string");return typeof e=="symbol"?e:e+""}function p3(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function IS(r){return r&&r.map((e,t)=>X.createElement(e.tag,Lf({key:t},e.attr),IS(e.child)))}function Th(r){return e=>X.createElement(m3,Mf({attr:Lf({},r.attr)},e),IS(r.child))}function m3(r){var e=t=>{var{attr:n,size:i,title:o}=r,l=c3(r,u3),c=i||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),X.createElement("svg",Mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:d,style:Lf(Lf({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&X.createElement("title",null,o),r.children)};return $E!==void 0?X.createElement($E.Consumer,null,t=>e(t)):e(CS)}function g3(r){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function y3(r){return Th({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function v3(r){return Th({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(r)}function _3(r){return Th({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(r)}const w3=()=>{const[r,e]=L.useState(()=>{const t=localStorage.getItem("appoinmentDetail");return t?JSON.parse(t):{}});return console.log(r),T("div",{className:"bg-gradient-to-tr from-pink-100 via-blue-100 to-purple-100 min-h-screen flex justify-center items-center",children:B("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-2xl p-8",children:[T("h1",{className:"text-4xl font-extrabold text-gray-900 mb-8 text-center",children:"Appointment Details"}),Object.keys(r).length>0?B("div",{className:"bg-gradient-to-tr from-blue-50 via-white to-blue-100 border border-blue-300 rounded-xl p-6 shadow-lg hover:shadow-2xl transition-shadow duration-300",children:[B("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[B("div",{children:[B("p",{className:"text-2xl font-bold text-blue-700",children:["Appointment for ",T("span",{className:"text-gray-800",children:r.name})]}),B("p",{className:"text-lg text-gray-600",children:[r.gender,", ",r.age," years"]})]}),B("div",{className:"text-right sm:text-left text-gray-500",children:[B("p",{className:"flex items-center gap-2",children:[T(g3,{className:"text-blue-500"}),T("strong",{children:"BookingDate"}),r.date]}),B("p",{children:[T("strong",{children:"Appoinment Day: "})," ",r.day]}),B("p",{children:[T("strong",{children:"AppoinmentTime:"})," ",r.time]})]})]}),B("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[B("div",{className:"space-y-3",children:[B("p",{className:"flex items-center gap-2 text-gray-700",children:[T(_3,{className:"text-green-500"}),T("strong",{children:"Doctor:"})," ",r.doctorName]}),B("p",{children:[T("strong",{children:"Reason:"})," ",r.reason]}),B("p",{className:"flex items-center gap-2 text-gray-700",children:[T(y3,{className:"text-red-500"}),T("strong",{children:"Address:"})," ",r.address]})]}),B("div",{className:"space-y-3",children:[B("p",{className:"flex items-center gap-2 text-gray-700",children:[T(v3,{className:"text-blue-500"}),T("strong",{children:"Phone:"})," ",r.phone]}),B("p",{children:[T("strong",{children:"Chronic Conditions:"})," ",r.chronic]}),B("p",{children:[T("strong",{children:"Allergies:"})," ",r.allergies]}),B("p",{children:[T("strong",{children:"Medication:"})," ",r.medication]})]})]})]}):T("p",{className:"text-center text-gray-600",children:"No appointment details found."})]})})},E3=()=>B(s2,{children:[T(pO,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),T(j1,{children:T(xO,{children:B(MA,{children:[T(ft,{path:"/",element:T(g2,{})}),T(ft,{path:"/login",element:T(y2,{})}),B(ft,{path:"/admin/*",element:T(kO,{}),children:[T(ft,{index:!0,element:T(HE,{})}),T(ft,{path:"home",element:T(HE,{})}),T(ft,{path:"Doctor",element:T(HV,{})}),T(ft,{path:"DoctorMangement",element:T(s3,{})}),T(ft,{path:"PatientMangement",element:T(o3,{})}),T(ft,{path:"detail",element:T(a3,{})}),T(ft,{path:"appoinment",element:T(l3,{})}),T(ft,{path:"appoinmentDetail",element:T(w3,{})})]}),B(ft,{path:"/doctor/*",element:T(_2,{}),children:[T(ft,{index:!0,element:T(sE,{})}),T(ft,{path:"home",element:T(sE,{})}),T(ft,{path:"appointment",element:T(wO,{})}),T(ft,{path:"Availability",element:T(EO,{})}),T(ft,{path:"PatientRecords",element:T(bO,{})}),T(ft,{path:"profile",element:T(_O,{})})]}),B(ft,{path:"/patient/*",element:T(E2,{}),children:[T(ft,{index:!0,element:T(iE,{})}),T(ft,{path:"home",element:T(iE,{})}),T(ft,{path:"DoctorDetail",element:T(A2,{})}),T(ft,{path:"appointment",element:T(yO,{})}),T(ft,{path:"profile",element:T(gO,{})})]})]})})})]});z1.createRoot(document.getElementById("root")).render(T(L.StrictMode,{children:T(E3,{})}));
